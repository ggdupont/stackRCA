{"16711573": {"question": {"tags": ["logging", "nginx"], "is_answered": true, "view_count": 20536, "accepted_answer_id": 26125951, "answer_count": 1, "score": 37, "last_activity_date": 1517926169, "creation_date": 1369305026, "question_id": 16711573, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/16711573/nginx-error-log-format-documentation", "title": "NGINX error log format documentation", "body": "<p>I want to parse NGINX error logs. However, there seems to be no documentation at all, concerning the used log format. While the meaning of some fields like the data is pretty obvious, some are not at all. In addition, I cannot be sure that my parser is complete if I do not have a documentation of all the possible fields. Since it seems you can change the access log format, but not that of the error log, I really have no idea how to get the information I need.</p>\n\n<p>Does anyone know of such a documentation?</p>\n"}, "answer": {"is_accepted": true, "score": 65, "last_activity_date": 1517926169, "last_edit_date": 1517926169, "creation_date": 1412095444, "answer_id": 26125951, "question_id": 16711573, "content_license": "CC BY-SA 3.0", "body": "<p>From reading <a href=\"https://github.com/phusion/nginx/blob/master/src/core/ngx_log.c\" rel=\"noreferrer\">src/core/ngx_log.c</a> I guess the general error log format seems to be</p>\n\n<p><code>YYYY/MM/DD HH:MM:SS [LEVEL] PID#TID: *CID MESSAGE</code></p>\n\n<p>With <code>PID</code> and <code>TID</code> being the logging process and thread id and <code>CID</code> a number identifying a (probably proxied) connection, probably a counter.  The <code>*CID</code> part is optional.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "8505678": {"question": {"tags": ["nginx"], "is_answered": true, "view_count": 10067, "accepted_answer_id": 8505821, "answer_count": 1, "score": 11, "last_activity_date": 1493122180, "creation_date": 1323871107, "last_edit_date": 1323873464, "question_id": 8505678, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/8505678/nginx-error-pages-not-working", "title": "Nginx error pages not working", "body": "<p>I have the following vhost entry</p>\n\n<pre><code>    server {\n    listen       80;\n    server_name  example.com www.example.com;\n\n    #access_log   /var/log/nginx/nginx-access.log;\n\n    location  /media/ {\n    root /home/luke/django/solentcms;\n     }\n\n    location  /admin/media/ {\n    root /home/luke/virts/django1.25/lib/python2.7/site-packages/django/contrib/admin/media;\n     }\n\n    location / {\n    proxy_pass   http://127.0.0.1:8001;\n    }\n\n    error_page 404 /404.html;\n    location = /404.html {\n            root    /home/luke/django/solentcms/404;\n            allow   all;\n     }\n\n\n    error_page 500 502 503 504 /500.html;\n    location = /500.html {\n            root    /home/luke/django/solentcms/404;\n            allow   all;\n     }\n\n}\n</code></pre>\n\n<p>However, 404's and 50x errors are still be re-directed to the horrible nginx default pages.Any ideas as to why? This syntax works on one of my other servers.</p>\n\n<p>Cheers.</p>\n"}, "answer": {"is_accepted": true, "score": 21, "last_activity_date": 1493122180, "last_edit_date": 1493122180, "creation_date": 1323871655, "answer_id": 8505821, "question_id": 8505678, "content_license": "CC BY-SA 3.0", "body": "<p>Are the errors coming from your backend?  You may need to add <a href=\"https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_intercept_errors\" rel=\"noreferrer\">proxy_intercept_errors</a> on; alongside your proxy_pass.</p>\n"}, "validated_answer": false, "validated_root_cause": false}, "23443398": {"question": {"tags": ["unix", "nginx", "php"], "is_answered": true, "view_count": 293473, "accepted_answer_id": 23487409, "answer_count": 24, "score": 290, "last_activity_date": 1578792338, "creation_date": 1399114074, "last_edit_date": 1401697559, "question_id": 23443398, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/23443398/nginx-error-connect-to-php5-fpm-sock-failed-13-permission-denied", "title": "nginx error connect to php5-fpm.sock failed (13: Permission denied)", "body": "<p>I update nginx to <strong>1.4.7</strong> and php to <strong>5.5.12</strong>, After that I got the <strong>502 error</strong>. Before I update everything works fine.</p>\n\n<p>nginx-error.log</p>\n\n<pre><code>2014/05/03 13:27:41 [crit] 4202#0: *1 connect() to unix:/var/run/php5-fpm.sock failed (13: Permission denied) while connecting to upstream, client: xx.xxx.xx.xx, server: localhost, request: \"GET / HTTP/1.1\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"xx.xx.xx.xx\"\n</code></pre>\n\n<p>nginx.conf</p>\n\n<pre><code>user  www www;\nworker_processes  1;\n\n        location / {\n            root   /usr/home/user/public_html;\n            index  index.php index.html index.htm;\n        }\n        location ~ [^/]\\.php(/|$) {\n            fastcgi_split_path_info ^(.+?\\.php)(/.*)$;\n            fastcgi_pass unix:/var/run/php5-fpm.sock;\n            fastcgi_index index.php;\n            fastcgi_param  SCRIPT_FILENAME    /usr/home/user/public_html$fastcgi_script_name;\n            include fastcgi_params;\n        }\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 626, "last_activity_date": 1474838512, "last_edit_date": 1474838512, "creation_date": 1399357809, "answer_id": 23487409, "question_id": 23443398, "content_license": "CC BY-SA 3.0", "body": "<p>I had a similar error after php update. PHP fixed a <a href=\"https://bugs.php.net/bug.php?id=67060\" rel=\"noreferrer\">security bug</a> where <code>o</code> had <code>rw</code> permission to the socket file.</p>\n\n<ol>\n<li>Open <code>/etc/php5/fpm/pool.d/www.conf</code> or <code>/etc/php/7.0/fpm/pool.d/www.conf</code>, depending on your version. </li>\n<li><p>Uncomment all permission lines, like:</p>\n\n<pre><code>listen.owner = www-data\nlisten.group = www-data\nlisten.mode = 0660\n</code></pre></li>\n<li><p>Restart fpm - <code>sudo service php5-fpm restart</code> or <code>sudo service php7.0-fpm restart</code></p></li>\n</ol>\n\n<p><strong>Note</strong>: if your webserver runs as user other than www-data, you will need to update the <code>www.conf</code> file accordingly</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "11426087": {"question": {"tags": ["nginx"], "is_answered": true, "view_count": 175683, "closed_date": 1362671613, "accepted_answer_id": 14011446, "answer_count": 3, "score": 122, "last_activity_date": 1454356632, "creation_date": 1341984531, "question_id": 11426087, "link": "https://stackoverflow.com/questions/11426087/nginx-error-conflicting-server-name-ignored", "closed_reason": "off topic", "title": "nginx error &quot;conflicting server name&quot; ignored", "body": "<pre><code>server {\n    #listen   80; ## listen for ipv4; this line is default and implied\n    #listen   [::]:80 default ipv6only=on; ## listen for ipv6\n\n    #root /usr/share/nginx/www;\n\nroot /home/ubuntu/node-login;\n    # Make site accessible from \n    server_name ec2-xx-xx-xxx-xxx.us-west-1.compute.amazonaws.com;\n\nlocation /{\n    proxy_pass http://127.0.0.1:8000/;\n    proxy_redirect off;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>this results in nignx error [warn] conflicting server name \"ec2...\" on 0.0.0.0:80 ignored\nI dont understand, any explanation appreciated. Thanks.</p>\n"}, "answer": {"is_accepted": true, "score": 157, "last_activity_date": 1454356632, "last_edit_date": 1495542395, "creation_date": 1356270353, "answer_id": 14011446, "question_id": 11426087, "content_license": "CC BY-SA 3.0", "body": "<p>I assume that you're running a Linux, and you're using gEdit to edit your files. In the <code>/etc/nginx/sites-enabled</code>, it may have left a temp file e.g. <code>default~</code> (watch the <code>~</code>). </p>\n\n<p>Depending on your editor, the file could be named <code>.save</code> or something like it. Just run <code>$ ls -lah</code> to see which files are unintended to be there and remove them (Thanks <a href=\"https://stackoverflow.com/users/82028/tisch\">@Tisch</a> for this).</p>\n\n<p>Delete this file, and it will solve your problem.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "4365821": {"question": {"tags": ["php", "file-upload", "nginx"], "is_answered": true, "view_count": 11871, "accepted_answer_id": 5081485, "answer_count": 3, "score": 15, "last_activity_date": 1386224648, "creation_date": 1291634271, "last_edit_date": 1291634603, "question_id": 4365821, "content_license": "CC BY-SA 2.5", "link": "https://stackoverflow.com/questions/4365821/nginx-error-413", "title": "Nginx Error 413", "body": "<p>When I try to upload a file to my site, I'm getting the Nginx \"413 Request Entity Too Large\" error, however in my nginx.conf file I've already explicitly stated the max size to be about 250MB at the moment, and changed the max file size in php.ini as well (and yes, I restarted the processes). The error log gives me this:</p>\n\n<blockquote>\n  <p>2010/12/06 04:15:06 [error] 20124#0:\n  *11975 client intended to send too large body: 1144149 bytes, client:\n  60.228.229.238, server: www.x.com, request: \"POST\n  /upload HTTP/1.1\", host:\n  \"x.com\", referrer:\n  \"http://x.com/\"</p>\n</blockquote>\n\n<p>As far as I know, 1144149 bytes isn't 250MB...\nIs there something I'm missing here?</p>\n\n<p>Here's the base Nginx config:</p>\n\n<pre><code>user  nginx;\nworker_processes  8;\nworker_rlimit_nofile 100000;\n\nerror_log   /var/log/nginx/error.log;\n#error_log  /var/log/nginx/error.log  notice;\n#error_log  /var/log/nginx/error.log  info;\n\npid        /var/run/nginx.pid;\n\n\nevents {\n    worker_connections  1024;\n    use epoll;\n}\n\n\nhttp {\n    include       /etc/nginx/mime.types;\n    default_type  application/octet-stream;\n\n    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                      '$status $body_bytes_sent \"$http_referer\" '\n                      '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n    access_log  /var/log/nginx/access.log  main;\n\n    sendfile        on;\n    client_max_body_size 300M;\n    tcp_nopush      on;\n    tcp_nodelay     on;\n    server_tokens   off;\n    gzip            on;\n    gzip_static     on;\n    gzip_comp_level 5;\n    gzip_min_length 1024;\n    keepalive_timeout  300;\n    limit_zone   myzone  $binary_remote_addr  10m;\n\n    # Load config files from the /etc/nginx/conf.d directory\n    include /etc/nginx/sites/*;\n}\n</code></pre>\n\n<p>And the vhost for the site:</p>\n\n<pre><code>server {\n    listen      80;\n    server_name www.x.com x.com;\n\n    access_log  /var/log/nginx/x.com-access.log;\n\n    location / {\n        index   index.html index.htm index.php;\n        root    /var/www/x.com;\n\n        if (!-e $request_filename) {\n            rewrite ^/([a-z,0-9]+)$ /$1.php last;\n            rewrite ^/file/(.*)$ /file.php?file=$1;\n        }\n\n        location ~ /engine/.*\\.php$ {\n            return 404;\n        }\n\n        location ~ ^/([a-z,0-9]+)\\.php$ {\n            fastcgi_pass    127.0.0.1:9000;\n            fastcgi_index   index.php;\n            fastcgi_param   SCRIPT_FILENAME $document_root$fastcgi_script_name;\n            include     fastcgi_params;\n        }\n    }\n}\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 16, "last_activity_date": 1298395086, "creation_date": 1298395086, "answer_id": 5081485, "question_id": 4365821, "content_license": "CC BY-SA 2.5", "body": "<p>Not knowing the version of your nginx build and what modules it was built with makes this tough, but try the following:</p>\n\n<ol>\n<li><p>Copy your client_max_body_size 300M; line into the location / { } part of your vhost config. I'm not sure if it's overriding the default (which is 1 MB) properly.</p></li>\n<li><p>Are you using <a href=\"http://www.grid.net.ru/nginx/upload.en.html\">nginx_upload_module</a>? If so make sure you have the upload_max_file_size 300MB; line in your config as well.</p></li>\n</ol>\n"}, "validated_answer": true, "validated_root_cause": false}, "7850163": {"question": {"tags": ["linux", "mod-rewrite", "nginx", "passenger"], "is_answered": true, "view_count": 5476, "accepted_answer_id": 7850764, "answer_count": 1, "score": 0, "last_activity_date": 1319206788, "creation_date": 1319204074, "question_id": 7850163, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/7850163/nginx-error-unknown-directive-rewrite", "title": "Nginx Error: unknown directive rewrite", "body": "<p>I have a rewrite in my nginx.conf:</p>\n\n<pre><code>server {\n \u00a0server_name example.com;\n \u00a0rewrite ^/(.*) http://www.example.com/$1 permanent;\n}\n</code></pre>\n\n<p>But return this error: <strong>unknown directive \"rewrite\"</strong>.</p>\n\n<p>PS: I've installed nginx with passenger.</p>\n\n<p>Can you help me?</p>\n"}, "answer": {"is_accepted": true, "score": 5, "last_activity_date": 1319206788, "creation_date": 1319206788, "answer_id": 7850764, "question_id": 7850163, "content_license": "CC BY-SA 3.0", "body": "<p>Check the output of nginx -V.  If you see the option --without-http_rewrite_module, then you probably didn't have the pcre development package installed when you build nginx, and so it disabled the rewrite module.  If that's the case, you'll need to install the pcre devel packages (how to do this depends on your distro) and rebuild nginx.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "21820444": {"question": {"tags": ["nginx", "flask", "uwsgi", "ansible-playbook"], "is_answered": true, "view_count": 55719, "accepted_answer_id": 22640924, "answer_count": 6, "score": 41, "last_activity_date": 1564388675, "creation_date": 1392609353, "last_edit_date": 1392667470, "question_id": 21820444, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/21820444/nginx-error-13-permission-denied-while-connecting-to-upstream", "title": "Nginx error: (13: Permission denied) while connecting to upstream", "body": "<p>I am getting this error in my <code>nginx-error.log</code> file:</p>\n\n<pre><code>2014/02/17 03:42:20 [crit] 5455#0: *1 connect() to unix:/tmp/uwsgi.sock failed (13: Permission denied) while connecting to upstream, client: xx.xx.x.xxx, server: localhost, request: \"GET /users HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/uwsgi.sock:\", host: \"EC2.amazonaws.com\"\n</code></pre>\n\n<p>The browser also shows a 502 Bad Gateway Error. The output of a <code>curl</code> is the same, Bad Gateway html</p>\n\n<p>I've tried to fix it by changing permissions for <code>/tmp/uwsgi.sock</code> to 777. That didn't work. I also added myself to the <code>www-data</code> group (a couple questions that looked similar suggested that). Also, no dice. </p>\n\n<p>Here is my <code>nginx.conf</code> file:</p>\n\n<p><strong>nginx.conf</strong></p>\n\n<pre><code>worker_processes 1;\nworker_rlimit_nofile 8192;\n\nevents {\n  worker_connections  3000; \n}\n\nerror_log  /var/log/nginx/error.log warn;\npid        /var/run/nginx.pid;\n\nhttp {\n    include       /etc/nginx/mime.types;\n    default_type  application/octet-stream;\n\n    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                  '$status $body_bytes_sent \"$http_referer\" '\n                  '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n    access_log  /var/log/nginx/access.log  main;\n\n    sendfile        on; \n    #tcp_nopush     on; \n\n    keepalive_timeout  65; \n\n    #gzip  on; \n\n    include /etc/nginx/conf.d/*.conf;\n    include /etc/nginx/sites-enabled/*;\n}\n</code></pre>\n\n<p>I am running a Flask application with Nginsx and Uwsgi, just to be thorough in my explanation. If anyone has any ideas, I would really appreciate them.</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have been asked to provide my uwsgi config file. So, I never personally wrote my nginx or my uwsgi file. I followed the guide <a href=\"http://mattupstate.com/python/devops/2012/08/07/flask-wsgi-application-deployment-with-ubuntu-ansible-nginx-supervisor-and-uwsgi.html\" rel=\"noreferrer\">here</a> which sets everything up using ansible-playbook. The <code>nginx.conf</code> file was generated automatically, but there was nothing in <code>/etc/uwsgi</code> except a <code>README</code> file in both <code>apps-enabled</code> and <code>apps-available</code> folders. Do I need to create my own config file for uwsgi? I was under the impression that ansible took care of all of those things. </p>\n\n<p>I believe that <code>ansible-playbook</code> figured out my uwsgi configuration since when I run this command</p>\n\n<pre><code>uwsgi -s /tmp/uwsgi.sock -w my_app:app\n</code></pre>\n\n<p>it starts up and outputs this:</p>\n\n<pre><code>*** Starting uWSGI 2.0.1 (64bit) on [Mon Feb 17 20:03:08 2014] ***\ncompiled with version: 4.7.3 on 10 February 2014 18:26:16\nos: Linux-3.11.0-15-generic #25-Ubuntu SMP Thu Jan 30 17:22:01 UTC 2014\nnodename: ip-10-9-xxx-xxx\nmachine: x86_64\nclock source: unix\ndetected number of CPU cores: 1\ncurrent working directory: /home/username/Project\ndetected binary path: /usr/local/bin/uwsgi\n!!! no internal routing support, rebuild with pcre support !!!\n*** WARNING: you are running uWSGI without its master process manager ***\nyour processes number limit is 4548\nyour memory page size is 4096 bytes\ndetected max file descriptor number: 1024\nlock engine: pthread robust mutexes\nthunder lock: disabled (you can enable it with --thunder-lock)\nuwsgi socket 0 bound to UNIX address /tmp/uwsgi.sock fd 3\nPython version: 2.7.5+ (default, Sep 19 2013, 13:52:09)  [GCC 4.8.1]\n*** Python threads support is disabled. You can enable it with --enable-threads ***\nPython main interpreter initialized at 0x1f60260\nyour server socket listen backlog is limited to 100 connections\nyour mercy for graceful operations on workers is 60 seconds\nmapped 72760 bytes (71 KB) for 1 cores\n*** Operational MODE: single process ***\nWSGI app 0 (mountpoint='') ready in 3 seconds on interpreter 0x1f60260 pid: 26790 (default app)\n*** uWSGI is running in multiple interpreter mode ***\nspawned uWSGI worker 1 (and the only) (pid: 26790, cores: 1)\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 50, "last_activity_date": 1444063408, "last_edit_date": 1444063408, "creation_date": 1395765412, "answer_id": 22640924, "question_id": 21820444, "content_license": "CC BY-SA 3.0", "body": "<p>The permission issue occurs because uwsgi resets the ownership and permissions of /tmp/uwsgi.sock to 755 and the user running uwsgi every time uwsgi starts.</p>\n\n<p>The correct way to solve the problem is to make uwsgi change the ownership and/or permission of /tmp/uwsgi.sock such that nginx can write to this socket. Therefore, there are three possible solutions.</p>\n\n<ol>\n<li><p>Run uwsgi as the www-data user so that this user owns the socket file created by it.</p>\n\n<pre><code>uwsgi -s /tmp/uwsgi.sock -w my_app:app --uid www-data --gid www-data\n</code></pre></li>\n<li><p>Change the ownership of the socket file so that www-data owns it.</p>\n\n<pre><code>uwsgi -s /tmp/uwsgi.sock -w my_app:app --chown-socket=www-data:www-data\n</code></pre></li>\n<li><p>Change the permissions of the socket file, so that www-data can write to it.</p>\n\n<pre><code>uwsgi -s /tmp/uwsgi.sock -w my_app:app --chmod-socket=666\n</code></pre></li>\n</ol>\n\n<p>I prefer the first approach because it does not leave uwsgi running as root.</p>\n\n<p>The first two commands need to be run as root user. The third command does not need to be run as root user.</p>\n\n<p>The first command leaves uwsgi running as www-data user. The second and third commands leave uwsgi running as the actual user that ran the command.</p>\n\n<p>The first and second command allow only www-data user to write to the socket. The third command allows any user to write to the socket.</p>\n\n<p>I prefer the first approach because it does not leave uwsgi running as root user and it does not make the socket file world-writeable .</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "46630874": {"question": {"tags": ["mysql", "ruby-on-rails", "nginx", "capistrano", "passenger"], "is_answered": true, "view_count": 178, "accepted_answer_id": 46756011, "answer_count": 1, "score": 0, "last_activity_date": 1508076993, "creation_date": 1507464041, "last_edit_date": 1507489063, "question_id": 46630874, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/46630874/nginx-error-message-while-deploying-rails-app", "title": "nginx error message while deploying rails app", "body": "<p>It is my first time to deploy an application.\nI am working on a ruby on rails app using latest version, and following that tutorial: <a href=\"https://gorails.com/deploy/ubuntu/16.04\" rel=\"nofollow noreferrer\">Deploy Ruby On Rails on Ubuntu 16.04 Xenial Xerus</a></p>\n\n<p>everything was going right,when restarting my application using <code>touch my_app_name/current/tmp/restart.txt</code>, I get the attached nginx error</p>\n\n<p><img src=\"https://i.stack.imgur.com/IRxn8.png\" alt=\"nginx error\"></p>\n\n<p>I tried to pick the error log from nginx using:</p>\n\n<pre><code>sudo tail -n 20 /var/log/nginx/error.log\n</code></pre>\n\n<p>and got the following:</p>\n\n<pre><code>[ N 2017-10-08 10:02:46.2189 29260/T6 Ser/Server.h:531 ]: [ServerThr.1] Shutdown finished\n[ N 2017-10-08 10:02:46.2192 29260/T1 age/Cor/CoreMain.cpp:917 ]: Checking whether to disconnect long-running connections for process 30514, application /home/deploy/myapp/current/public (production)\n\n[ N 2017-10-08 10:02:46.2274 29266/T3 age/Ust/UstRouterMain.cpp:430 ]: Signal received. Gracefully shutting down... (send signal 2 more time(s) to force shutdown)\n[ N 2017-10-08 10:02:46.2279 29266/T1 age/Ust/UstRouterMain.cpp:500 ]: Received command to shutdown gracefully. Waiting until all clients have disconnected...\n[ N 2017-10-08 10:02:46.2281 29266/T5 Ser/Server.h:886 ]: [UstRouterApiServer] Freed 0 spare client objects\n[ N 2017-10-08 10:02:46.2282 29266/T5 Ser/Server.h:531 ]: [UstRouterApiServer] Shutdown finished\n[ N 2017-10-08 10:02:46.2313 29266/T3 Ser/Server.h:531 ]: [UstRouter] Shutdown finished\n[ N 2017-10-08 10:02:46.3166 29266/T1 age/Ust/UstRouterMain.cpp:531 ]: Passenger UstRouter shutdown finished\n[ N 2017-10-08 10:02:46.7083 29260/T1 age/Cor/CoreMain.cpp:1068 ]: Passenger core shutdown finished\n2017/10/08 10:02:47 [info] 30632#30632: Using 32768KiB of shared memory for nchan in /etc/nginx/nginx.conf:71\n[ N 2017-10-08 10:02:47.8959 30639/T1 age/Wat/WatchdogMain.cpp:1283 ]: Starting Passenger watchdog...\n[ N 2017-10-08 10:02:47.9446 30642/T1 age/Cor/CoreMain.cpp:1083 ]: Starting Passenger core...\n[ N 2017-10-08 10:02:47.9459 30642/T1 age/Cor/CoreMain.cpp:248 ]: Passenger core running in multi-application mode.\n[ N 2017-10-08 10:02:47.9815 30642/T1 age/Cor/CoreMain.cpp:830 ]: Passenger core online, PID 30642\n[ N 2017-10-08 10:02:48.0532 30648/T1 age/Ust/UstRouterMain.cpp:537 ]: Starting Passenger UstRouter...\n[ N 2017-10-08 10:02:48.0571 30648/T1 age/Ust/UstRouterMain.cpp:350 ]: Passenger UstRouter online, PID 30648\n[ N 2017-10-08 10:02:50.4687 30642/T8 age/Cor/SecurityUpdateChecker.h:374 ]: Security update check: no update found (next check in 24 hours)\nApp 30667 stdout: \nApp 30737 stdout: \n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1508076993, "creation_date": 1508076993, "answer_id": 46756011, "question_id": 46630874, "content_license": "CC BY-SA 3.0", "body": "<p>@dstull I do not know how to thank you brother, You got the point.It was an issue with my rails app. I finished my app in the development level and I was using a theme (bootstrap theme that I bought). My app was trying to access method with nil values, since there is nothing initialized yet.</p>\n"}, "validated_answer": false, "validated_root_cause": true}, "29558398": {"question": {"tags": ["nginx", "lua", "valgrind", "centos7"], "is_answered": true, "view_count": 870, "accepted_answer_id": 38699819, "answer_count": 1, "score": 1, "last_activity_date": 1481647477, "creation_date": 1428659601, "question_id": 29558398, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/29558398/nginx-error-failed-to-initialize-lua-vm", "title": "nginx: [error] failed to initialize Lua VM", "body": "<p>I am trying to check memory leaks in my modules of nginx with valgrind.I am trying the following command</p>\n\n<p>valgrind --leak-check=full --tool=memcheck --show-reachable=yes --log-file=\"/tmp/val.out\" -v /usr/local/nginx -c /usr/local/conf/nginx.conf</p>\n\n<p>I am getting the error <strong>nginx: [error] failed to initialize Lua VM</strong></p>\n\n<p>I am using nginx-1.6.2 on Cent OS 7 wit lua 0.9.15.</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1481647477, "last_edit_date": 1481647477, "creation_date": 1470057059, "answer_id": 38699819, "question_id": 29558398, "content_license": "CC BY-SA 3.0", "body": "<p>I had the same problem and it was fixed by upgrading Valgrind and adding some additional flags to LuaJIT compilation.</p>\n\n<p>Look into:</p>\n\n<ul>\n<li><p><a href=\"https://github.com/openresty/lua-nginx-module/issues/681\" rel=\"nofollow noreferrer\">https://github.com/openresty/lua-nginx-module/issues/681</a><br>\nSpecifically:</p>\n\n<ul>\n<li><blockquote>\n  <p>==52538== Using Valgrind-3.10.0 and LibVEX;</p>\n</blockquote></li>\n<li><blockquote>\n  <p>Your version of valgrind does not support the MAP_32BIT flag required by LuaJIT's own allocator. You need either an older version of valgrind (like 3.8.1) or a newer version (like 3.11.0).</p>\n</blockquote></li>\n</ul></li>\n<li><p><a href=\"https://groups.google.com/forum/#!topic/openresty/riEO_YXTwz4\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!topic/openresty/riEO_YXTwz4</a><br>\nSpecifically (using Google translate):</p>\n\n<blockquote>\n  <p>This is because LuaJIT own memory allocator MAP_32BIT use this flag in Linux x86_64 above to call mmap () \n  System call. And Valgrind 3.9.0 is no longer supported from the mmap MAP_32BIT this flag, it will make LuaJIT \n  Initialization failed.</p>\n  \n  <p>The solution is to re-compile a special version of LuaJIT, force it to use a dispenser system, using a command like this at compile time LuaJIT: </p>\n  \n  <p>make CCDEBUG=-g Q= XCFLAGS='-DLUAJIT_USE_VALGRIND -DLUAJIT_USE_SYSMALLOC' </p>\n  \n  <p>Here the most important thing is LUAJIT_USE_SYSMALLOC this macro. Of course, for best results, you should also specify the following C compiler options: </p>\n  \n  <p>-DLUA_USE_APICHECK -DLUA_USE_ASSERT </p>\n</blockquote></li>\n</ul>\n"}, "validated_answer": true, "validated_root_cause": true}, "38899468": {"question": {"tags": ["apache", "nginx", "amazon-ec2"], "is_answered": true, "view_count": 321, "accepted_answer_id": 38969923, "answer_count": 1, "score": 0, "last_activity_date": 1471335818, "creation_date": 1470926439, "question_id": 38899468, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/38899468/nginx-error-log-invalid-local-address", "title": "Nginx error log - invalid local address", "body": "<p>I have a Amazon EC2 Server setup with Nginx 1.8.1 on port 80 and Apache 2.4 on port 8080.</p>\n\n<p>My Nginx error log is filled with invalid local address \"www.domain.com:80\"</p>\n\n<p>Can someone advise how to fix this error?</p>\n\n<p>My domain.com under /etc/nginx/sites-enabled is as below</p>\n\n<pre><code>server {\nlisten 80;\nserver_name domain.com www.domain.com;\nroot /home/domain/public_html/;\nindex index.php index.htm index.html;\n\nlocation / {\n            #try_files $uri $uri/ /index.php;\n            #try_files $uri $uri/ $uri.php;\n            try_files $uri $uri/ /index.php?/$request_uri;\n}\n\nlocation ~ \\.php$ {\n    proxy_bind $host:80;\n    proxy_pass http://www.domain.com:8080;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    add_header X-Cache-Status $upstream_cache_status;\n\n    # Cache configuration\n    proxy_cache my-cache;\n    proxy_cache_valid 10s;\n    proxy_no_cache $cookie_PHPSESSID;\n    proxy_cache_bypass $cookie_PHPSESSID;\n    proxy_cache_key \"$scheme$host$request_uri\";\n}\n\n    # Disable Cache for the file type html, json\n    location ~* .(?:manifest|appcache|html?|xml|json)$ {\n            expires -1;\n    }\n\n    # Enable Cache the file 30 days\n    location ~* .(jpg|png|gif|jpeg|css|mp3|wav|swf|mov|doc|pdf|xls|ppt|docx|pptx|xlsx)$ {\n            proxy_cache_valid 200 120m;\n            expires 30d;\n            proxy_cache my-cache;\n            #access_log off;\n            add_header X-Cache-Status $upstream_cache_status;\n    }\n\nlocation ~ /\\. {\n    access_log off;\n    log_not_found off;\n    deny all;\n}\n</code></pre>\n\n<p>}   </p>\n\n<p>My domain.com under Apache Virtual Host is as below</p>\n\n<pre><code>&lt;VirtualHost 172.31.xx.xxx:8080&gt;\n    DocumentRoot /home/domain/public_html/\n    ServerName domaine.com\n    ServerAlias www.domain.com n1.domain.com\n    ErrorLog /home/domain/logs/error_log\n    CustomLog /home/domain/logs/access_log combined\n    &lt;Directory /home/domain/public_html&gt;\n            Options -Includes -ExecCGI\n            AllowOverride All\n    &lt;/Directory&gt;\n</code></pre>\n\n<p></p>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1471335818, "creation_date": 1471335818, "answer_id": 38969923, "question_id": 38899468, "content_license": "CC BY-SA 3.0", "body": "<p>Is there any particular reason as to why you have the <code>proxy_bind $host:80;</code> directive? If not, remove it and it should stop the error (note that the address that you're binding to must be local, if you chose to go that route).</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "34591761": {"question": {"tags": ["nginx", "otrs"], "is_answered": true, "view_count": 466, "accepted_answer_id": 34692127, "answer_count": 2, "score": 1, "last_activity_date": 1452334012, "creation_date": 1451912374, "question_id": 34591761, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/34591761/nginx-error-while-loading-webpage", "title": "&quot;nginx error!&quot; while loading webpage", "body": "<p>Background: I've installed and currently maintaining a OTRS v4.0 system with nginx as web server. The system was running until I added ssl port as well in nginx.conf and since then, I'm trying to connect to the webpage </p>\n\n<blockquote>\n  <p><a href=\"http://localhost/otrs/index.pl\" rel=\"nofollow\">http://localhost/otrs/index.pl</a></p>\n</blockquote>\n\n<p>but is not responsive and displaying <em>nginx error! The Page you are looking for is not found.</em></p>\n\n<p>I removed the ssl sections from the nginx.conf file but still I'm not able to get back my previous state of web page. </p>\n\n<ul>\n<li>In the error.log file it displays that it is not able to find the index.pl file <em>open() \"/usr/share/nginx/html/otrs/index.pl\" failed (2: No such file or directory)</em>\nThis message is logged whenever I hit the URL(<a href=\"http://localhost/otrs/index.pl\" rel=\"nofollow\">http://localhost/otrs/index.pl</a>).</li>\n<li>In the otrs.log file it just logs in the PID.</li>\n</ul>\n\n<p>Is there any way-out without having to re-install the otrs again?  or any other log files I've missed to check</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code># For more information on configuration, see:\r\n#   * Official English Documentation: http://nginx.org/en/docs/\r\n#   * Official Russian Documentation: http://nginx.org/ru/docs/\r\n\r\nuser nginx;\r\nworker_processes auto;\r\nerror_log /var/log/nginx/error.log;\r\npid /run/nginx.pid;\r\n\r\nevents {\r\n    worker_connections 1024;\r\n    #debug_connection 10.0.2.15;\r\n}\r\n\r\nhttp {\r\n    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\r\n                      '$status $body_bytes_sent \"$http_referer\" '\r\n                      '\"$http_user_agent\" \"$http_x_forwarded_for\"';\r\n\r\n    access_log  /var/log/nginx/access.log  main;\r\n\r\n    sendfile            on;\r\n    tcp_nopush          on;\r\n    tcp_nodelay         on;\r\n    keepalive_timeout   65;\r\n    types_hash_max_size 2048;\r\n\r\n    include             /etc/nginx/mime.types;\r\n    default_type        application/octet-stream;\r\n\r\n    # Load modular configuration files from the /etc/nginx/conf.d directory.\r\n    # See http://nginx.org/en/docs/ngx_core_module.html#include\r\n    # for more information.\r\n    include /etc/nginx/conf.d/*.conf;\r\n\r\n    server {\r\n        listen       80 default_server;\r\n        #listen       80;\r\n        server_name  server.unixmen.local;\r\n        root         /usr/share/nginx/html;\r\n\r\n        # Load configuration files for the default server block.\r\n        include /etc/nginx/default.d/*.conf;\r\n\r\n        location / {\r\n        }\r\n\r\n        error_page 404 /404.html;\r\n            location = /40x.html {\r\n        }\r\n\r\n        error_page 500 502 503 504 /50x.html;\r\n            location = /50x.html {\r\n        }\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>?</p>\n\n<p>Thanks in advance!</p>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1452334012, "creation_date": 1452334012, "answer_id": 34692127, "question_id": 34591761, "content_license": "CC BY-SA 3.0", "body": "<p>Thanks for your replies. I got the solution!\nPerhaps, it was a silly mistake from my end ;)</p>\n\n<p>First of all, I forgot to mention in the question that I also ran another web server on the same machine, Apache. At the initial stage, both the servers were configured at same port ->80. So, the OTRS was running on Apache instead of nginx(I'm using this as well for another purpose!). Later on, to avoid the confusion i changed the port in Apache configuration from 80 to 8080 and right from this moment the server stopped serving the OTRS.\nSo now, when I use <a href=\"http://localhost:8080/otrs/index.pl\" rel=\"nofollow\">http://localhost:8080/otrs/index.pl</a> it's working correctly.</p>\n\n<p>Next time, I would take enough care to change server configuration wisely while working on multiple web servers.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "26815541": {"question": {"tags": ["javascript", "mysql", "node.js", "connection", "docker"], "is_answered": true, "view_count": 1090, "accepted_answer_id": 26816937, "answer_count": 1, "score": 0, "last_activity_date": 1415448317, "creation_date": 1415438163, "last_edit_date": 1415447290, "question_id": 26815541, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/26815541/docker-container-nodejs-connection-to-external-mysql-fail", "title": "Docker container nodejs connection to external mysql fail", "body": "<p>My nodejs application is connecting to mysql externally, it is all good if i start interactively by\n<code>docker run -p 49160:8080 -t -i &lt;image&gt;</code>, and run <code>nodejs /src/server.js</code> manually.\nHowever, when i start with daemon <code>docker run -p 49160:8080 -d &lt;image&gt;</code>, it will fail to connect to the external mysql.</p>\n\n<p>Tried <code>docker start &lt;container&gt;</code> and then <code>docker exec &lt;container&gt; nodejs /src/server.js</code>, same error.</p>\n\n<p>Tried\n<code>docker start &lt;container&gt;</code>,<code>docker attach &lt;container&gt;</code> ,run <code>nodejs /src/server.js</code>, then it works.</p>\n\n<p>Dockerfile:</p>\n\n<pre><code>FROM ubuntu\n\nCOPY . /src\n\nRUN apt-get install nodejs\nRUN apt-get install npm\nRUN cd /src; npm install\nEXPOSE 8080\nCMD [\"nodejs\",\"/src/server.js\"]\n</code></pre>\n\n<p>/src/server.js:</p>\n\n<pre><code>var express = require('express');\nvar mysql = require('mysql'),\nmyconnection = require('express-myconnection');\n\n...\n\napp.use(myconnection(mysql, {\n  ...\n},'request'));\n\n...\n\napp.get('/',function(req,res) {\n   req.getConnection(function(err,connection) {\n      if(err) \n          // giving out err here, fail to connect\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>i found out that the cause was actually <code>nodejs /src/server.js</code> and <code>cd /src; nodejs server.js</code> where the former will give me the connection error and the latter works ok</p>\n\n<p>so <code>docker run -p 49160:8080 -d &lt;image&gt; /bin/sh -c \"cd /src; nodejs server.js\"</code> actually works</p>\n\n<p>Mark ,do you have any idea ?? still need output of <code>ifconfig</code>? thx</p>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1415448317, "creation_date": 1415448317, "answer_id": 26816937, "question_id": 26815541, "content_license": "CC BY-SA 3.0", "body": "<p>Ok, so it seems that the problem is the directory from which you launch your command. Let's give a try to adding this in your Dockerfile before the CMD command:</p>\n\n<pre><code> WORKDIR /src\n</code></pre>\n\n<p>PS no thanks, <code>ifconfig</code> is no more needed.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "14165115": {"question": {"tags": ["mysql", "asp.net-mvc", "entity-framework"], "is_answered": true, "view_count": 1275, "accepted_answer_id": 14165911, "answer_count": 1, "score": 0, "last_activity_date": 1360277276, "creation_date": 1357334223, "last_edit_date": 1360277276, "question_id": 14165115, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/14165115/entity-framework-and-mysql-fail-to-insert", "title": "Entity Framework and Mysql fail to insert", "body": "<p>I'm trying to insert row to mySql db and I'm getting this error.</p>\n\n<pre><code>   You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(SELECT\n `groups_users`.`groupID`, \n `groups_u' at line 1\n</code></pre>\n\n<p>The Code is </p>\n\n<pre><code>        groups_users ug = new groups_users();\n        ug.groupID = 1;\n        ug.userID = 1;\n        ug.isDeleted = false;\n        ug.created = DateTime.Now;\n        ctx.groups_users.Add(ug);\n\n        ctx.SaveChanges();\n</code></pre>\n\n<p>Thanks</p>\n"}, "answer": {"is_accepted": true, "score": 3, "last_activity_date": 1357337921, "creation_date": 1357337921, "answer_id": 14165911, "question_id": 14165115, "content_license": "CC BY-SA 3.0", "body": "<p>Fixed it. \nHad issue in edmx file. all fields were set to be entity keys.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "9172757": {"question": {"tags": ["php", "mysql", "sql"], "is_answered": true, "view_count": 101, "accepted_answer_id": 9172800, "answer_count": 1, "score": 0, "last_activity_date": 1328611939, "creation_date": 1328601545, "last_edit_date": 1328611939, "question_id": 9172757, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/9172757/php-pdo-statement-mysql-fail-on-query", "title": "PHP PDO Statement MySQL fail on query", "body": "<p>I am having difficulty updating a table via PHP.\nUsing MySQL prompt or a client app the SQL command works fine, yet when I attempt it in PHP using PDO it fails.</p>\n\n<p>I have taken out the '<strong>desc</strong>' field and the PHP script works. I think its getting confused with <em>ASC/DES</em></p>\n\n<pre><code>$conn = new PDO( DB_DSN, DB_USERNAME, DB_PASSWORD );\n$sql = \"UPDATE Menu SET name=:name, desc=:desc WHERE id = :id\"\n\n$st = $conn-&gt;prepare ( $sql );\n\n\n$st-&gt;bindValue( \":id\",  $this-&gt;id, PDO::PARAM_INT );\n$st-&gt;bindValue( \":name\", $this-&gt;name, PDO::PARAM_STR );\n$st-&gt;bindValue( \":desc\", $this-&gt;name,  PDO::PARAM_STR );\n\n\n$b = $st-&gt;execute();\n</code></pre>\n\n<p>Im pretty sure its just confused from field name to SQL language construct but is there a way of telling the PDO object/prepared statement that desc is a field name ?</p>\n\n<p>i.e something linke  </p>\n\n<pre><code>(this does not work by the way)\n    $sql = \"UPDATE Menu SET name=:name, \\'desc\\'=:desc WHERE id=:id\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 2, "last_activity_date": 1328602290, "last_edit_date": 1328602290, "creation_date": 1328601764, "answer_id": 9172800, "question_id": 9172757, "content_license": "CC BY-SA 3.0", "body": "<p>You have <code>id = 1</code>, not <code>id = :id</code></p>\n\n<p>You can't bind to a parameter that doesn't exist.</p>\n\n<p>Also <code>DESC</code> is a reserved word, you cannot use it without quoting it with backticks.</p>\n\n<pre><code>$sql = \"UPDATE `Menu` SET `name`=:name, `desc`=:desc WHERE `id`=:id\"\n</code></pre>\n"}, "validated_answer": true, "validated_root_cause": true}, "9071447": {"question": {"tags": ["mysql"], "is_answered": true, "view_count": 1398, "accepted_answer_id": 9071512, "answer_count": 1, "score": 3, "last_activity_date": 1327961178, "creation_date": 1327960843, "question_id": 9071447, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/9071447/mysql-fail-to-create-stored-procedure", "title": "MySQL. Fail to create stored procedure", "body": "<p>I'm trying to create my first mysql stored procedure, but script doesn't work due to some syntax error. This question can seem easy to guys, who are familiar with mysql database.</p>\n\n<p>Table creation script:</p>\n\n<pre><code>CREATE TABLE `companies` (\n`id` INT(10) NOT NULL AUTO_INCREMENT,\n`name` TINYTEXT NOT NULL,\n`full_name` TINYTEXT NULL,\n`region_id` INT(11) NULL DEFAULT NULL,\n`address` TINYTEXT NULL,\n`legal_address` TINYTEXT NULL,\n`main_phone` TINYTEXT NULL,\n`inn` TINYTEXT NULL,\n`bank` TINYTEXT NULL,\n`bic` TINYTEXT NULL,\n`bank_account` TINYTEXT NULL,\nPRIMARY KEY (`id`),\nUNIQUE INDEX `U_COMPANY_MAIN_PHONE` (`main_phone`(100)),\nINDEX `FK_COMPANY_REGION_ID` (`region_id`),\nCONSTRAINT `FK_COMPANY_REGION_ID` FOREIGN KEY (`region_id`) REFERENCES `regions`  (`id`) \n)\n</code></pre>\n\n<p>Stored procedure code is:</p>\n\n<pre><code>create procedure add_company(\nin p_name TINYTEXT,\nin p_full_name TINYTEXT,\nin p_region_id INT,\nin p_address TINYTEXT,\nin p_legal_address TINYTEXT,\nin p_main_phone TINYTEXT,\nin p_inn TINYTEXT,\nin p_bank TINYTEXT,\nin p_bic TINYTEXT,\nin p_bank_account TINYTEXT\n)\nbegin\ninsert into companies(\n    name,\n    full_name,\n    region_id,\n    address,\n    legal_address,\n    main_phone,\n    inn,\n    bank,\n    bic,\n    bank_account\n)\nvalues (\n    p_name,\n    p_full_name,\n    p_region_id,\n    p_address,\n    p_legal_address,\n    p_main_phone,\n    p_inn,\n    p_bank,\n    p_bic,\n    p_bank_account\n);\nend;\n</code></pre>\n\n<p>Does anybody know where is the mistake?</p>\n"}, "answer": {"is_accepted": true, "score": 8, "last_activity_date": 1327961178, "creation_date": 1327961178, "answer_id": 9071512, "question_id": 9071447, "content_license": "CC BY-SA 3.0", "body": "<p>Because you are using a semi-colon ( ; ) as a delimiter within the body of the procedure, the outer CREATE command must use a different delimiter.</p>\n\n<pre><code>DELIMITER $$\nCREATE PROCEDURE add_company(\n...\n)$$\nDELIMITER ;\n</code></pre>\n"}, "validated_answer": true, "validated_root_cause": true}, "43137930": {"question": {"tags": ["php", "mysql", "connection", "lamp"], "is_answered": true, "view_count": 7449, "accepted_answer_id": 43138630, "answer_count": 1, "score": 1, "last_activity_date": 1490956696, "creation_date": 1490954569, "question_id": 43137930, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/43137930/connection-failed-connection-refused-mysql-lamp", "title": "Connection failed: Connection refused mysql (LAMP)", "body": "<p>When I try to connect to mysql it refuses my script. I have mysql installed on ubuntu 16.10 (LAMP).</p>\n\n<p>When I run this:</p>\n\n<pre><code>&lt;?php\n$servername = \"ip\";\n$username = \"user\";\n$password = \"pw\";\n\n// Create connection\n$conn = new mysqli($servername, $username, $password);\n\n// Check connection\nif ($conn-&gt;connect_error) {\n    die(\"Connection failed: \" . $conn-&gt;connect_error);\n} \necho \"Connected successfully\";\n?&gt;\n</code></pre>\n\n<p>It shows: </p>\n\n<blockquote>\n  <p>Connection failed: Connection refused mysql (LAMP)</p>\n</blockquote>\n\n<p>I tried to change the bind-address to 0.0.0.0, then it showed:</p>\n\n<blockquote>\n  <p>Connection failed: Host 'webserver1' is not allowed to connect to this MySQL server</p>\n</blockquote>\n\n<p>I tried to comment (#) the bind-address. That didn't work either.</p>\n\n<p>I am running the scripts on a client with another ip-range/subnet then the mysql-server. When I run phpmyadmin on the client I have no problem.</p>\n"}, "answer": {"is_accepted": true, "score": 2, "last_activity_date": 1490956696, "creation_date": 1490956696, "answer_id": 43138630, "question_id": 43137930, "content_license": "CC BY-SA 3.0", "body": "<p>Its possible to have a security precaution. You could try adding a new administrator account in mysql.</p>\n\n<pre><code>mysql&gt; CREATE USER 'yourUser'@'localhost' IDENTIFIED BY 'some_pass';\nmysql&gt; GRANT ALL PRIVILEGES ON *.* TO 'yourUser'@'localhost'\n    -&gt;     WITH GRANT OPTION;\nmysql&gt; CREATE USER 'yourUser'@'%' IDENTIFIED BY 'some_pass';\nmysql&gt; GRANT ALL PRIVILEGES ON *.* TO 'yourUser'@'%'\n    -&gt;     WITH GRANT OPTION;\n</code></pre>\n\n<p>Try newly created user in your code.</p>\n\n<p>Hope it helps!</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "29395452": {"question": {"tags": ["php", "mysql", "pdo"], "is_answered": true, "view_count": 275776, "accepted_answer_id": 29400976, "answer_count": 5, "score": 55, "last_activity_date": 1581523709, "creation_date": 1427903869, "last_edit_date": 1554376116, "question_id": 29395452, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/29395452/php-connection-failed-sqlstatehy000-2002-connection-refused", "title": "PHP Connection failed: SQLSTATE[HY000] [2002] Connection refused", "body": "<p>I am trying to use a PHP connection to connect MySQL Database which is on phpmyadmin. Nothing fancy about the connection just trying to see whether the connection is successful or not. I am using MAMP to host the database, the connection I am trying to use is this: </p>\n\n<pre><code>&lt;?php\n$servername = \"127.0.0.1\";\n$username = \"root\";\n$password = \"root\";\n\ntry {\n    $conn = new PDO(\"mysql:host=$servername;dbname=AppDatabase\", $username, $password);\n    // set the PDO error mode to exception\n    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n    echo \"Connected successfully\"; \n}\ncatch(PDOException $e)\n{\n    echo \"Connection failed: \" . $e-&gt;getMessage();\n}\n?&gt;\n</code></pre>\n\n<p>I have been using postman to test to see if the connection is working, but I keep receiving this error message:    </p>\n\n<blockquote>\n  <p>Connection failed: SQLSTATE[HY000] [2002] Connection refused</p>\n</blockquote>\n\n<p>Before I was receiving an error message of:</p>\n\n<blockquote>\n  <p>Connection failed: SQLSTATE[HY000] [2002] No such file or directory</p>\n</blockquote>\n\n<p>This was because I had set the servername to localhost, through changing this to the IP address it has given me connection refused and I have no idea what is wrong.</p>\n\n<p>Any help regarding this would be appreciated.</p>\n"}, "answer": {"is_accepted": true, "score": 48, "last_activity_date": 1427922906, "creation_date": 1427922906, "answer_id": 29400976, "question_id": 29395452, "content_license": "CC BY-SA 3.0", "body": "<p>I found the reason why the connection was not working, it was because the connection was trying to connect to port 8888, when it needed to connect to port 8889.</p>\n\n<pre><code>$conn = new PDO(\"mysql:host=$servername;port=8889;dbname=AppDatabase\", $username, $password); \n</code></pre>\n\n<p>This fixed the problem, although changing the server name to localhost still gives the error.</p>\n\n<p>Connection failed: SQLSTATE[HY000] [2002] No such file or directory</p>\n\n<p>But it connects successfully when the IP address is entered for the server name.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "20315928": {"question": {"tags": ["websocket", "socket.io"], "is_answered": true, "view_count": 432, "accepted_answer_id": 20367629, "answer_count": 1, "score": 0, "last_activity_date": 1386134962, "creation_date": 1385924296, "question_id": 20315928, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/20315928/socketio-websocket-connection-failed", "title": "socketio websocket connection failed", "body": "<pre><code>WebSocket connection to 'ws://www.abc.com/socket.io/1/websocket/VKxqJC3PoXJ0DUbxgX8n' failed: Unexpected response code: 503\n</code></pre>\n\n<p>The browser console shows the above error of socketio websocket connection failed.</p>\n\n<p>express code:- </p>\n\n<pre><code>server.listen(app.get('port'), function(){\n  console.log(\"Express server listening on port \" + app.get('port'));\n});\nvar io = require(\"socket.io\").listen(server);\n</code></pre>\n\n<p>Above works fine, on localhost.</p>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1386134962, "creation_date": 1386134962, "answer_id": 20367629, "question_id": 20315928, "content_license": "CC BY-SA 3.0", "body": "<p>Adding following code as part of server is needed for heroku. </p>\n\n<pre><code>io.configure(function () { \n  io.set(\"transports\", [\"xhr-polling\"]); \n  io.set(\"polling duration\", 10); \n}); \n</code></pre>\n"}, "validated_answer": true, "validated_root_cause": false}, "1305196": {"question": {"tags": ["php", "mysql"], "is_answered": true, "view_count": 776, "accepted_answer_id": 1306315, "answer_count": 2, "score": 1, "last_activity_date": 1389164341, "creation_date": 1250763413, "last_edit_date": 1389164341, "question_id": 1305196, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/1305196/database-connection-failed", "title": "Database Connection Failed", "body": "<p>While I am browsing my online app in the server I got an error like </p>\n\n<blockquote>\n  <p>Database Connection Failed</p>\n  \n  <p>User coule_com@c17564 already has more than 'max_user_connections' active connections.</p>\n</blockquote>\n\n<p>But this is working well in my local system. And this error occurs ANY TIME when I navigate in the server. If i refresh the browser i can able to move further. But I in need to solve this issue.</p>\n\n<p>will anybody help me to solve this issue ?</p>\n\n<p>connection code : </p>\n\n<pre><code>function makeConnection() { \n    global $config;\n    $this-&gt;ConLink = mysql_pconnect($config['DBHostName'],$config['DBUserName'],$config['DBPassword']) or die(\"Database Connection Failed\". mysql_error());\n    mysql_select_db($config['DBName'], $this-&gt;ConLink);\n    return true;\n}\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1250776025, "creation_date": 1250776025, "answer_id": 1306315, "question_id": 1305196, "content_license": "CC BY-SA 2.5", "body": "<p>you need to contact your host and get them to up the connection limit. if they won't, you need to find a better host. this is simply a fact of life in web-based applications.</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "35813584": {"question": {"tags": ["node.js", "mongodb", "mean-stack"], "is_answered": true, "view_count": 41140, "accepted_answer_id": 35813628, "answer_count": 8, "score": 37, "last_activity_date": 1561880968, "creation_date": 1457177675, "last_edit_date": 1557397447, "question_id": 35813584, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/35813584/mongodb-error-invalid-schema-expected-mongodb", "title": "MongoDB - Error: invalid schema, expected mongodb", "body": "<p>I'm new in building application with MEAN Stack, I'm trying to build a real time chat app, here is my server side :</p>\n\n<pre><code>console.log(\"Server running...!\");\n\nvar mongo=require('mongodb').MongoClient;\nvar client=require('socket.io').listen(8080).sockets;\n\nmongo.connect('localhost:27017/db/chat',function(err,db){\nif(err)  throw err;\n\nclient.on('connection',function(socket){\nconsole.log('someone has connected !');\n\n//waiting for input\nsocket.on('input',function(data){\nconsole.log(data);\n});\n\n});\n\n});\n</code></pre>\n\n<p>I am sure that i created a data base called chat with mongodb, also mongo is waiting for connection. But when i run the server with node server.js an error occurs : </p>\n\n<pre><code>Server running...!\nC:\\Users\\azus\\Desktop\\Psirt\\codemaster\\node_modules\\ mongodb\\lib\\url_parser.js:20\n  throw new Error('invalid schema, expected mongodb');\n  ^\n\nError: invalid schema, expected mongodb\nat module.exports (C:\\Users\\azus\\Desktop\\Psirt\\code-master\\node_modules\\mong\n odb\\lib\\url_parser.js:20:11)\nat connect (C:\\Users\\azus\\Desktop\\Psirt\\code-master\\node_modules\\mongodb\\lib\n \\mongo_client.js:125:16)\nat Function.MongoClient.connect (C:\\Users\\azus\\Desktop\\Psirt\\code-master\\nod\ne_modules\\mongodb\\lib\\mongo_client.js:109:3)\nat Object.&lt;anonymous&gt; (C:\\Users\\azus\\Desktop\\Psirt\\code-master\\server.js:6:8\n)\nat Module._compile (module.js:413:34)\nat Object.Module._extensions..js (module.js:422:10)\nat Module.load (module.js:357:32)\nat Function.Module._load (module.js:314:12)\nat Function.Module.runMain (module.js:447:10)\nat startup (node.js:139:18)\n\nC:\\Users\\azus\\Desktop\\Psirt\\code-master&gt;\n</code></pre>\n\n<p>I had been blocked at this phase for weeks, could anyone help on this?</p>\n\n<p>Thanks.</p>\n"}, "answer": {"is_accepted": true, "score": 115, "last_activity_date": 1530858104, "last_edit_date": 1530858104, "creation_date": 1457177984, "answer_id": 35813628, "question_id": 35813584, "content_license": "CC BY-SA 4.0", "body": "<p>This is because you are using the connection string in an improper format.</p>\n\n<p>You are using <code>localhost:27017/db/chat</code> while it should be <code>mongodb://localhost:27017/db/chat</code></p>\n\n<p>The pattern for the connection string is <code>mongodb://&lt;HOSTNAME&gt;:&lt;PORT&gt;/&lt;DBNAME&gt;</code></p>\n\n<p>Article for reference: <a href=\"https://mongodb.github.io/node-mongodb-native/api-generated/mongoclient.html#mongoclient-connect\" rel=\"noreferrer\">https://mongodb.github.io/node-mongodb-native/api-generated/mongoclient.html#mongoclient-connect</a></p>\n"}, "validated_answer": true, "validated_root_cause": true}, "46539850": {"question": {"tags": ["node.js", "mongodb", "cloudfoundry", "swisscomdev"], "is_answered": true, "view_count": 425, "accepted_answer_id": 46928900, "answer_count": 2, "score": 1, "last_activity_date": 1508924124, "creation_date": 1507017797, "last_edit_date": 1507039965, "question_id": 46539850, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/46539850/cloud-foundry-mongodb-error-econnrefused", "title": "Cloud Foundry MongoDB Error ECONNREFUSED", "body": "<p>I would like to deploy a Node.JS app on Cloud Foundry. \nI follow the following steps:</p>\n\n<ol>\n<li><p>Add the engines part in the package.json</p>\n\n<blockquote>\n<pre><code>{\n  \"name\": \"vsapc\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Application Name\",\n  \"main\": \"server/app.js\",\n  \"scripts\": {\n    \"start\": \"node server/app.js\",\n    \"backup\": \"node backup.js\",\n    \"restore\": \"node restore.js\",\n    \"seed\": \"node server/seed/Seed.js\",\n    \"postinstall\": \"node install.js\"\n  },\n  \"directories\": {\n    \"test\": \"test\"\n  },\n  \"dependencies\": {\n    \"bcrypt-nodejs\": \"0.0.3\",\n    \"body-parser\": \"^1.15.2\",\n  \"cfenv\": \"^1.0.3\",\n    \"express\": \"^4.14.0\",\n    \"jsonwebtoken\": \"^7.1.9\",\n    \"mongodb\": \"^2.2.5\",\n    \"mongoose\": \"^4.6.3\",\n    \"mongoose-seed\": \"^0.3.1\",\n    \"morgan\": \"^1.7.0\",\n    \"promise\": \"^7.1.1\",\n    \"prompt\": \"^1.0.0\",\n    \"winston\": \"^2.2.0\",\n    \"winston-daily-rotate-file\": \"^1.4.0\"\n  },\n  \"engines\": {\n  \"node\": \"6.11.*\",\n  \"npm\": \"5.*\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\"\n}\n</code></pre>\n</blockquote></li>\n<li><p>I create the manifest.yml</p></li>\n</ol>\n\n<blockquote>\n<pre><code>---\napplications:\n- name: Policy_Studio\n  memory: 2048MB\n\n  env:\n    NODE_ENV: production\n</code></pre>\n</blockquote>\n\n<ol start=\"3\">\n<li>I used the following to connect in install.js:</li>\n</ol>\n\n<blockquote>\n<pre><code>const vcapServices = JSON.parse(process.env.VCAP_SERVICES);\n            let mongoUrl = '';\n            mongoUrl = vcapServices.mongodb[0].credentials.uri;\n\n            mongoose.connect(mongoUrl,{useMongoClient: true}, function (err){\n              if (err) {\n                  console.log(\"Database connection responded with: \" + err.message);\n                  console.log(\"Is your server.config.json up to date?\");\n                  process.exit(1);\n                  return\n              }\n              console.log(\"Connected to database.\");\n</code></pre>\n</blockquote>\n\n<ol start=\"4\">\n<li>and the following in app.js:</li>\n</ol>\n\n<blockquote>\n<pre><code>Server.prototype.connectDatabase = function (url) {\n          mongoose.Promise = Promise;\n          const vcapServices = JSON.parse(process.env.VCAP_SERVICES);\n          let mongoUrl = '';\n          mongoUrl = vcapServices.mongodb[0].credentials.uri;\n          mongoose.connect(mongoUrl,{useMongoClient: true});\n          mongoose.connection.on(\"error\", function (err) {\n              log.error(err)\n          });\n          mongoose.connection.once(\"openUri\", function () {\n              log.info(\"Connected to DB\")\n          })\n      };\n</code></pre>\n</blockquote>\n\n<ol start=\"5\">\n<li><p>connect by command line to SCAPP and push the app with cf push</p></li>\n<li><p>As i don't have the MongoDB on the cloud i have an error</p></li>\n<li><p>I build a MOngoDB service on the cloud and bind directly the app through the web GUI </p></li>\n<li>On the gui i click restage button for my app</li>\n<li>I have the error </li>\n</ol>\n\n<blockquote>\n<pre><code>Database connection responded with: failed to connect to server \n[2xtorvw9ys7tg9pc.service.consul:49642] on first connect [MongoError: \nconnect ECONNREFUSED 10.98.250.54:49642]\n</code></pre>\n</blockquote>\n\n<ol start=\"10\">\n<li>I add the service mongoDB in my manifest and cf push my application</li>\n<li><p>Still the same error as in point 9</p></li>\n<li><p>I tried to change the connection in install.js </p></li>\n</ol>\n\n<p>Thank you for your help</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1508924124, "creation_date": 1508924124, "answer_id": 46928900, "question_id": 46539850, "content_license": "CC BY-SA 3.0", "body": "<p>Finally we have found the problem. The cloud foundry is not allowing to access the MongoDB service during the postinstall phase. So we changed it to prestart and it worked.\nThank you for your help</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "44598763": {"question": {"tags": ["node.js", "mongodb", "winston"], "is_answered": true, "view_count": 868, "accepted_answer_id": 44704318, "answer_count": 1, "score": 2, "last_activity_date": 1498147084, "creation_date": 1497651807, "question_id": 44598763, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/44598763/winston-mongodb-error-after-initializing", "title": "winston-mongodb error after initializing", "body": "<p>I'm trying to configure a basic winston logger but keep getting the same error.</p>\n\n<p>All I have so far to configure it is this</p>\n\n<pre><code>var winston = require('winston');\nvar mongoLog = require('winston-mongodb').MongoDB;\nvar appSettings = require('./appSettings');\n\nvar logger = new (winston.Logger)();\nlogger.add(mongoLog, {\n   db: appSettings.database,\n   host: appSettings.dbConnection,\n   collection: appSettings.loggingCollection\n }\n);\n</code></pre>\n\n<p>This is the error I'm getting.</p>\n\n<pre><code>winston-mongodb: error initialising logger Error: invalid schema, expected mongodb\n</code></pre>\n\n<p>The host is the ip of a mongodb instance in azure, but that doesn't seem to be the issue because if I remove host (defaulting it to localhost according to the docs) and try to have it connect to my local mongo instance it gives the same error. It also doesn't seem to matter if I call any methods on the logger or not.</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1498147084, "creation_date": 1498147084, "answer_id": 44704318, "question_id": 44598763, "content_license": "CC BY-SA 3.0", "body": "<p>Was looking at the wrong documentation I guess? \nOn <a href=\"https://www.npmjs.com/package/fm-winston-mongodb\" rel=\"nofollow noreferrer\">this page</a> it has the db param described like this</p>\n\n<blockquote>\n  <p>db: The name of the database you want to log to.</p>\n</blockquote>\n\n<p>So I thought I would have the db name there and would need to specify the host separately. </p>\n\n<p>But on <a href=\"https://www.npmjs.com/package/winston-mongodb\" rel=\"nofollow noreferrer\">this page</a> it has a different description. </p>\n\n<blockquote>\n  <p>db: MongoDB connection uri, pre-connected db object or promise object which will be resolved with pre-connected db object.</p>\n</blockquote>\n\n<p>Which apparently was the correct description, the full URI being this format: </p>\n\n<pre><code>mongodb://&lt;host&gt;:&lt;port&gt;/&lt;db&gt;\n</code></pre>\n"}, "validated_answer": true, "validated_root_cause": true}, "34608563": {"question": {"tags": ["sql", "node.js", "mongodb", "database"], "is_answered": true, "view_count": 2709, "accepted_answer_id": 34609545, "answer_count": 1, "score": 1, "last_activity_date": 1501402632, "creation_date": 1451987305, "last_edit_date": 1506103077, "question_id": 34608563, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/34608563/mongodb-error-in-localhost-windows", "title": "Mongodb error in localhost windows", "body": "<p>i have downloaded mongodb msi file form mongodb website and i have installed successfully in C:\\Program Files\\MongoDB\\Server\\3.2\\bin\nAnd i used command as mongodb on a command prompt with administrator privileges \nbut error occurred as </p>\n\n<blockquote>\n  <p></p>\n</blockquote>\n\n<pre><code>C:\\Program Files\\MongoDB\\Server\\3.2\\bin&gt;mongo\nMongoDB shell version: 3.2.0\nconnecting to: test\n2016-01-05T15:08:52.215+0530 W NETWORK  [thread1] Failed to connect to 127.0.0.1:27017, reason: errno:10061 No connection could be made because the target machine actively refused it.\n2016-01-05T15:08:52.229+0530 E QUERY    [thread1] Error: couldn't connect to server 127.0.0.1:27017, connection attempt failed :\nconnect@src/mongo/shell/mongo.js:224:14\n@(connect):1:6\nexception: connect failed\n</code></pre>\n\n<p>image of cmd prompt is attached <a href=\"http://i.stack.imgur.com/We0Yz.png\" rel=\"nofollow\">here</a> </p>\n\n<p>after executing mongod command error is like</p>\n\n<blockquote>\n  <p></p>\n</blockquote>\n\n<pre><code>C:\\Program Files\\MongoDB\\Server\\3.2\\bin&gt;mongod\n2016-01-05T15:06:15.150+0530 I CONTROL  [initandlisten] MongoDB starting : pid=12512 port=27017 dbpath=C:\\data\\db\\ 64-bit host=DESKTOP-3F1GEI5\n2016-01-05T15:06:15.161+0530 I CONTROL  [initandlisten] targetMinOS: Windows Vista/Windows Server 2008\n2016-01-05T15:06:15.167+0530 I CONTROL  [initandlisten] db version v3.2.0\n2016-01-05T15:06:15.171+0530 I CONTROL  [initandlisten] git version: 45d947729a0315accb6d4f15a6b06be6d9c19fe7\n2016-01-05T15:06:15.179+0530 I CONTROL  [initandlisten] allocator: tcmalloc\n2016-01-05T15:06:15.183+0530 I CONTROL  [initandlisten] modules: none\n2016-01-05T15:06:15.186+0530 I CONTROL  [initandlisten] build environment:\n2016-01-05T15:06:15.190+0530 I CONTROL  [initandlisten]     distarch: x86_64\n2016-01-05T15:06:15.195+0530 I CONTROL  [initandlisten]     target_arch: x86_64\n2016-01-05T15:06:15.200+0530 I CONTROL  [initandlisten] options: {}\n2016-01-05T15:06:15.238+0530 I STORAGE  [initandlisten] exception in initAndListen: 29 Data directory C:\\data\\db\\ not found., terminating\n2016-01-05T15:06:15.246+0530 I CONTROL  [initandlisten] dbexit:  rc: 100\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 5, "last_activity_date": 1451990062, "creation_date": 1451990062, "answer_id": 34609545, "question_id": 34608563, "content_license": "CC BY-SA 3.0", "body": "<p>mongod direct command contain some by default parameter </p>\n\n<pre><code>mongod --dbpath=C:\\data\\db\\   --port=27017\n</code></pre>\n\n<p>so create a folder data in c then create a db folder in that then run the command </p>\n\n<pre><code>mongod\n</code></pre>\n\n<p>your server will be in running state now connect to it using </p>\n\n<pre><code>mongo --port=27017    \n</code></pre>\n\n<p>this will work for you if problem then comment </p>\n"}, "validated_answer": true, "validated_root_cause": false}, "34429429": {"question": {"tags": ["ruby-on-rails", "mongodb"], "is_answered": true, "view_count": 626, "accepted_answer_id": 34430150, "answer_count": 1, "score": -1, "last_activity_date": 1451023093, "creation_date": 1450849833, "last_edit_date": 1451023093, "question_id": 34429429, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/34429429/rails-mongodb-error", "title": "Rails mongodb error", "body": "<p>I have rails 4.2.2 And I am using mongodb . I am using internationalization and facebook authentication .But when I am trying to authentiate <br>It gives me this error </p>\n\n<blockquote>\n  <p>translation missing: en-US.mongoid.errors.messages.message_title:<br>\n  translation missing:\n  en-US.mongoid.errors.messages.no_client_config.message translation\n  missing: en-US.mongoid.errors.messages.summary_title:   translation\n  missing: en-US.mongoid.errors.messages.no_client_config.summary\n  translation missing: en-US.mongoid.errors.messages.resolution_title:<br>\n  translation missing:\n  en-US.mongoid.errors.messages.no_client_config.resolution</p>\n</blockquote>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1450853384, "creation_date": 1450853384, "answer_id": 34430150, "question_id": 34429429, "content_license": "CC BY-SA 3.0", "body": "<p>You can try this on your locales file <code>config/locales/en-US.yml</code></p>\n\n<pre><code>en-US:\n  mongoid:\n    errors:\n      messages:\n        no_client_config:\n          message: \"Test\"\n          summary: \"Test Summary\"\n          resolution: \"Test Resolution\"         \n</code></pre>\n"}, "validated_answer": true, "validated_root_cause": false}, "59675234": {"question": {"tags": ["apache-kafka-connect", "debezium", "mongodb-kafka-connector"], "is_answered": true, "view_count": 182, "accepted_answer_id": 59678053, "answer_count": 2, "score": 1, "last_activity_date": 1578745067, "creation_date": 1578627633, "last_edit_date": 1578668881, "question_id": 59675234, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/59675234/debezium-kafka-connector-mongodb-error-connecting-kafka-connector-to-mongodb", "title": "Debezium Kafka connector mongodb : Error connecting kafka connector to mongodb", "body": "<p>Below are my MongoDB config in /etc/kafka/connect-mongodb-source.properties</p>\n\n<pre><code>name=mongodb-source-connector \nconnector.class=io.debezium.connector.mongodb.MongoDbConnector \nmongodb.hosts=/remoteserveraddress:27017 \nmongodb.name=mongo_conn \ninitial.sync.max.threads=1 \ntasks.max=1\n</code></pre>\n\n<p>but getting below error</p>\n\n<pre><code> ERROR Plugin class loader for connector: 'io.debezium.connector.mongodb.MongoDbConnector' was not found. Returning: org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader@5a058be5 (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:165)\n</code></pre>\n\n<p>Running connector in standalone mode.</p>\n\n<p>I have mongodbconnector class under debezium-debezium-connector-mongodb-1.0.0/debezium-connector-mongodb-1.0.0.Final.jar</p>\n\n<p>also classpath is set as follows </p>\n\n<pre><code>#for CLASSPATH\nCLASSPATH=/Users/111111/workspace/KafkaConnect/confluent-5.3.2/debezium-debezium-connector-mongodb-1.0.0/*\nexport CLASSPATH\nPATH=$PATH:/usr/local/sbin\nexport PATH\n</code></pre>\n\n<p>Using plugin path I see its able to register and load all required plugins..</p>\n\n<pre><code>[2020-01-10 08:14:07,916] INFO Scanning for plugin classes. This might take a moment ... (org.apache.kafka.connect.cli.ConnectStandalone:78)\n[2020-01-10 08:14:07,942] INFO Loading plugin from: /Users/1111111/workspace/KafkaConnect/confluent-5.3.2/debezium-debezium-connector-mongodb-1.0.0/mongodb-driver-3.11.1.jar (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:241)\n[2020-01-10 08:14:08,082] INFO Registered loader: PluginClassLoader{pluginLocation=file:/Users/1111111/workspace/KafkaConnect/confluent-5.3.2/debezium-debezium-connector-mongodb-1.0.0/mongodb-driver-3.11.1.jar} (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:264)\n[2020-01-10 08:14:08,083] INFO Added plugin 'org.apache.kafka.connect.connector.policy.AllConnectorClientConfigOverridePolicy' (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:193)\n[2020-01-10 08:14:08,083] INFO Added plugin 'org.apache.kafka.connect.connector.policy.PrincipalConnectorClientConfigOverridePolicy' (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:193)\n[2020-01-10 08:14:08,083] INFO Added plugin 'org.apache.kafka.connect.connector.policy.NoneConnectorClientConfigOverridePolicy' (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:193)\n[2020-01-10 08:14:08,085] INFO Loading plugin from: /Users/1111111/workspace/KafkaConnect/confluent-5.3.2/debezium-debezium-connector-mongodb-1.0.0/debezium-connector-mongodb-1.0.0.Final.jar (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:241)\n[2020-01-10 08:14:08,120] INFO Registered loader: PluginClassLoader{pluginLocation=file:/Users/1111111/workspace/KafkaConnect/confluent-5.3.2/debezium-debezium-connector-mongodb-1.0.0/debezium-connector-mongodb-1.0.0.Final.jar} (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:264)\n[2020-01-10 08:14:08,121] INFO Added plugin 'io.debezium.connector.mongodb.MongoDbConnector' (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:193)\n[2020-01-10 08:14:08,121] INFO Added plugin 'io.debezium.connector.mongodb.transforms.ExtractNewDocumentState' (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:193)\n[2020-01-10 08:14:08,121] INFO Added plugin 'io.debezium.connector.mongodb.transforms.UnwrapFromMongoDbEnvelope' (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:193)\n[2020-01-10 08:14:08,122] INFO Loading plugin from: /Users/1111111/workspace/KafkaConnect/confluent-5.3.2/debezium-debezium-connector-mongodb-1.0.0/debezium-core-1.0.0.Final.jar (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:241)\n[2020-01-10 08:14:08,198] INFO Registered loader: PluginClassLoader{pluginLocation=file:/Users/1111111/workspace/KafkaConnect/confluent-5.3.2/debezium-debezium-connector-mongodb-1.0.0/debezium-core-1.0.0.Final.jar} (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:264)\n[2020-01-10 08:14:08,198] INFO Added plugin 'io.debezium.converters.ByteBufferConverter' (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:193)\n[2020-01-10 08:14:08,199] INFO Added plugin 'io.debezium.transforms.UnwrapFromEnvelope' (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:193)\n[2020-01-10 08:14:08,199] INFO Added plugin 'io.debezium.transforms.ExtractNewRecordState' (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:193)\n[2020-01-10 08:14:08,199] INFO Added plugin 'io.debezium.transforms.outbox.EventRouter' (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:193)\n[2020-01-10 08:14:08,199] INFO Added plugin 'io.debezium.transforms.ByLogicalTableRouter' (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:193)\n[2020-01-10 08:14:08,200] INFO Loading plugin from: /Users/1111111/workspace/KafkaConnect/confluent-5.3.2/debezium-debezium-connector-mongodb-1.0.0/mongo-kafka-0.2-all.jar (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:241)\n[2020-01-10 08:14:08,340] INFO Registered loader: PluginClassLoader{pluginLocation=file:/Users/1111111/workspace/KafkaConnect/confluent-5.3.2/debezium-debezium-connector-mongodb-1.0.0/mongo-kafka-0.2-all.jar} (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:264)\n[2020-01-10 08:14:08,340] INFO Added plugin 'com.mongodb.kafka.connect.MongoSourceConnector' (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:193)\n[2020-01-10 08:14:08,340] INFO Added plugin 'com.mongodb.kafka.connect.MongoSinkConnector' (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:193)\n[2020-01-10 08:14:08,341] INFO Loading plugin from: /Users/1111111/workspace/KafkaConnect/confluent-5.3.2/debezium-debezium-connector-mongodb-1.0.0/bson-3.11.1.jar (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:241)\n[2020-01-10 08:14:08,373] INFO Registered loader: PluginClassLoader{pluginLocation=file:/Users/1111111/workspace/KafkaConnect/confluent-5.3.2/debezium-debezium-connector-mongodb-1.0.0/bson-3.11.1.jar} (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:264)\n[2020-01-10 08:14:08,373] INFO Loading plugin from: /Users/1111111/workspace/KafkaConnect/confluent-5.3.2/debezium-debezium-connector-mongodb-1.0.0/mongodb-driver-core-3.11.1.jar (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:241)\n[2020-01-10 08:14:08,465] INFO Registered loader: PluginClassLoader{pluginLocation=file:/Users/1111111/workspace/KafkaConnect/confluent-5.3.2/debezium-debezium-connector-mongodb-1.0.0/mongodb-driver-core-3.11.1.jar} (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:264)\n</code></pre>\n\n<p>but at the end again same issue</p>\n\n<pre><code>    [2020-01-10 08:40:43,613] ERROR Plugin class loader for connector: 'io.debezium.connector.mongodb.MongoDbConnector' was not found. Returning: org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader@33f2df51 (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:165)\n[2020-01-10 08:40:43,809] ERROR Stopping after connector error (org.apache.kafka.connect.cli.ConnectStandalone:121)\njava.lang.IllegalArgumentException: username can not be null\n    at com.mongodb.MongoCredential.&lt;init&gt;(MongoCredential.java:350)\n    at com.mongodb.MongoCredential.&lt;init&gt;(MongoCredential.java:344)\n    at com.mongodb.MongoCredential.createCredential(MongoCredential.java:169)\n    at io.debezium.connector.mongodb.ConnectionContext.&lt;init&gt;(ConnectionContext.java:69)\n    at io.debezium.connector.mongodb.MongoDbConnector.validate(MongoDbConnector.java:222)\n    at org.apache.kafka.connect.runtime.AbstractHerder.validateConnectorConfig(AbstractHerder.java:313)\n    at org.apache.kafka.connect.runtime.standalone.StandaloneHerder.putConnectorConfig(StandaloneHerder.java:192)\n    at org.apache.kafka.connect.cli.ConnectStandalone.main(ConnectStandalone.java:115)\n[2020-01-10 08:40:43,810] INFO Kafka Connect stopping (org.apache.kafka.connect.runtime.Connect:66)\n</code></pre>\n\n<p>output of >curl localhost:8083/connector-plugins</p>\n\n<pre><code>[{\"class\":\"com.mongodb.kafka.connect.MongoSinkConnector\",\"type\":\"sink\",\"version\":\"0.2\"},{\"class\":\"com.mongodb.kafka.connect.MongoSourceConnector\",\"type\":\"source\",\"version\":\"0.2\"},{\"class\":\"io.confluent.connect.activemq.ActiveMQSourceConnector\",\"type\":\"source\",\"version\":\"5.3.2\"},{\"class\":\"io.confluent.connect.elasticsearch.ElasticsearchSinkConnector\",\"type\":\"sink\",\"version\":\"5.3.2\"},{\"class\":\"io.confluent.connect.ibm.mq.IbmMQSourceConnector\",\"type\":\"source\",\"version\":\"5.3.2\"},{\"class\":\"io.confluent.connect.jdbc.JdbcSinkConnector\",\"type\":\"sink\",\"version\":\"5.3.2\"},{\"class\":\"io.confluent.connect.jdbc.JdbcSourceConnector\",\"type\":\"source\",\"version\":\"5.3.2\"},{\"class\":\"io.confluent.connect.jms.JmsSourceConnector\",\"type\":\"source\",\"version\":\"5.3.2\"},{\"class\":\"io.confluent.connect.replicator.ReplicatorSourceConnector\",\"type\":\"source\",\"version\":\"5.3.2\"},{\"class\":\"io.confluent.connect.s3.S3SinkConnector\",\"type\":\"sink\",\"version\":\"5.3.2\"},{\"class\":\"io.confluent.connect.storage.tools.SchemaSourceConnector\",\"type\":\"source\",\"version\":\"5.3.2-ce\"},{\"class\":\"io.debezium.connector.mongodb.MongoDbConnector\",\"type\":\"source\",\"version\":\"1.0.0.Final\"},{\"class\":\"org.apache.kafka.connect.file.FileStr\n</code></pre>\n\n<p>thanks in advance</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1578645459, "creation_date": 1578645459, "answer_id": 59678053, "question_id": 59675234, "content_license": "CC BY-SA 4.0", "body": "<p>First of all, please check the installation of your plugin using the Kafka Connect REST Interface (see details <a href=\"https://docs.confluent.io/current/connect/references/restapi.html#get--connector-plugins-\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>Try to install Kafka Connect plugins using the <code>plugin path</code> mechanism instead of <code>CLASSPATH</code> (more info in the <a href=\"https://docs.confluent.io/current/connect/userguide.html#installing-plugins\" rel=\"nofollow noreferrer\">docs</a>).</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "48444746": {"question": {"tags": ["node.js", "mongodb"], "is_answered": true, "view_count": 159, "accepted_answer_id": 48446656, "answer_count": 1, "score": 0, "last_activity_date": 1516894800, "creation_date": 1516888980, "question_id": 48444746, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/48444746/mongodb-error-while-retrieving-collection", "title": "MongoDB error while retrieving collection", "body": "<p>I'm having a problem getting collection from the database in my Node.js application. I'm using Mongodb 3.6.</p>\n\n<p>That's how I set it up:</p>\n\n<pre><code>var moment                  = require('moment');\nvar MongoClient             = require('mongodb').MongoClient;\n\n/*\n  ===========================================================================\n                DB setup\n  ===========================================================================\n*/\n\n\nvar state = {\n  db: null,\n}\n\nfunction get() {\n    return state.db;\n}\n\nexports.connect_database = function(done) {\n    if (state.db) return done()\n    MongoClient.connect(process.env.DATABASE_URL, function(err, db) {\n        if (err) return done(err)\n        state.db = db\n        done()\n    })\n}\n/* some other functions ... */\n\nexports.return_collection = function(collection_name, callback) {\n    var result_array = [];\n    var collection = get().getCollection(collection_name);\n\n    var result = collection.find()\n    result.forEach(function(res) {\n        result_array.push(res);\n    }, function(error) {\n        console.log(\"error: \")\n        console.log(error);\n        if (!error)\n            callback(result_array);\n    });\n}\n</code></pre>\n\n<p>In the main file I do:</p>\n\n<pre><code>'use strict';\n\n// LIB IMPORTS\nvar env                     = require('node-env-file');\nenv(__dirname + '/.env');\n\n// LOCAL IMPORTS\nvar aux                     = require('./modules/aux.js');\nvar scheduler               = require('./modules/scheduler.js');\nvar Bot                     = require('./modules/bot.js');\n\n/*\n  ===========================================================================\n                DB setup\n  ===========================================================================\n*/\n\naux.connect_database((err) =&gt; {\n    if (err) {\n        console.log('Unable to connect to Mongo.')\n        process.exit(1)\n    } else {\n        console.log('Connected to db.');\n    }\n})\n</code></pre>\n\n<p>I can see in the log the <code>Connected to db.</code> prompt, so the connection works fine. After that I try to call some function to add/retrieve data from the db and i get the error:</p>\n\n<pre><code>TypeError: get(...).getCollection is not a function\n    at Object.exports.return_collection\n</code></pre>\n\n<p>If I try to print the state.db variable I get the following result:</p>\n\n<pre><code>MongoClient {\n  domain: null,\n  _events: {},\n  _eventsCount: 0,\n  _maxListeners: undefined,\n  s:\n   { url: 'mongodb://localhost:27017/BotDb',\n     options:\n      { socketOptions: {},\n        read_preference_tags: null,\n        readPreference: [Object],\n        dbName: 'slackBotDb',\n        servers: [Object],\n        server_options: [Object],\n        db_options: [Object],\n        rs_options: [Object],\n        mongos_options: [Object],\n        socketTimeoutMS: 360000,\n        connectTimeoutMS: 30000,\n        promiseLibrary: [Function: Promise] },\n     promiseLibrary: [Function: Promise],\n     dbCache: {},\n     sessions: [] },\n  topology:\n   Server {\n     domain: null,\n     _events:\n      { serverOpening: [Function],\n        serverDescriptionChanged: [Function],\n        serverHeartbeatStarted: [Function],\n        serverHeartbeatSucceeded: [Function],\n        serverHeartbeatFailed: [Function],\n        serverClosed: [Function],\n        topologyOpening: [Function],\n        topologyClosed: [Function],\n        topologyDescriptionChanged: [Function],\n        joined: [Function],\n        left: [Function],\n        ping: [Function],\n        ha: [Function],\n        authenticated: [Function],\n        error: [Function],\n        timeout: [Function],\n        close: [Function],\n        parseError: [Function],\n        open: [Object],\n        fullsetup: [Object],\n        all: [Object],\n        reconnect: [Function] },\n     _eventsCount: 22,\n     _maxListeners: undefined,\n     clientInfo:\n      { driver: [Object],\n        os: [Object],\n        platform: 'Node.js v7.10.0, LE' },\n     s:\n      { coreTopology: [Object],\n        sCapabilities: null,\n        clonedOptions: [Object],\n        reconnect: true,\n        emitError: true,\n        poolSize: 5,\n        storeOptions: [Object],\n        store: [Object],\n        host: 'localhost',\n        port: 27017,\n        options: [Object],\n        sessionPool: [Object],\n        promiseLibrary: [Function: Promise] } } }\n</code></pre>\n\n<p>What am I missing? In the mongo console everything looks fine:</p>\n\n<pre><code>&gt; db.getCollection(\"users\");\nBotDb.users\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1516894800, "creation_date": 1516894800, "answer_id": 48446656, "question_id": 48444746, "content_license": "CC BY-SA 3.0", "body": "<p>I can't find any function named <code>getCollection</code> in the <a href=\"http://mongodb.github.io/node-mongodb-native/3.0/api/\" rel=\"nofollow noreferrer\">API documentation</a> for the Node.js MongoDB native driver. Collections are usually fetched with <a href=\"http://mongodb.github.io/node-mongodb-native/3.0/api/Db.html#collection\" rel=\"nofollow noreferrer\"><code>collection('mycoll')</code></a>. So you can rewrite this line:</p>\n\n<pre><code>var collection = get().getCollection(collection_name);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>var collection = get().collection(collection_name);\n</code></pre>\n\n<p>Note that if you use v3.0 or later of the driver you have to modify the connect function as well. There were some changes done to the connection functions (see <a href=\"https://stackoverflow.com/a/47662979/8574934\">here</a>). The callback now returns a client object rather than the db object. So you'll have to change your function to:</p>\n\n<pre><code>exports.connect_database = function(done) {\n    if (state.db) return done()\n    MongoClient.connect(process.env.DATABASE_URL, function(err, client) {\n        if (err) return done(err);\n        state.db = client.db('database_name');\n        done();\n    })\n}\n</code></pre>\n\n<p>Note the <code>'database_name'</code> string. It should be the name of your database.</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "44699813": {"question": {"tags": ["php", "sql", "mongodb"], "is_answered": true, "view_count": 1055, "closed_date": 1498135957, "accepted_answer_id": 44699941, "answer_count": 1, "score": 2, "last_activity_date": 1498139418, "creation_date": 1498135521, "last_edit_date": 1498139418, "question_id": 44699813, "link": "https://stackoverflow.com/questions/44699813/mongodb-error-in-using-php", "closed_reason": "Duplicate", "title": "mongodb error in using php", "body": "<p>i can try to update the attempt to login in mongodb but it can showing error\nin php with my sql i can use this code:</p>\n\n<pre><code>$columns = \"\";\n  foreach($toUpdate as $k =&gt; $v){\n    $columns .= \"$k = :$k, \";\n  }\n  $columns = substr($columns, 0, -2); // Remove last \",\"\n\n  $sql = $this-&gt;dbh-&gt;prepare(\"UPDATE user  SET {$columns} WHERE id=:id\");\n  $sql-&gt;bindValue(\":id\", $user);\n  foreach($toUpdate as $key =&gt; $value){\n    $value = htmlspecialchars($value);\n    $sql-&gt;bindValue(\":$key\", $value);\n  }\n\n  $sql-&gt;execute();\n</code></pre>\n\n<p>in this code it can display no.of attempt to login..but can write this code in php with mongodb it can showing error</p>\n\n<pre><code>$columns = \"\";\n  foreach($toUpdate as $k =&gt; $v){\n    $columns .= \"$k = :$k, \";\n  }\n  $columns = substr($columns, 0, -2); // Remove last \",\"\n\n                        $collection=user;//table name;\n                        $set = array('$set' =&gt;array(array($columns)));\n                        $m-&gt;$collection-&gt;update(array(id=&gt;$user),$set);\n\n  foreach($toUpdate as $key =&gt; $value)\n  {\n      var_dump($toUpdate);\n    $value = htmlspecialchars($value);\n    $m-&gt;$collection-&gt;update(array(id=&gt;$value),$set);\n\n  }\n</code></pre>\n\n<p>i can try many way but it show error ....this is error</p>\n\n<blockquote>\n  <p>Uncaught exception 'MongoWriteConcernException' with message\n  'localhost:27017: Modifiers operate on fields but we found type array\n  instead. For example: {$mod: {: ...}} not {$set: [ [ \"attempt =\n  :attempt\" ] ]})</p>\n</blockquote>\n\n<p>any one can know how to solve this</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1498135893, "creation_date": 1498135893, "answer_id": 44699941, "question_id": 44699813, "content_license": "CC BY-SA 3.0", "body": "<p>This error is given to you because you are passing an array of array to <code>$set</code> instead of an array of data:</p>\n\n<pre><code>$set = array('$set' =&gt;array(array($columns)));\n</code></pre>\n\n<p>Try with this:</p>\n\n<pre><code>$set = array('$set' =&gt;array($columns));\n</code></pre>\n"}, "validated_answer": true, "validated_root_cause": true}, "24564193": {"question": {"tags": ["mongodb", "scala", "casbah"], "is_answered": true, "view_count": 166, "accepted_answer_id": 38101029, "answer_count": 1, "score": 0, "last_activity_date": 1467206863, "creation_date": 1404426409, "question_id": 24564193, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/24564193/casbah-mongodb-error", "title": "Casbah MongoDB Error", "body": "<p>I have the Casbah MongoDB driver that I use in my Web Application and when I tried to connect to the Database which is when the Casbah driver API's are called, I face a strange error:</p>\n\n<pre><code>play.api.Application$$anon$1: Execution exception[[RuntimeException: java.lang.IncompatibleClassChangeError: Class com.mongodb.casbah.Imports$ does not implement the requested interface com.mongodb.casbah.query.dsl.SearchOp]]\n    at play.api.Application$class.handleError(Application.scala:293) ~[com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    at play.api.DefaultApplication.handleError(Application.scala:399) [com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    at play.core.server.netty.PlayDefaultUpstreamHandler$$anonfun$12$$anonfun$apply$1.applyOrElse(PlayDefaultUpstreamHandler.scala:165) [com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    at play.core.server.netty.PlayDefaultUpstreamHandler$$anonfun$12$$anonfun$apply$1.applyOrElse(PlayDefaultUpstreamHandler.scala:162) [com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:33) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.util.Failure$$anonfun$recover$1.apply(Try.scala:185) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.util.Try$.apply(Try.scala:161) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.util.Failure.recover(Try.scala:185) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Future$$anonfun$recover$1.apply(Future.scala:387) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Future$$anonfun$recover$1.apply(Future.scala:387) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:29) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at play.api.libs.iteratee.Execution$$anon$1.execute(Execution.scala:43) [com.typesafe.play.play-iteratees_2.10-2.2.1.jar:2.2.1]\n    at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:37) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:133) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Promise$class.complete(Promise.scala:55) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.impl.Promise$DefaultPromise.complete(Promise.scala:58) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Future$$anonfun$flatMap$1$$anonfun$apply$3.apply(Future.scala:278) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Future$$anonfun$flatMap$1$$anonfun$apply$3.apply(Future.scala:278) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:29) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Future$InternalCallbackExecutor$Batch$$anonfun$run$1.processBatch$1(Future.scala:731) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Future$InternalCallbackExecutor$Batch$$anonfun$run$1.apply$mcV$sp(Future.scala:746) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Future$InternalCallbackExecutor$Batch$$anonfun$run$1.apply(Future.scala:723) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Future$InternalCallbackExecutor$Batch$$anonfun$run$1.apply(Future.scala:723) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.BlockContext$.withBlockContext(BlockContext.scala:72) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Future$InternalCallbackExecutor$Batch.run(Future.scala:722) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Future$InternalCallbackExecutor$.scala$concurrent$Future$InternalCallbackExecutor$$unbatchedExecute(Future.scala:782) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Future$InternalCallbackExecutor$.execute(Future.scala:773) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:37) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:133) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Promise$class.complete(Promise.scala:55) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.impl.Promise$DefaultPromise.complete(Promise.scala:58) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Future$$anonfun$flatMap$1.apply(Future.scala:274) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Future$$anonfun$flatMap$1.apply(Future.scala:274) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:29) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at play.api.libs.iteratee.Execution$$anon$2.execute(Execution.scala:70) [com.typesafe.play.play-iteratees_2.10-2.2.1.jar:2.2.1]\n    at scala.concurrent.impl.CallbackRunnable.executeWithValue(Promise.scala:37) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:133) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.Promise$class.complete(Promise.scala:55) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.impl.Promise$DefaultPromise.complete(Promise.scala:58) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.impl.Future$PromiseCompletingRunnable.run(Future.scala:23) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:42) [com.typesafe.akka.akka-actor_2.10-2.2.0.jar:2.2.0]\n    at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(AbstractDispatcher.scala:386) [com.typesafe.akka.akka-actor_2.10-2.2.0.jar:2.2.0]\n    at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107) [org.scala-lang.scala-library-2.10.2.jar:na]\nCaused by: java.lang.RuntimeException: java.lang.IncompatibleClassChangeError: Class com.mongodb.casbah.Imports$ does not implement the requested interface com.mongodb.casbah.query.dsl.SearchOp\n    at play.api.mvc.ActionBuilder$$anon$1.apply(Action.scala:314) ~[com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    at play.api.mvc.Action$$anonfun$apply$1$$anonfun$apply$4$$anonfun$apply$5.apply(Action.scala:109) ~[com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    at play.api.mvc.Action$$anonfun$apply$1$$anonfun$apply$4$$anonfun$apply$5.apply(Action.scala:109) ~[com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    at play.utils.Threads$.withContextClassLoader(Threads.scala:18) ~[com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    at play.api.mvc.Action$$anonfun$apply$1$$anonfun$apply$4.apply(Action.scala:108) ~[com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    at play.api.mvc.Action$$anonfun$apply$1$$anonfun$apply$4.apply(Action.scala:107) ~[com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    at scala.Option.map(Option.scala:145) ~[org.scala-lang.scala-library-2.10.2.jar:na]\n    at play.api.mvc.Action$$anonfun$apply$1.apply(Action.scala:107) ~[com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    at play.api.mvc.Action$$anonfun$apply$1.apply(Action.scala:100) ~[com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    at play.api.libs.iteratee.Iteratee$$anonfun$mapM$1.apply(Iteratee.scala:481) ~[com.typesafe.play.play-iteratees_2.10-2.2.1.jar:2.2.1]\n    at play.api.libs.iteratee.Iteratee$$anonfun$mapM$1.apply(Iteratee.scala:481) ~[com.typesafe.play.play-iteratees_2.10-2.2.1.jar:2.2.1]\n    at play.api.libs.iteratee.Iteratee$$anonfun$flatMapM$1.apply(Iteratee.scala:517) ~[com.typesafe.play.play-iteratees_2.10-2.2.1.jar:2.2.1]\n    at play.api.libs.iteratee.Iteratee$$anonfun$flatMapM$1.apply(Iteratee.scala:517) ~[com.typesafe.play.play-iteratees_2.10-2.2.1.jar:2.2.1]\n    at play.api.libs.iteratee.Iteratee$$anonfun$flatMap$1$$anonfun$apply$13.apply(Iteratee.scala:493) ~[com.typesafe.play.play-iteratees_2.10-2.2.1.jar:2.2.1]\n    at play.api.libs.iteratee.Iteratee$$anonfun$flatMap$1$$anonfun$apply$13.apply(Iteratee.scala:493) ~[com.typesafe.play.play-iteratees_2.10-2.2.1.jar:2.2.1]\n    at scala.concurrent.impl.Future$PromiseCompletingRunnable.liftedTree1$1(Future.scala:24) [org.scala-lang.scala-library-2.10.2.jar:na]\n    at scala.concurrent.impl.Future$PromiseCompletingRunnable.run(Future.scala:24) [org.scala-lang.scala-library-2.10.2.jar:na]\n    ... 6 common frames omitted\nCaused by: java.lang.IncompatibleClassChangeError: Class com.mongodb.casbah.Imports$ does not implement the requested interface com.mongodb.casbah.query.dsl.SearchOp\n    at com.mongodb.casbah.query.dsl.SearchOp$class.$init$(BarewordOperators.scala:405) ~[casbah-query_2.10-2.7.0-RC2.jar:2.6.2]\n    at com.mongodb.casbah.Imports$.&lt;init&gt;(Implicits.scala:142) ~[casbah-core_2.10-2.7.0-RC2.jar:2.7.0-RC2]\n    at com.mongodb.casbah.Imports$.&lt;clinit&gt;(Implicits.scala) ~[casbah-core_2.10-2.7.0-RC2.jar:2.7.0-RC2]\n    at com.q31.scerticles.core.domain.content.Exam$.getAllExamsForTechnologyWithPagination(Exam.scala:59) ~[scerticles-core-1.0-SNAPSHOT.jar:na]\n    at com.q31.scerticles.core.service.ContentService.allExamsForTechnologyWithPagination(ContentService.scala:46) ~[scerticles-core-1.0-SNAPSHOT.jar:na]\n    at controllers.content.ExamController$$anonfun$allExamsForTechnology$1.apply(ExamController.scala:37) ~[com-q31-scerticles.com-q31-scerticles-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n    at controllers.content.ExamController$$anonfun$allExamsForTechnology$1.apply(ExamController.scala:35) ~[com-q31-scerticles.com-q31-scerticles-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n    at play.api.mvc.ActionBuilder$$anonfun$apply$10.apply(Action.scala:221) ~[com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    at play.api.mvc.ActionBuilder$$anonfun$apply$10.apply(Action.scala:220) ~[com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    at play.api.mvc.Action$.invokeBlock(Action.scala:357) ~[com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    at play.api.mvc.ActionBuilder$$anon$1.apply(Action.scala:309) ~[com.typesafe.play.play_2.10-2.2.1.jar:2.2.1]\n    ... 22 common frames omitted\n</code></pre>\n\n<p>Looks like there seems to be some sort of library incompatibility, but just don't know which one. Any clues? Here are my libraries so far!</p>\n\n<pre><code>-rw-r--r-- 1 root root     4467 Jun 14 09:09 aopalliance-1.0.jar\n-rw-r--r-- 1 root root   167386 Jun 14 09:09 casbah-commons_2.10-2.7.0-RC2.jar\n-rw-r--r-- 1 root root   286110 Jun 14 09:09 casbah-core_2.10-2.7.0-RC2.jar\n-rw-r--r-- 1 root root    79191 Jun 14 09:09 casbah-gridfs_2.10-2.7.0-RC2.jar\n-rw-r--r-- 1 root root   223987 Jun 14 09:09 casbah-query_2.10-2.7.0-RC2.jar\n-rw-r--r-- 1 root root   264600 Jun 14 09:09 ch.qos.logback.logback-classic-1.0.13.jar\n-rw-r--r-- 1 root root   418870 Jun 14 09:09 ch.qos.logback.logback-core-1.0.13.jar\n-rw-r--r-- 1 root root    33491 Jun 14 09:09 com.fasterxml.jackson.core.jackson-annotations-2.2.2.jar\n-rw-r--r-- 1 root root   191738 Jun 14 09:09 com.fasterxml.jackson.core.jackson-core-2.2.2.jar\n-rw-r--r-- 1 root root   866104 Jun 14 09:09 com.fasterxml.jackson.core.jackson-databind-2.2.2.jar\n-rw-r--r-- 1 root root   117309 Jun 14 09:09 com.github.nscala-time.nscala-time_2.10-0.2.0.jar\n-rw-r--r-- 1 root root  1295513 Jun 14 09:09 com.github.scala-incubator.io.scala-io-core_2.10-0.4.2.jar\n-rw-r--r-- 1 root root   437576 Jun 14 09:09 com.github.scala-incubator.io.scala-io-file_2.10-0.4.2.jar\n-rw-r--r-- 1 root root  2189117 Jun 14 09:09 com.google.guava.guava-14.0.1.jar\n-rw-r--r-- 1 root root  1549098 Jun 14 09:09 com.h2database.h2-1.3.172.jar\n-rw-r--r-- 1 root root   110600 Jun 14 09:09 com.jolbox.bonecp-0.8.0.RELEASE.jar\n-rw-r--r-- 1 root root    75459 Jun 14 09:09 com.jsuereth.scala-arm_2.10-1.3.jar\n-rw-r--r-- 1 root root    46725 Jun 14 09:09 commons-codec.commons-codec-1.3.jar\n-rw-r--r-- 1 root root    60686 Jun 14 09:09 commons-logging.commons-logging-1.1.1.jar\n-rw-r--r-- 1 root root   500511 Jun 14 09:09 com.ning.async-http-client-1.7.18.jar\n-rw-r--r-- 1 root root    30190 Jun 14 09:09 com.thoughtworks.paranamer.paranamer-2.5.2.jar\n-rw-r--r-- 1 root root  2643414 Jun 14 09:09 com.typesafe.akka.akka-actor_2.10-2.2.0.jar\n-rw-r--r-- 1 root root    14477 Jun 14 09:09 com.typesafe.akka.akka-slf4j_2.10-2.2.0.jar\n-rw-r--r-- 1 root root   187497 Jun 14 09:09 com.typesafe.config-1.0.2.jar\n-rw-r--r-- 1 root root     7012 Jun 14 09:09 com.typesafe.netty.netty-http-pipelining-1.1.2.jar\n-rw-r--r-- 1 root root   294444 Jun 14 09:09 com.typesafe.play.anorm_2.10-2.2.1.jar\n-rw-r--r-- 1 root root  3774943 Jun 14 09:09 com.typesafe.play.play_2.10-2.2.1.jar\n-rw-r--r-- 1 root root    35156 Jun 14 09:09 com.typesafe.play.play-cache_2.10-2.2.1.jar\n-rw-r--r-- 1 root root     5198 Jun 14 09:09 com.typesafe.play.play-datacommons_2.10-2.2.1.jar\n-rw-r--r-- 1 root root     4571 Jun 14 09:09 com.typesafe.play.play-exceptions-2.2.1.jar\n-rw-r--r-- 1 root root   366840 Jun 14 09:09 com.typesafe.play.play-functional_2.10-2.2.1.jar\n-rw-r--r-- 1 root root   716463 Jun 14 09:09 com.typesafe.play.play-iteratees_2.10-2.2.1.jar\n-rw-r--r-- 1 root root   201709 Jun 14 09:09 com.typesafe.play.play-jdbc_2.10-2.2.1.jar\n-rw-r--r-- 1 root root   627243 Jun 14 09:09 com.typesafe.play.play-json_2.10-2.2.1.jar\n-rw-r--r-- 1 root root     8759 Jun 14 09:09 com.typesafe.play.sbt-link-2.2.1.jar\n-rw-r--r-- 1 root root    39142 Jun 14 09:09 com.typesafe.play.templates_2.10-2.2.1.jar\n-rw-r--r-- 1 root root   187497 Jun 14 09:09 config-1.0.2.jar\n-rw-r--r-- 1 root root   710492 Jun 14 09:09 guice-3.0.jar\n-rw-r--r-- 1 root root  1208356 Jun 14 09:09 io.netty.netty-3.7.0.Final.jar\n-rw-r--r-- 1 root root     2497 Jun 14 09:09 javax.inject-1.jar\n-rw-r--r-- 1 root root    15071 Jun 14 09:09 javax.transaction.jta-1.1.jar\n-rw-r--r-- 1 root root    40544 Jun 14 09:09 joda-convert-1.3.1.jar\n-rw-r--r-- 1 root root   581571 Jun 14 09:09 joda-time-2.3.jar\n-rw-r--r-- 1 root root   581571 Jun 14 09:09 joda-time.joda-time-2.3.jar\n-rw-r--r-- 1 root root   586498 Jun 14 09:09 mongo-java-driver-2.12.0-rc2.jar\n-rw-r--r-- 1 root root  1346296 Jun 14 09:09 net.sf.ehcache.ehcache-core-2.6.6.jar\n-rw-r--r-- 1 root root   183875 Jun 14 09:09 nscala-time_2.10-0.6.0.jar\n-rw-r--r-- 1 root root     6512 Jun 14 09:09 oauth.signpost.signpost-commonshttp4-1.2.1.2.jar\n-rw-r--r-- 1 root root    45277 Jun 14 09:09 oauth.signpost.signpost-core-1.2.1.2.jar\n-rw-r--r-- 1 root root   315805 Jun 14 09:09 org.apache.commons.commons-lang3-3.1.jar\n-rw-r--r-- 1 root root   291037 Jun 14 09:09 org.apache.httpcomponents.httpclient-4.0.1.jar\n-rw-r--r-- 1 root root   172888 Jun 14 09:09 org.apache.httpcomponents.httpcore-4.0.1.jar\n-rw-r--r-- 1 root root   713930 Jun 14 09:09 org.javassist.javassist-3.18.0-GA.jar\n-rw-r--r-- 1 root root    40544 Jun 14 09:09 org.joda.joda-convert-1.3.1.jar\n-rw-r--r-- 1 root root    86503 Jun 14 09:09 org.json4s.json4s-ast_2.10-3.1.0.jar\n-rw-r--r-- 1 root root   462450 Jun 14 09:09 org.json4s.json4s-core_2.10-3.1.0.jar\n-rw-r--r-- 1 root root    63432 Jun 14 09:09 org.json4s.json4s-native_2.10-3.1.0.jar\n-rw-r--r-- 1 root root 14411577 Jun 14 09:09 org.scala-lang.scala-compiler-2.10.2.jar\n-rw-r--r-- 1 root root  7121818 Jun 14 09:09 org.scala-lang.scala-library-2.10.2.jar\n-rw-r--r-- 1 root root   854338 Jun 14 09:09 org.scala-lang.scalap-2.10.2.jar\n-rw-r--r-- 1 root root  3171168 Jun 14 09:09 org.scala-lang.scala-reflect-2.10.2.jar\n-rw-r--r-- 1 root root   650514 Jun 14 09:09 org.scala-stm.scala-stm_2.10-0.7.jar\n-rw-r--r-- 1 root root    16517 Jun 14 09:09 org.slf4j.jcl-over-slf4j-1.7.5.jar\n-rw-r--r-- 1 root root     4960 Jun 14 09:09 org.slf4j.jul-to-slf4j-1.7.5.jar\n-rw-r--r-- 1 root root    26084 Jun 14 09:09 org.slf4j.slf4j-api-1.7.5.jar\n-rw-r--r-- 1 root root  7126003 Jun 14 09:09 scala-library-2.10.3.jar\n-rw-r--r-- 1 root root  3171168 Jun 14 09:09 scala-reflect-2.10.2.jar\n-rw-r--r-- 1 root root  7195811 Jun 14 09:09 scalatest_2.10-2.1.0.jar\n-rw-r--r-- 1 root root    26084 Jun 14 09:09 slf4j-api-1.7.5.jar\n-rw-r--r-- 1 root root   201315 Jun 14 09:09 tyrex.tyrex-1.0.1.jar\n-rw-r--r-- 1 root root  1367760 Jun 14 09:09 xerces.xercesImpl-2.11.0.jar\n-rw-r--r-- 1 root root   220536 Jun 14 09:09 xml-apis.xml-apis-1.4.01.jar\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1467206863, "creation_date": 1467206863, "answer_id": 38101029, "question_id": 24564193, "content_license": "CC BY-SA 3.0", "body": "<p>use <code>casbah 2.8.1</code> version which could solve your problem.</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "23983708": {"question": {"tags": ["mongodb", "terminal"], "is_answered": true, "view_count": 21138, "accepted_answer_id": 23983976, "answer_count": 3, "score": 19, "last_activity_date": 1576505352, "creation_date": 1401651531, "last_edit_date": 1401652938, "question_id": 23983708, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/23983708/mongodb-error-on-starting", "title": "Mongodb error on starting", "body": "<p>When i start mongo db it instantly crashes and goes back to the normal command line. I am on Mac runing the MEAN stack if that helps. Below is the error:</p>\n\n<p>$sudo mongod</p>\n\n<pre><code>Sun Jun  1 21:01:01.728 [initandlisten] MongoDB starting : pid=47937 port=3000 dbpath=/usr/local/var/mongodb 64-bit host=NoHax4You\nSun Jun  1 21:01:01.728 [initandlisten] \nSun Jun  1 21:01:01.729 [initandlisten] ** WARNING: soft rlimits too low. Number of files is 256, should be at least 1000\nSun Jun  1 21:01:01.729 [initandlisten] db version v2.4.9\nSun Jun  1 21:01:01.729 [initandlisten] git version: nogitversion\nSun Jun  1 21:01:01.729 [initandlisten] build info: Darwin minimavericks.local 13.0.0 Darwin Kernel Version 13.0.0: Thu Sep 19 22:22:27 PDT 2013; root:xnu-2422.1.72~6/RELEASE_X86_64 x86_64 BOOST_LIB_VERSION=1_49\nSun Jun  1 21:01:01.729 [initandlisten] allocator: tcmalloc\nSun Jun  1 21:01:01.729 [initandlisten] options: { bind_ip: \"127.0.0.1\", config: \"/usr/local/etc/mongod.conf\", dbpath: \"/usr/local/var/mongodb\", logappend: \"true\", logpath: \"/usr/local/var/log/mongodb/mongo.log\", port: 3000 }\nSun Jun  1 21:01:01.729 [initandlisten] exception in initAndListen: 10310 Unable to lock file: /usr/local/var/mongodb/mongod.lock. Is a mongod instance already running?, terminating\nSun Jun  1 21:01:01.729 dbexit: \nSun Jun  1 21:01:01.729 [initandlisten] shutdown: going to close listening sockets...\nSun Jun  1 21:01:01.729 [initandlisten] shutdown: going to flush diaglog...\nSun Jun  1 21:01:01.729 [initandlisten] shutdown: going to close sockets...\nSun Jun  1 21:01:01.729 [initandlisten] shutdown: waiting for fs preallocator...\nSun Jun  1 21:01:01.729 [initandlisten] shutdown: lock for final commit...\nSun Jun  1 21:01:01.729 [initandlisten] shutdown: final commit...\nSun Jun  1 21:01:01.729 [initandlisten] shutdown: closing all files...\nSun Jun  1 21:01:01.729 [initandlisten] closeAllFiles() finished\nSun Jun  1 21:01:01.729 dbexit: really exiting now\n</code></pre>\n\n<p>Thanks,\nEwan</p>\n"}, "answer": {"is_accepted": true, "score": 54, "last_activity_date": 1444145045, "last_edit_date": 1444145045, "creation_date": 1401653202, "answer_id": 23983976, "question_id": 23983708, "content_license": "CC BY-SA 3.0", "body": "<p>First of all, look for other instances of mongod running on the system using the age-old command:</p>\n\n<pre><code>ps ax | grep mongod\n</code></pre>\n\n<p>If you see a line like -</p>\n\n<pre><code>98555   ??  S      4:40.89 mongod --dbpath /Volumes/ComputerName/data/db \n-PID-                      -name-          -------------path------------\n</code></pre>\n\n<p>then there is a mongod process running already. If so kill it and then start mongod again.</p>\n\n<p>To kill a process with PID = 0000, in Unix like environment use - </p>\n\n<pre><code>kill -9 0000\n</code></pre>\n\n<p>If your console returns something like, <code>-bash: kill: (98555) - Operation not permitted</code>, use </p>\n\n<pre><code>sudo !! \n</code></pre>\n\n<p>to <a href=\"https://en.wikipedia.org/wiki/Sudo\">repeat the command as super user</a>. This should get you going.</p>\n\n<hr>\n\n<p>PS: <em>If you haven't stored any data in your db yet, delete <code>/data</code> and then create the <code>/data/db</code> directory again. Do a <code>sudo mongod</code> and it should work.</em></p>\n"}, "validated_answer": true, "validated_root_cause": true}, "16634369": {"question": {"tags": ["ruby", "mongodb", "ubuntu", "tweetstream"], "is_answered": true, "view_count": 403, "accepted_answer_id": 16649946, "answer_count": 1, "score": 0, "last_activity_date": 1369054285, "creation_date": 1368964289, "last_edit_date": 1368965546, "question_id": 16634369, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/16634369/ruby-tweetstream-mongodb-error", "title": "Ruby Tweetstream MongoDB Error", "body": "<p>I keep getting the following error when running the following ruby script. If anyone can help me fix this it would be greatly appreciated. I've removed any sensitive data such as API keys.</p>\n\n<p>Code:</p>\n\n<pre><code>#!/usr/bin/env ruby\nrequire \"tweetstream\"\nrequire \"mongo\"\nrequire \"time\"\n\nTweetStream.configure do |config|\n  config.consumer_key       = 'KEY'\n  config.consumer_secret    = 'SECRET'\n  config.oauth_token        = 'TOKEN'\n  config.oauth_token_secret = 'TOKEN_SECRET'\n  config.auth_method        = :oauth\nend\n\ndb = Mongo::Connection.new(\"ds045037.mongolab.com\", 45037).db(\"tweets\")\nauth = db.authenticate(\"DB_USERNAME\", \"DB_PASSWORD\")\ntweets = db.collection(\"tweetdata\")\n\nTweetStream::Daemon.new(\"TWITTER_USERNAME\", \"TWITTER_PASSWORD\").track(\"TERM\") do |status|\n  # Do things when nothing's wrong\n  data = {\"created_at\" =&gt; Time.parse(status.created_at), \"text\" =&gt; status.text, \"geo\" =&gt; status.geo, \"coordinates\" =&gt; status.coordinates, \"id\" =&gt; status.id, \"id_str\" =&gt; status.id_str}\n  tweets.insert({\"data\" =&gt; data});\nend\n</code></pre>\n\n<p>Command to start the script:</p>\n\n<pre><code>ruby tweetscrape.rb\n</code></pre>\n\n<p>Ruby version:</p>\n\n<pre><code>ruby 1.9.3p429 (2013-05-15 revision 40747) [x86_64-linux]\n</code></pre>\n\n<p>ruby -c tweetscrape.rb produces:</p>\n\n<pre><code>Syntax OK\n</code></pre>\n\n<p>Error Message:</p>\n\n<pre><code>/usr/local/rvm/gems/ruby-1.9.3-p429/gems/daemons-1.1.9/lib/daemons.rb:184:in `[]=': can't convert Symbol into Integer (TypeError)\n    from /usr/local/rvm/gems/ruby-1.9.3-p429/gems/daemons-1.1.9/lib/daemons.rb:184:in `run_proc'\n    from /usr/local/rvm/gems/ruby-1.9.3-p429/gems/tweetstream-2.5.0/lib/tweetstream/daemon.rb:48:in `start'\n    from /usr/local/rvm/gems/ruby-1.9.3-p429/gems/tweetstream-2.5.0/lib/tweetstream/client.rb:131:in `filter'\n    from /usr/local/rvm/gems/ruby-1.9.3-p429/gems/tweetstream-2.5.0/lib/tweetstream/client.rb:98:in `track'\n    from tweetscrape.rb:19:in `&lt;main&gt;'\n</code></pre>\n\n<p>EDIT: I now have no errors using the below but nothing is entered in to the mongodb:</p>\n\n<pre><code>#!/usr/bin/env ruby\nrequire \"tweetstream\"\nrequire \"mongo\"\nrequire \"time\"\n\nTweetStream.configure do |config|\n  config.consumer_key       = 'gfdsgfdsgfdsgfdsgfdsgfds'\n  config.consumer_secret    = 'gfsdgfdsgfdsgfdsgfsdgfd'\n  config.oauth_token        = 'gfdgfdsgfsdgfdsgfsdgf'\n  config.oauth_token_secret = 'hsgfsdgfsdgfsdgfds'\n  config.auth_method        = :oauth\nend\n\ndb = Mongo::Connection.new(\"ds045037.mongolab.com\", 45037).db(\"tweets\")\nauth = db.authenticate(\"gfsdgfdsgfsd\", \"gfdsgfdsgfdsgfsd\")\ntweets = db.collection(\"tweetdata\")\n\nTweetStream::Client.new.track('TERM') do |status|\n  puts status.text\n  data = {\"created_at\" =&gt; Time.parse(status.created_at), \"text\" =&gt; status.text, \"geo\" =&gt; status.geo, \"coordinates\" =&gt; status.coordinates, \"id\" =&gt; status.id, \"id_str\" =&gt; status.id_str}\n  tweets.insert({\"data\" =&gt; data})\nend\n</code></pre>\n\n<p>Tweets show on screen through puts though...</p>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1369054285, "creation_date": 1369054285, "answer_id": 16649946, "question_id": 16634369, "content_license": "CC BY-SA 3.0", "body": "<p>The initial error you were getting with the Daemon class is because you're not passing the correct parameters to the constructor. The <a href=\"http://rdoc.info/github/intridea/tweetstream/master/TweetStream/Daemon#initialize-instance_method\" rel=\"nofollow\">contructor</a> takes a string and a hash.</p>\n\n<p>Moving on from that , the insert failed because:</p>\n\n<ol>\n<li>parsing status.datetime throws an exception (its already a Time object). </li>\n<li>status.coordinate throws an exception if there's no coordinate.</li>\n</ol>\n\n<p>The following code works for me (note : I added growl so you can see the tweets):</p>\n\n<pre><code>#!/usr/bin/env ruby\nrequire \"tweetstream\"\nrequire \"mongo\"\nrequire \"time\"\nrequire 'growl'\n\nDESIRED = %w{created_at text geo coordinates id id_str}\nhost= ENV[\"MONGO_HOST\"]  || 'localhost'\nport = ENV[\"MONGO_PORT\"]  || 27017\nusername = ENV[\"MONGO_USERNAME\"]\npassword = ENV[\"MONGO_PASSWORD\"]\n\nterm = ARGV[1] || 'TERM'\n\nbegin\n  TweetStream.configure do |config|\n    config.consumer_key       = ENV[\"TWEET_CONSUMER_KEY\"]\n    config.consumer_secret    = ENV[\"TWEET_CONSUMER_SECRET\"]\n    config.oauth_token        = ENV[\"TWEET_OAUTH_TOKEN\"]\n    config.oauth_token_secret = ENV[\"TWEET_OAUTH_TOKEN_SECRET\"]\n    config.auth_method        = :oauth\n  end\n\n  db = Mongo::Connection.new(host, port).db(\"tweets\")\n  db.authenticate(username, password)\n  tweets = db.collection(\"tweetdata\")\n\n  puts \"about to start tracking term #{term}\"\n  TweetStream::Daemon.new('tracker').track(term) do |status|\n    Growl.notify status.text, :title =&gt; status.user.screen_name\n\n    #\n    # filter out nil values\n    # filter out all keys not in the desired array\n    #\n    data = status.attrs.select{|k,v| !v.nil? &amp;&amp; DESIRED.include?(k.to_s)}\n    tweets.insert({\"data\" =&gt; data});\n  end\n\nrescue Mongo::ConnectionFailure\n  puts \"Connection Error :  #{$!}\"\nrescue Mongo::AuthenticationError\n  puts \"Auth Error :  #{$!}\"\nrescue Mongo::MongoDBError\n  puts \"Unexpected Error :  #{$!}\"\nend\n</code></pre>\n\n<p>You'll need to setup your environment with the following correct values :</p>\n\n<pre><code>export MONGO_USERNAME=\"...\"\nexport MONGO_PASSWORD=\"...\"\nexport TWEET_CONSUMER_KEY=\"...\"\nexport TWEET_CONSUMER_SECRET=\"...\"\nexport TWEET_OAUTH_TOKEN=\"...\"\nexport TWEET_OAUTH_TOKEN_SECRET=\"...\"\n</code></pre>\n\n<p>Then you can start the daemon with something like (in this case we'll search for yankees):</p>\n\n<pre><code>ruby tweetscrape.rb start yankees\n</code></pre>\n"}, "validated_answer": true, "validated_root_cause": true}, "14779941": {"question": {"tags": ["php", "mongodb", "xampp"], "is_answered": true, "view_count": 347, "accepted_answer_id": 14779987, "answer_count": 1, "score": 0, "last_activity_date": 1360351876, "creation_date": 1360351672, "question_id": 14779941, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/14779941/php-driver-for-mongodb-error", "title": "php driver for mongodb error", "body": "<p>I am trying to install the php driver for mongodb as described in this <a href=\"http://docs.mongodb.org/ecosystem/drivers/php/\" rel=\"nofollow noreferrer\">link</a>.\nI have downloaded the drivers from gitHub, I tried all the 5.3 versions and I am getting this error: <code>%1 is not a valid win32 application</code> (the error pops out when starting apache on exampp). I have added the needed row in the ini file.\nHere is the screen shot of my php version:<img src=\"https://i.stack.imgur.com/iQScT.png\" alt=\"enter image description here\"></p>\n\n<p>Please help!!!</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1360351876, "creation_date": 1360351876, "answer_id": 14779987, "question_id": 14779941, "content_license": "CC BY-SA 3.0", "body": "<p>It appears that you should be installing the dll with <code>-5.3-vc9.dll</code> at the end. This should be renamed php_mongo.dll and added to the extensions folder.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "11790139": {"question": {"tags": ["mongodb", "partial", "mongodb-.net-driver"], "is_answered": true, "view_count": 242, "accepted_answer_id": 11806943, "answer_count": 1, "score": 0, "last_activity_date": 1344067084, "creation_date": 1343973732, "last_edit_date": 1495540997, "question_id": 11790139, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/11790139/partial-update-on-mongodb-error", "title": "Partial Update on MongoDB Error", "body": "<p>I'm trying to have a partial update on one of my documents in MongoDB, using C# driver. I've followed the following posts:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4818964/how-do-you-update-multiple-field-using-update-set-in-mongodb-using-official-c-sh\">How do you update multiple field using Update.Set in MongoDB using official c# driver?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/7533481/partial-mongodb-upsert-using-the-c-sharp-driver\">Partial mongodb upsert using the c# driver?</a></p>\n\n<p>I get the following error when trying to do the update: \"Only classes can be mapped currently\", in the AutoMapper CreateClassMap class, the type received is System.Collections.Generic.IEnumerable`1[[MongoDB.Bson.BsonElement, MongoDB.Bson]], where it cannot be an interface.</p>\n\n<p>The code I'm using is:</p>\n\n<pre><code>public void UpdateObjectByFields&lt;T&gt;(int id, Dictionary&lt;string, object&gt; modifiedFields)\n    where T : class\n{\n    var collection = m_MongoDatabase.GetCollection&lt;T&gt;();\n    var builder = new UpdateBuilder();\n    foreach (var modifiedField in modifiedFields)\n    {\n        builder.Set(modifiedField.Key, modifiedField.Value.ToString());\n    }\n    collection.Update(Query.EQ(\"_id\", id), builder);\n}\n</code></pre>\n\n<p>where the T type is a valid collection in the Mongo.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Thanks,\nNir</p>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1344067084, "creation_date": 1344067084, "answer_id": 11806943, "question_id": 11790139, "content_license": "CC BY-SA 3.0", "body": "<p>Got this to work, apparently I was using some old dlls for the C# driver.\nFixed it by using the dlls from here:</p>\n\n<p><a href=\"https://github.com/mongodb/mongo-csharp-driver/downloads\" rel=\"nofollow\">https://github.com/mongodb/mongo-csharp-driver/downloads</a></p>\n\n<p>Thanks,\nNir.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "11030785": {"question": {"tags": ["php", "mongodb", "database"], "is_answered": true, "view_count": 352, "accepted_answer_id": 11034885, "answer_count": 1, "score": -1, "last_activity_date": 1501665135, "creation_date": 1339668195, "last_edit_date": 1506103077, "question_id": 11030785, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/11030785/mongodb-error-on-execute-function", "title": "MongoDB error on execute function", "body": "<p>I have the following code for running a mongo query, Where the 'mongotester' is the DB name and 'categories' is the collection name</p>\n\n<p>I am using PECL mongodb library </p>\n\n<pre><code>$m = new Mongo();\n$db = $m-&gt;selectDB('mongotester');\n$a = $db-&gt;execute('return mongotester.categories.count();');\necho \"&lt;pre&gt;\";\nvar_dump($a);\necho \"&lt;pre&gt;\";\n</code></pre>\n\n<p>When I am running this, I am getting the following error, </p>\n\n<pre><code>array(3) {\n   [\"errno\"]=&gt;\n   float(-3)\n  [\"errmsg\"]=&gt;\n     string(78) \"invoke failed: JS Error: ReferenceError: mongotester is not defined     nofile_a:0\"\n  [\"ok\"]=&gt;\n  float(0)\n}\n</code></pre>\n\n<p>Please help me to correct this.</p>\n\n<p>thanks</p>\n\n<p><a href=\"http://phpqa.in\" rel=\"nofollow\">phpqa.in</a></p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1339682919, "creation_date": 1339682919, "answer_id": 11034885, "question_id": 11030785, "content_license": "CC BY-SA 3.0", "body": "<p>Rather than trying to execute() javascript for a count, you can reference the collection directly, eg:</p>\n\n<pre><code>$m = new Mongo();\n$db = $m-&gt;selectDB('mongotester');\n$a = $db-&gt;categories-&gt;count();\necho \"&lt;pre&gt;\";\nvar_dump($a);\necho \"&lt;pre&gt;\";\n</code></pre>\n\n<p>The var_dump in this case is just going to show int(0) unless you've actually inserted some data into the <em>categories</em> collection.</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "9745740": {"question": {"tags": ["mongodb"], "is_answered": true, "view_count": 314, "accepted_answer_id": 9758374, "answer_count": 1, "score": 1, "last_activity_date": 1332074508, "creation_date": 1331940242, "last_edit_date": 1331943638, "question_id": 9745740, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/9745740/mongodb-error-invalid-operator-maxdistance", "title": "mongodb error : invalid operator: $maxDistance", "body": "<p>MongoDB shell version: 2.1.0</p>\n\n<pre><code>$near operator works fine. But as I try (in mongodb shell and nodejs): \n\ndb.locations.find({loc: {$near:[50,50],$maxDistance:50}})\n\nerror: { \"$err\" : \"invalid operator: $maxDistance\" }\n</code></pre>\n\n<p>I tried upgrading mongodb (if you know an easy way to do this I would really really thank you as I had a lot of trouble with trying to shut down the server in order to replace the bin folder...)</p>\n\n<p>Thank you!</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1332074508, "creation_date": 1332074508, "answer_id": 9758374, "question_id": 9745740, "content_license": "CC BY-SA 3.0", "body": "<p>upgrading mongodb solved the problem. 10x!</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "57773251": {"question": {"tags": ["spring", "ssl-certificate", "resttemplate", "weblogic-10.x", "java-5"], "is_answered": true, "view_count": 76, "accepted_answer_id": 57920067, "answer_count": 1, "score": 0, "last_activity_date": 1568364312, "creation_date": 1567519054, "question_id": 57773251, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/57773251/default-ssl-context-init-failed-sunx509-keymanagerfactory-not-available", "title": "Default SSL context init failed: SunX509 KeyManagerFactory not available", "body": "<p>I have an exception when I try to do a post call using restTemplate from my local app hosted on weblogic 10 to an authentication service</p>\n\n<p>I've tried many things like using TLSv1.2 with java 5 (using BouncyCastle provider) by :</p>\n\n<ol>\n<li>Adding the option  -DUseSunHttpHandler=true</li>\n<li>Installing the required certifications</li>\n<li>Adding bcprov-jdk15on-1.60.jar to the jdk</li>\n<li>And this to the java.security :</li>\n</ol>\n\n<pre><code>security.provider.1=sun.security.provider.Sun\nsecurity.provider.2=org.bouncycastle.jce.provider.BouncyCastleProvider\nsecurity.provider.3=sun.security.rsa.SunRsaSign\n</code></pre>\n\n<p>At the end I have this exception :</p>\n\n<pre><code>org.springframework.web.client.ResourceAccessException: I/O error: Default SSL context init failed: SunX509 KeyManagerFactory not available; nested exception is java.net.SocketException: Default SSL context init failed: SunX509 KeyManagerFactory not available\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:453)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:401)\n    at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:302)\n...\nCaused by: java.net.SocketException: Default SSL context init failed: SunX509 KeyManagerFactory not available\n    at javax.net.ssl.DefaultSSLSocketFactory.createSocket(SSLSocketFactory.java:163)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:372)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:166)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:133)\n    at org.springframework.http.client.SimpleClientHttpRequest.executeInternal(SimpleClientHttpRequest.java:58)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:52)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:438)\n    ... 22 more\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1568364312, "last_edit_date": 1568364312, "creation_date": 1568363807, "answer_id": 57920067, "question_id": 57773251, "content_license": "CC BY-SA 4.0", "body": "<p>I've found the missed parts of my configuration to success my post calls :</p>\n\n<p>In addition of using TLSv1.2 above, I had to have this in the java.security file of the JDK :</p>\n\n<pre><code>security.provider.1=sun.security.provider.Sun\nsecurity.provider.2=org.bouncycastle.jce.provider.BouncyCastleProvider\nsecurity.provider.3=sun.security.rsa.SunRsaSign\nsecurity.provider.4=com.sun.net.ssl.internal.ssl.Provider\nsecurity.provider.5=com.sun.crypto.provider.SunJCE\nsecurity.provider.6=sun.security.jgss.SunProvider\nsecurity.provider.7=com.sun.security.sasl.Provider\n</code></pre>\n\n<p>And then got this error when tested my code :</p>\n\n<p><code>Caused by: java.lang.ArrayIndexOutOfBoundsException: 64</code></p>\n\n<p>To fix this I've added the https.cipherSuites param as below :</p>\n\n<pre><code>System.setProperty(\"https.cipherSuites\", \"SSL_RSA_WITH_3DES_EDE_CBC_SHA\");\n</code></pre>\n\n<p>You can either put this when starting the app : \n<code>-Dhttps.cipherSuites=\"SSL_RSA_WITH_3DES_EDE_CBC_SHA\"</code></p>\n\n<p>PS: Pay attention! https.cipherSuites is supported in HttpsURLConnection (in case youy use RestTemplate)</p>\n\n<p>Then it just worked :D</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "48338122": {"question": {"tags": ["kubernetes", "monitoring", "grafana", "prometheus", "minikube"], "is_answered": true, "view_count": 15054, "accepted_answer_id": 48349643, "answer_count": 1, "score": 8, "last_activity_date": 1552662568, "creation_date": 1516355049, "question_id": 48338122, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/48338122/grafana-http-error-bad-gateway-and-templating-init-failed-errors", "title": "Grafana HTTP Error Bad Gateway and Templating init failed errors", "body": "<p>Use <code>helm</code> installed <code>Prometheus</code> and <code>Grafana</code> on <code>minikube</code> at local.</p>\n\n<pre><code>$ helm install stable/prometheus\n$ helm install stable/grafana\n</code></pre>\n\n<p>Prometheus server, alertmanager grafana can run after set port-forward:</p>\n\n<pre><code>$ export POD_NAME=$(kubectl get pods --namespace default -l \"app=prometheus,component=server\" -o jsonpath=\"{.items[0].metadata.name}\")\n$ kubectl --namespace default port-forward $POD_NAME 9090\n\n$ export POD_NAME=$(kubectl get pods --namespace default -l \"app=prometheus,component=alertmanager\" -o jsonpath=\"{.items[0].metadata.name}\")\n$ kubectl --namespace default port-forward $POD_NAME 9093\n\n$ export POD_NAME=$(kubectl get pods --namespace default -l \"app=excited-crocodile-grafana,component=grafana\" -o jsonpath=\"{.items[0].metadata.name}\")\n$ kubectl --namespace default port-forward $POD_NAME 3000\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/sD6Di.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sD6Di.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/UPXUF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UPXUF.png\" alt=\"enter image description here\"></a></p>\n\n<p>Add Data Source from grafana, got <code>HTTP Error Bad Gateway</code> error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Cnn1B.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Cnn1B.png\" alt=\"enter image description here\"></a></p>\n\n<p>Import dashboard 315 from:</p>\n\n<blockquote>\n  <p><a href=\"https://grafana.com/dashboards/315\" rel=\"noreferrer\">https://grafana.com/dashboards/315</a></p>\n</blockquote>\n\n<p>Then check <code>Kubernetes cluster monitoring (via Prometheus)</code>, got <code>Templating init failed</code> error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Wm2kt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Wm2kt.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why?</p>\n"}, "answer": {"is_accepted": true, "score": 14, "last_activity_date": 1516396487, "creation_date": 1516396487, "answer_id": 48349643, "question_id": 48338122, "content_license": "CC BY-SA 3.0", "body": "<p>In the HTTP settings of Grafana you set <code>Access</code> to <code>Proxy</code>, which means that Grafana wants to access Prometheus. Since Kubernetes uses an overlay network, it is a different IP.</p>\n\n<p>There are two ways of solving this:</p>\n\n<ol>\n<li>Set <code>Access</code> to <code>Direct</code>, so the browser directly connects to Prometheus.</li>\n<li>Use the Kubernetes-internal IP or domain name. I don't know about the Prometheus Helm-chart, but assuming there is a <code>Service</code> named <code>prometheus</code>, something like <code>http://prometheus:9090</code> should work.</li>\n</ol>\n"}, "validated_answer": true, "validated_root_cause": true}, "38433460": {"question": {"tags": ["amazon-cloudformation"], "is_answered": true, "view_count": 1026, "accepted_answer_id": 38460670, "answer_count": 1, "score": 2, "last_activity_date": 1468936660, "creation_date": 1468835037, "last_edit_date": 1468908593, "question_id": 38433460, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/38433460/awscloudformation-cfn-init-failed-to-run-command", "title": "AWSCloudFormation - cfn-init failed to run command", "body": "<p>I am using cloudformation for installing elasticsearch.\nI am downloading and extracting tar.gz.\nThe following is my EC2 instance section :</p>\n\n<pre><code> \"masterinstance\": {\n        \"Type\": \"AWS: : EC2: : Instance\",\n        \"Metadata\": {\n            \"AWS: : CloudFormation: : Init\": {\n\n                  \"configSets\" : {\n                    \"ascending\" : [ \"config1\" , \"config2\" ]\n\n                    },\n                \"config1\": {\n                    \"sources\": {\n                        \"/home/ubuntu/\": \"https: //s3.amazonaws.com/xxxxxxxx/elasticsearch.tar.gz\"\n                    },\n                    \"files\": {\n                        \"/home/ubuntu/elasticsearch/config/elasticsearch.yml\": {\n                            \"content\": {\n                                \"Fn: : Join\": [\n                                    \"\",\n                                    [\n                                        xxxxxxxx\n                                    ]\n                                ]\n                            }\n                        }\n                    }\n\n                },\n\n                    \"config2\" : {\n                        \"commands\": {\n                        \"runservice\": {\n                         \"command\": \"~/elasticsearch/bin/elasticsearch\",\n                         \"cwd\" : \"~\",\n                         \"test\" : \"~/elasticsearch/bin/elasticsearch &gt; test.txt\",\n                         \"ignoreErrors\" : \"false\"\n                        }\n                    }\n                }\n            }\n        },\n        \"Properties\": {\n            \"ImageId\": \"ami-xxxxxxxxxx\",\n            \"InstanceType\": {\n                \"Ref\": \"InstanceTypeParameter\"\n            },\n            \"Tags\": [\n                xxxxxxxx\n            ],\n            \"KeyName\": \"everybody\",\n            \"NetworkInterfaces\": [\n                {\n                    \"GroupSet\": [\n                        {\n                            \"Ref\": \"newSecurity\"\n                        }\n                    ],\n                    \"AssociatePublicIpAddress\": \"true\",\n                    \"DeviceIndex\": \"0\",\n                    \"SubnetId\": {\n                        \"Ref\": \"oneSubnet\"\n                    }\n                }\n            ],\n            \"UserData\": {\n                \"Fn: : Base64\": {\n                    \"Fn: : Join\": [\n                        \"\",\n                        [\n                            \"#!/bin/bash\\n\",\n\n                            \"sudo add-apt-repository-yppa: webupd8team/java\\n\",\n                            \"sudo apt-get update\\n\",\n                            \"echo'oracle-java8-installershared/accepted-oracle-license-v1-1selecttrue'|sudo debconf-set-selections\\n\",\n                            \"sudo apt-getinstall-yoracle-java8-installer\\n\",\n\n                            \"apt-get update\\n\",\n                            \"apt-get-y installpython-setuptools\\n\",\n                            \"easy_installhttps: //s3.amazonaws.com/cloudformation-examples/aws-cfn-bootstrap-latest.tar.gz\\n\",\n                            \"/usr/local/bin/cfn-init\",\n                            \"--stack Elasticsearch\",\n                            \"--resource masterinstance\",\n                            \"--configsets ascending\",\n                            \"-v\\n\"\n\n                        ]\n                    ]\n                }\n            }\n</code></pre>\n\n<p>}\n    }</p>\n\n<p>I am using <code>AWS::CloudFormation::Init</code> for configuration and other settings.\nAfter extracting the tar , I want to start elasticsearch , which I am doing through the <code>command</code> section in <code>AWS::CloudFormation::Init</code> but ,\nafter the complete creation of stack when I ssh into my instances, I am not able to see my elasticsearch service running.\nAll other things like extracting tar and creating file is working correctly.</p>\n\n<p>I have gone through the cfn-init.log , it gives me the following information :</p>\n\n<pre><code>2016-07-19 05:53:15,776 P2745 [INFO] Test for Command runservice\n2016-07-19 05:53:15,778 P2745 [INFO] -----------------------Command Output-----------------------\n2016-07-19 05:53:15,778 P2745 [INFO]    /bin/sh: 1: ~/elasticsearch/bin/elasticsearch: not found\n2016-07-19 05:53:15,778 P2745 [INFO] ------------------------------------------------------------\n2016-07-19 05:53:15,779 P2745 [ERROR] Exited with error code 127\n~\n</code></pre>\n\n<p>If I fire the above command <code>~/elasticsearch/bin/elasticsearch</code> directly on my instance then it is working perfectly.</p>\n\n<p>What I am doing wrong here.</p>\n\n<p>Thank you.</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1468936660, "creation_date": 1468936660, "answer_id": 38460670, "question_id": 38433460, "content_license": "CC BY-SA 3.0", "body": "<p>I'm guessing that the home directory (~) is evaluating to a different user (not Ubuntu) when trying to run ES. I think CFN-Init runs as the root user instead of as ubuntu/ec2-user. Try to change the paths in the config2 command block to fully qualified paths (/home/ubuntu/elasticsearch).</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "37325852": {"question": {"tags": ["error-handling", "firebase", "typeerror"], "is_answered": true, "view_count": 564, "accepted_answer_id": 37328005, "answer_count": 2, "score": 0, "last_activity_date": 1463709460, "creation_date": 1463667087, "last_edit_date": 1463671453, "question_id": 37325852, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/37325852/new-firebase-init-failed", "title": "New Firebase init failed", "body": "<p>Wanted to try out the new firebase. However I can't get it working.</p>\n\n<pre><code>app-88ac8456cb.js:14207 Uncaught TypeError: firebase.intializeApp is not a function\n</code></pre>\n\n<p>I was using ES6 imports, however even if I use commonjs like in the docs, its not working.</p>\n\n<pre><code>const config = {\n    apiKey: \"....\",\n    authDomain: \".....firebaseapp.com\",\n    databaseURL: \"https://.....firebaseio.com\",\n    storageBucket: \".....appspot.com\",\n};\n\nlet firebase = require('firebase');\n\nlet fireapp = firebase.intializeApp(config);\n</code></pre>\n\n<p>Installed: \"firebase\": \"^3.0.1\"</p>\n\n<p>Node: 6.2.0</p>\n\n<p>And using gulp with browserify</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1463672289, "creation_date": 1463672289, "answer_id": 37328005, "question_id": 37325852, "content_license": "CC BY-SA 3.0", "body": "<p><code>intializeApp</code> is a typo. You want <code>initializeApp</code>. </p>\n\n<p>If you cut and paste that from somewhere let me know and we can try and get it fixed!</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "31810885": {"question": {"tags": ["java", "json", "web-services", "rest", "tomcat"], "is_answered": true, "view_count": 372, "accepted_answer_id": 31811760, "answer_count": 1, "score": 1, "last_activity_date": 1438697781, "creation_date": 1438695548, "question_id": 31810885, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/31810885/servlet-init-failed-when-path-changed", "title": "Servlet init failed when path changed?", "body": "<p>I'm building a rest web service in java. </p>\n\n<p>here is a method </p>\n\n<pre><code>@Path(\"/json/book\")\npublic class bookLibWS {\n@GET\n@Path(\"/test/{book}\")\npublic Response addBook(@PathParam(\"book\") Book aBook)  {\n...}\n}\n</code></pre>\n\n<p>and i did reach it with the url <a href=\"http://localhost:8081/BookLibWS/rest/json/book/test/test\" rel=\"nofollow\">http://localhost:8081/BookLibWS/rest/json/book/test/test</a></p>\n\n<p>All was find , then i'have added a new method and rename @Path of the first one </p>\n\n<pre><code>//first methode\n@GET\n@Path(\"/get/{book}\")    \npublic Response addBook(@PathParam(\"book\") Book aBook)  {...}\n\n//second one\n@GET\n@Path(\"/getAllBook\")\n@Produces(MediaType.APPLICATION_JSON)\npublic List&lt;Book&gt; getListBook(){...}\n</code></pre>\n\n<p>But know when i go to</p>\n\n<p><a href=\"http://localhost:8081/BookLibWS/rest/json/book/get/test\" rel=\"nofollow\">http://localhost:8081/BookLibWS/rest/json/book/get/test</a>\nor\n<a href=\"http://localhost:8081/BookLibWS/rest/json/book/getAllBook\" rel=\"nofollow\">http://localhost:8081/BookLibWS/rest/json/book/getAllBook</a></p>\n\n<p>I have got this error </p>\n\n<pre><code>&gt;    Etat HTTP 500 - \"Servlet.init()\" pour la servlet jersey-serlvet a g\u00e9n\u00e9r\u00e9 &gt;une    exception\n\n&gt;type Rapport d''exception\n\n&gt;message \"Servlet.init()\" pour la servlet jersey-serlvet a g\u00e9n\u00e9r\u00e9 une exception\n\n&gt;description Le serveur a rencontr\u00e9 une erreur interne qui l''a emp\u00each\u00e9 de &gt;satisfaire la requ\u00eate.\n\nexception\n\njavax.servlet.ServletException: \"Servlet.init()\" pour la servlet jersey-serlvet &gt;a g\u00e9n\u00e9r\u00e9 une exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.ja&gt;va:503)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)\n    org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2462)\n    org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2451)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:744)\ncause m\u00e8re\n\ncom.sun.jersey.spi.inject.Errors$ErrorMessagesException\n    com.sun.jersey.spi.inject.Errors.processErrorMessages(Errors.java:170)\n    com.sun.jersey.spi.inject.Errors.postProcess(Errors.java:136)\n    com.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:199)\n    com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicati&gt;onImpl.java:771)\n    &gt;com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplic&gt;ati&gt;onImpl.java:766)\n    &gt;com.sun.jersey.spi.container.servlet.ServletContainer.initiate(ServletContainer&gt;.java:488)\n    com.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.init&gt;iate(ServletContainer.java:318)\n    com.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:609)\n    com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:210&gt;)\n    com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:373)\n    com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.&gt;java:556)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.ja&gt;va:503)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processo&gt;r.java:1070)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(Abstrac&gt;tProtocol.java:611)\n    org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2&gt;462)\n    org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2451)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:&gt;61)\n    java.lang.Thread.run(Thread.java:744)\nnote La trace compl\u00e8te de la cause m\u00e8re de cette erreur est disponible dans lesfichiers journaux de Apache Tomcat/7.0.56.\n</code></pre>\n\n<p>I thought that might be cause by cache memory of browser or tomcat server , so i'v restarted my server , clean my cache and even restarted my computer >&lt;</p>\n\n<p>Anyway i need help .</p>\n\n<p>I followed this tutorial to build my WS : <a href=\"http://www.mkyong.com/webservices/jax-rs/jersey-hello-world-example/\" rel=\"nofollow\">http://www.mkyong.com/webservices/jax-rs/jersey-hello-world-example/</a> </p>\n\n<p>here is my web.xml file </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;web-app id=\"WebApp_ID\" version=\"2.4\"\n    xmlns=\"http://java.sun.com/xml/ns/j2ee\" \n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee \n    http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\"&gt;\n    &lt;display-name&gt;Restful Web Application&lt;/display-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;\n                     com.sun.jersey.spi.container.servlet.ServletContainer\n                &lt;/servlet-class&gt;\n        &lt;init-param&gt;\n           &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt; \n             &lt;param-value&gt;rest&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>I'm using apache tomcat 7.0.56 </p>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1438697781, "creation_date": 1438697781, "answer_id": 31811760, "question_id": 31810885, "content_license": "CC BY-SA 3.0", "body": "<p>Annotate <code>Book</code> with <code>@XmlRootElement</code> from JAXB.</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "23446959": {"question": {"tags": ["erlang", "rabbitmq"], "is_answered": true, "view_count": 1111, "accepted_answer_id": 23460179, "answer_count": 2, "score": 1, "last_activity_date": 1399229299, "creation_date": 1399134176, "question_id": 23446959, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/23446959/server-init-failed-rabbitmq", "title": "Server init failed RabbitMQ", "body": "<p>I'm trying to run rabbitmq (3.3.1) server on my computer (win 7 professional) and I'm using erlang 6.0 (OTP 17.0). Server refuses to start giving such output (console):</p>\n\n<pre><code>    {\"init terminating in do_boot\",\n    {badarg,[{io,format,[&lt;0.29.0&gt;,\"~n~nBOOT FAILED~n===========~n~n\n    Error description:~n   ~p~n~n\n    Log files (may contain more information):~n   ~s~n   ~s~n~n\",\n    [{could_not_start,rabbit,badarg},\n    [67,58,47,85,115,101,114,115,47,80,105,111,116,114,32,82,97,99,104,119,97,322,47,65,112,112,68,97,116,97,47,82,111,97,109,105,110,103,47,82,97,98,98,105,116,77,81,47,108,111,103,47,114,97,98,98,105,116,64,73,53,45,51,53,55,48,75,46,108,111,103],\n    [67,58,47,85,115,101,114,115,47,80,105,111,116,114,32,82,97,99,104,119,97,322,47,65,112,112,68,97,116,97,47,82,111,97,109,105,110,103,47,82,97,98,98,105,116,77,81,47,108,111,103,47,114,97,98,98,105,116,64,73,53,45,51,53,55,48,75,45,115,97,115,108,46,108,111,103]]],\n    []},\n    {rabbit,basic_boot_error,3,[]},\n    {rabbit,start_it,1,[]},\n    {init,start_it,1,[{file,\"init.erl\"},{line,1057}]},\n    {init,start_em,1,[{file,\"init.erl\"},{line,1037}]}]\n    }}\n    init terminating in do_boot ()\n</code></pre>\n\n<p>In server log file I found that message:</p>\n\n<pre><code>=CRASH REPORT==== 3-May-2014::18:04:35 ===\ncrasher:\n    initial call: application_master:init/4\n    pid: &lt;0.70.0&gt;\n    registered_name: []\n    exception exit: {bad_return,\n                        {{rabbit,start,[normal,[]]},\n                         {'EXIT',\n                             {badarg,\n                                 [{io,format,\n                                      [&lt;0.70.0&gt;,\n                                       \"~n              ~s ~s. ~s~n  ##  ##...\",\n                                       [\"RabbitMQ\",\"3.3.1\",\n                                        \"Copyright (C) 2007-2014 GoP...\",\n                                        \"Licensed under the MPL.  S...\",\n                                        [67,58,47,85,115,101,114,115,47,80,\n                                         105,111,116,114,32,82,97,99,104,119,\n                                         97,322,47,65,112,112,68,97,'...'],\n                                        [67,58,47,85,115,101,114,115,47,80,\n                                         105,111,116,114,32,82,97,99,104,119,\n                                         97,322,47,65,112,112,68,'...']]],\n                                      []},\n                                  {rabbit,start,2,[]},\n                                  {application_master,start_it_old,4,\n                                      [{file,\"application_master.erl\"},\n                                       {line,272}]}]}}}}\n      in function  application_master:init/4 (application_master.erl, line 133)\n    ancestors: [&lt;0.69.0&gt;]\n    messages: [{'EXIT',&lt;0.71.0&gt;,normal}]\n    links: [&lt;0.69.0&gt;,&lt;0.7.0&gt;]\n    dictionary: []\n    trap_exit: true\n    status: running\n    heap_size: 2586\n    stack_size: 27\n    reductions: 306\n  neighbours:\n</code></pre>\n\n<p>I use default server configuration. Thanks in advance.</p>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1399229299, "creation_date": 1399229299, "answer_id": 23460179, "question_id": 23446959, "content_license": "CC BY-SA 3.0", "body": "<p>You should try to start sasl prior to launch the rabbit server (application:start(sasl)) in order to get more information. I have checked the code of the function start(normal,[]) in rabbit module of rabbitmq-server on github, and I didn't see direct call to io:format/2. A more detailed report could help.</p>\n\n<p>What you can see is that the io:format failed, with badarg reason, the format and parameters are truncated in the display, so it is not possible to be sure of the error, but a possible reason is that the length of the parameter list does not fit to the format definition.</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "20860974": {"question": {"tags": ["android", "ibm-mobilefirst"], "is_answered": true, "view_count": 960, "accepted_answer_id": 20861023, "answer_count": 1, "score": 0, "last_activity_date": 1388511035, "creation_date": 1388510540, "last_edit_date": 1388511035, "question_id": 20860974, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/20860974/ibm-worklight-client-init-failed-connection-to-the-service-is-not-available", "title": "IBM Worklight - &quot;Client init failed. Connection to the service is not available.&quot;", "body": "<p>I've created an Android app in Worklight Developer Edition. \nWhen I change the <code>connectOnStartup</code> property to <code>true</code> in the <code>initOptions.js</code> file and then install the application on the device, on startup, in LogCat I see:</p>\n\n<pre><code>Client init failed. Connection to the service is not available.\n</code></pre>\n\n<p>And in the app there's a dialog with:</p>\n\n<pre><code>The application failed connecting to the service.\n</code></pre>\n\n<p>Can anyone help me?</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1388510842, "creation_date": 1388510842, "answer_id": 20861023, "question_id": 20860974, "content_license": "CC BY-SA 3.0", "body": "<p>Make sure your device and host are using the same WiFi network...</p>\n\n<p>To verify your <strong>device</strong> is able to connect to the server, open a mobile browser app (either the stock app or Chrome or otherwise, doesn't matter) and load <code>http://your-server-address:10080/your-project-name/console</code></p>\n\n<ul>\n<li>If you do not see Worklight Console, then you have a network issue here, likely not using the same network or you are blocking some ports, etc</li>\n<li>If you do see Worklight Console, then we have another problem here...</li>\n</ul>\n"}, "validated_answer": true, "validated_root_cause": false}, "15403461": {"question": {"tags": ["html", "init", "galleria"], "is_answered": true, "view_count": 1090, "accepted_answer_id": 15425749, "answer_count": 1, "score": 0, "last_activity_date": 1422808879, "creation_date": 1363246013, "last_edit_date": 1422808879, "question_id": 15403461, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/15403461/init-failed-galleria-could-not-find-the-element-runpics", "title": "Init failed: Galleria could not find the element &quot;#runPics&quot;", "body": "<p>I have this error on my page using Galleria\nI created a test page before and it worked perfectly. but ow I need to use it on a content page from master\nso when I brought all data over, it gave this error.\nit loads the listview with pics, but not galleria\nplease help</p>\n\n\n\n\n\n<p></p>\n\n<pre><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 //EN\"&gt;\n</code></pre>\n\n\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"../galleria/galleria-1.2.9.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"../galleria/themes/classic/galleria.classic.min.js\"&gt;&lt;/script&gt;\n&lt;link type=\"text/css\" rel=\"stylesheet\" href=\"../gallerai/themes/classic/galleria.classic.css\" /&gt;\n\n&lt;style &gt;\n    #galleria\n    {\n        width: 700px;\n        height: 400px;\n        background: #000;\n    }\n&lt;/style&gt;\n&lt;style &gt;\n    .body\n    {\n        width: 700px;\n        height: 500px;\n    }\n&lt;/style&gt;\n\n\n&lt;asp:SqlDataSource ID=\"SqlDataSource1\" runat=\"server\" ConnectionString=\"&lt;%$ ConnectionStrings:ConnectionString %&gt;\" SelectCommand=\"select i.imageID, g.Title, i.[Image Title], i.[Image] from Images i, Gallery g where g.ID = i.[Gallery ID]\"&gt;&lt;/asp:SqlDataSource&gt;\n\n    &lt;div style=\"width: 700px; text-align: center; height: 500px\"&gt;\n        &lt;div id=\"runPics\" runat=\"server\"&gt;\n        &lt;br /&gt;\n        &lt;br /&gt;\n\n        &lt;asp:ListView ID=\"lstPics\" runat=\"server\" DataSourceID=\"SqlDataSource1\"&gt;\n\n\n            &lt;ItemTemplate&gt;\n                &lt;td&gt;\n\n                    &lt;Club:ImageThumbnail ID=\"ImageThumbnail2\" runat=\"server\" PhotoID='&lt;%# Bind(\"imageID\") %&gt;' /&gt;\n\n                &lt;/td&gt;\n            &lt;/ItemTemplate&gt;\n        &lt;/asp:ListView&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;%--    &lt;div id=\"galleria\"&gt;\n    &lt;img src=\"../images/1.jpg\"&gt;\n    &lt;img src=\"../images/3.jpg\"&gt;\n    &lt;img src=\"../images/4.jpg\"&gt;\n    &lt;img src=\"../images/5.jpg\"&gt;\n    &lt;img src=\"../images/6.jpg\"&gt;\n    &lt;img src=\"../images/7.jpg\"&gt;\n&lt;/div&gt;--%&gt;\n\n&lt;script &gt;\n    //$('#gallery').galleria({\n    //    width: 700,\n    //    height: 400\n    //});\n    //Galleria.loadTheme('../galleria/themes/classic/galleria.classic.min.js');\n    Galleria.configure({\n        transition: 'fade'\n\n    });\n    Galleria.run('#runPics', {\n        autoplay: 5000\n    });\n    Galleria.ready(function (o) {\n        var gallery = this,\n            p = !!o.autoplay;\n        this.$('thumbs,more').click(function () {\n            gallery.pause();\n        });\n        this.$('desc,thumbnails').click(function () {\n            p &amp;&amp; gallery.play();\n        });\n    });\n\n&lt;/script&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p></p>\n\n<p>all this is inbetween a asp:content tag</p>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1363327019, "creation_date": 1363327019, "answer_id": 15425749, "question_id": 15403461, "content_license": "CC BY-SA 3.0", "body": "<p>fixed it</p>\n\n<p>changed web.config to   :    system.web\n        pages controlRenderingCompatibilityVersion=\"3.5\" clientIDMode=\"Static\" /></p>\n\n<p>and removed the td> tags in my listview</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "3927733": {"question": {"tags": ["java", "ssl"], "is_answered": true, "view_count": 11468, "accepted_answer_id": 3929050, "answer_count": 1, "score": 1, "last_activity_date": 1287111727, "creation_date": 1287001764, "question_id": 3927733, "content_license": "CC BY-SA 2.5", "link": "https://stackoverflow.com/questions/3927733/default-ssl-context-init-failed-null", "title": "Default SSL context init failed: null", "body": "<p>When creating a SSL server, I got this exception: <code>Default SSL context init failed: null</code>. It seems that it comes from the fact it can't find the keystore and truststore. I try to set them from a jar file. The file exists in the jar but it seems that the resource cannot be found.</p>\n\n<pre><code>String keystore = TestFramework.class.getResource(\"/security/keystore.jks\").getFile();\nSystem.setProperty(\"javax.net.ssl.keyStore\", keystore);\nSystem.setProperty(\"javax.net.ssl.keyStorePassword\", password);\nString truststore = TestFramework.class.getResource(\"/security/truststore\").getFile();\nSystem.setProperty(\"javax.net.ssl.trustStore\", truststore);\nSystem.setProperty(\"javax.net.ssl.trustStorePassword\", \"ebxmlrr\");\n</code></pre>\n\n<p>I ran a <code>ls</code> command to check if the file exists. It exists. Then I check if the keystore.jks exists by running the command <code>jar -tf myjar.jar | grep security</code> and it exists.</p>\n\n<pre><code>security/\nsecurity/keystore.jks\nsecurity/truststore\n</code></pre>\n\n<p>My application is running under Tomcat.</p>\n"}, "answer": {"is_accepted": true, "score": 7, "last_activity_date": 1287111727, "last_edit_date": 1287111727, "creation_date": 1287015122, "answer_id": 3929050, "question_id": 3927733, "content_license": "CC BY-SA 2.5", "body": "<p>The reason that won't work is that those system properties are expecting a file on the actual filesystem, not from within an archive. You'd be better off creating your own <a href=\"http://download.oracle.com/javase/6/docs/api/javax/net/ssl/SSLContext.html\" rel=\"noreferrer\"><code>SSLContext</code></a> using those keystore and trustore streams:</p>\n\n<pre><code>KeyStore keyStore = KeyStore.getInstance(\"jks\");\nkeyStore.load(TestFramework.class.getResourceAsStream(\"/security/keystore.jks\"), password.toCharArray());\nKeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(\"SunX509\");\nkeyManagerFactory.init(keyStore, password.toCharArray());\n\nKeyStore trustStore = KeyStore.getInstance(\"jks\");\ntrustStore.load(TestFramework.class.getResourceAsStream(\"/security/truststore\"), \"ebxmlrr\".toCharArray());\nTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(\"SunX509\");\ntrustManagerFactory.init(trustStore);\n\nSSLContext context = SSLContext.getInstance(\"SSL\");\ncontext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), new SecureRandom());\n\n...\n\nHttpsURLConnection urlConnection = (HttpsURLConnection) url.openConnection();\nurlConnection.setSSLSocketFactory(context.getSocketFactory());\n</code></pre>\n"}, "validated_answer": true, "validated_root_cause": true}, "61526684": {"question": {"tags": ["sql", "jboss", "nssm"], "is_answered": true, "view_count": 41, "accepted_answer_id": 61563815, "answer_count": 1, "score": 0, "last_activity_date": 1588464430, "creation_date": 1588259375, "last_edit_date": 1588346470, "question_id": 61526684, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/61526684/server-fail-while-running-as-windows-service", "title": "server fail while running as windows service", "body": "<p>I have a jboss EAP7.1 server  that connect to windows sql server management studio 18 with windows authentification and start correctly . \nBut when i've added the jboss server as a windows service with nssm <a href=\"https://nssm.cc/\" rel=\"nofollow noreferrer\">https://nssm.cc/</a> so that the server  restart automatically when the vm/computer restart . it fail when the computer restart .</p>\n\n<pre><code>2020-04-30 16:22:18,454 WARN  [org.jboss.jca.core.connectionmanager.pool.strategy.OnePool] (JCA PoolFiller) IJ000610: Unable to fill pool: java:/poc_DataSource: javax.resource.ResourceException: IJ031084: Unable to create connection\n    at org.jboss.jca.adapters.jdbc.xa.XAManagedConnectionFactory.getXAManagedConnection(XAManagedConnectionFactory.java:509)\n    at org.jboss.jca.adapters.jdbc.xa.XAManagedConnectionFactory.createManagedConnection(XAManagedConnectionFactory.java:416)\n    at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.createConnectionEventListener(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:1327)\n    at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.fillTo(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:1139)\n    at org.jboss.jca.core.connectionmanager.pool.mcp.PoolFiller.run(PoolFiller.java:97)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Cannot open database \"poc\" requested by the login. The login failed. ClientConnectionId:8598e423-438a-4669-ba1d-7bde7c8f7c1b\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:262)\n    at com.microsoft.sqlserver.jdbc.TDSTokenHandler.onEOF(tdsparser.java:258)\n    at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:104)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection$1LogonProcessor.complete(SQLServerConnection.java:4752)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:5037)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:3668)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.access$000(SQLServerConnection.java:94)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:3627)\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7194)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2935)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:2456)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:2103)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1950)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1162)\n    at com.microsoft.sqlserver.jdbc.SQLServerDataSource.getConnectionInternal(SQLServerDataSource.java:1067)\n    at com.microsoft.sqlserver.jdbc.SQLServerPooledConnection.createNewConnection(SQLServerPooledConnection.java:81)\n    at com.microsoft.sqlserver.jdbc.SQLServerPooledConnection.&lt;init&gt;(SQLServerPooledConnection.java:56)\n    at com.microsoft.sqlserver.jdbc.SQLServerXAConnection.&lt;init&gt;(SQLServerXAConnection.java:36)\n    at com.microsoft.sqlserver.jdbc.SQLServerXADataSource.getXAConnection(SQLServerXADataSource.java:60)\n    at com.microsoft.sqlserver.jdbc.SQLServerXADataSource.getXAConnection(SQLServerXADataSource.java:92)\n    at org.jboss.jca.adapters.jdbc.xa.XAManagedConnectionFactory.getXAManagedConnection(XAManagedConnectionFactory.java:494)\n    ... 5 more\n\n2020-04-30 16:22:18,484 WARN  [org.jboss.jca.core.connectionmanager.pool.strategy.OnePool] (JCA PoolFiller) IJ000610: Unable to fill pool: java:/poc-editor_securityStore: javax.resource.ResourceException: IJ031084: Unable to create connection\n    at org.jboss.jca.adapters.jdbc.xa.XAManagedConnectionFactory.getXAManagedConnection(XAManagedConnectionFactory.java:509)\n    at org.jboss.jca.adapters.jdbc.xa.XAManagedConnectionFactory.createManagedConnection(XAManagedConnectionFactory.java:416)\n    at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.createConnectionEventListener(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:1327)\n    at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.fillTo(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:1139)\n    at org.jboss.jca.core.connectionmanager.pool.mcp.PoolFiller.run(PoolFiller.java:97)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Cannot open database \"poc\" requested by the login. The login failed. ClientConnectionId:0ad5be24-214c-4936-a208-86a5a0170969\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:262)\n    at com.microsoft.sqlserver.jdbc.TDSTokenHandler.onEOF(tdsparser.java:258)\n    at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:104)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection$1LogonProcessor.complete(SQLServerConnection.java:4752)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:5037)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:3668)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.access$000(SQLServerConnection.java:94)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:3627)\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7194)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2935)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:2456)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:2103)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1950)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1162)\n    at com.microsoft.sqlserver.jdbc.SQLServerDataSource.getConnectionInternal(SQLServerDataSource.java:1067)\n    at com.microsoft.sqlserver.jdbc.SQLServerPooledConnection.createNewConnection(SQLServerPooledConnection.java:81)\n    at com.microsoft.sqlserver.jdbc.SQLServerPooledConnection.&lt;init&gt;(SQLServerPooledConnection.java:56)\n    at com.microsoft.sqlserver.jdbc.SQLServerXAConnection.&lt;init&gt;(SQLServerXAConnection.java:36)\n    at com.microsoft.sqlserver.jdbc.SQLServerXADataSource.getXAConnection(SQLServerXADataSource.java:60)\n    at com.microsoft.sqlserver.jdbc.SQLServerXADataSource.getXAConnection(SQLServerXADataSource.java:92)\n    at org.jboss.jca.adapters.jdbc.xa.XAManagedConnectionFactory.getXAManagedConnection(XAManagedConnectionFactory.java:494)\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1588464430, "last_edit_date": 1588464430, "creation_date": 1588441628, "answer_id": 61563815, "question_id": 61526684, "content_license": "CC BY-SA 4.0", "body": "<p>i have changed the authentification in the standalone.xml from wivdows authentification to a user/passwd authentification and it's solved </p>\n"}, "validated_answer": true, "validated_root_cause": false}, "57301646": {"question": {"tags": ["javascript", "python", "websocket", "electron", "aiohttp"], "is_answered": true, "view_count": 239, "accepted_answer_id": 57304754, "answer_count": 1, "score": 1, "last_activity_date": 1565282705, "creation_date": 1564632040, "last_edit_date": 1564676462, "question_id": 57301646, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/57301646/electron-socket-io-client-python-socketio-aiohttp-server-fail-to-connect", "title": "electron/socket.io client - python-socketio/aiohttp server // fail to connect", "body": "<p>This websocket connection fails. The funny thing is this was working a couple days ago. I downgraded electron from 6 to 5.0.6 but this didn't help.</p>\n\n<p><a href=\"https://i.stack.imgur.com/x710V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x710V.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/DX3vV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DX3vV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Server</p>\n\n<pre><code>from aiohttp import web\nimport socketio\n\n\napp = web.Application()\nsio = socketio.AsyncServer()\n# or sio = socketio.AsyncServer(cors_allowed_origins='*')\nsio.attach(app)\n\n@sio.on('connect')\nasync def user_connected(sid, arg):\n    print(sid)\n    print(arg)\n\nif __name__ == '__main__':\n    web.run_app(app)\n</code></pre>\n\n<p>Client (also tested from pure node)</p>\n\n<pre><code>const con = 'http://0.0.0.0:8080';\nconst socket = require('socket.io-client').connect(con);\n\nsocket.on('connect', (e) =&gt; console.log(e));\n</code></pre>\n\n<p>When I try it in the browser, I get cors error. Thus, I allowed cors which made it work</p>\n\n<pre><code>sio = socketio.AsyncServer(cors_allowed_origins='*')\n</code></pre>\n\n<p>When I run this from electron/node now, I get the same error as initially plus a key error:\n<a href=\"https://i.stack.imgur.com/hfhgP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hfhgP.png\" alt=\"enter image description here\"></a></p>\n\n<p>Since it was working before, and now it doesn't on 2 different machines and with a minimal example project, I have no idea what could cause all of this. </p>\n\n<p>Please help me stack people.</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1565282705, "last_edit_date": 1565282705, "creation_date": 1564647834, "answer_id": 57304754, "question_id": 57301646, "content_license": "CC BY-SA 4.0", "body": "<p>After a chat with Miguel Grinberg on twitter, I found out how to set it up. There are a couple of things. First of all 4.3 introduced CORS restriction by default. There was a bug with CORS headers from node client, since node is not a browser. That is fixed by now.</p>\n\n<p>However, it is still not enough to simply <code>pip install python-socketio</code>\nYou have to install the master branch of <code>python-enginio</code> manually as there is the CORS header fix.</p>\n\n<p>My Pipfile looks like this:</p>\n\n<pre><code>[packages]\naiohttp = \"*\"\naiohttp-cors = \"*\"\npython-enginio = {git = \"https://github.com/miguelgrinberg/python-engineio/\",ref = \"master\"}\npython-socketio = \"*\"\n</code></pre>\n\n<p>Dont forget to allow CORS now serverside.</p>\n\n<pre><code>sio = socketio.AsyncServer(cors_allowed_origins='*')\n</code></pre>\n"}, "validated_answer": true, "validated_root_cause": true}, "53602959": {"question": {"tags": ["apache-kafka", "apache-zookeeper"], "is_answered": true, "view_count": 531, "accepted_answer_id": 53605171, "answer_count": 1, "score": 1, "last_activity_date": 1543934901, "creation_date": 1543876293, "last_edit_date": 1543934901, "question_id": 53602959, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/53602959/what-is-a-split-brain-when-one-zookeeper-server-fail-from-total-3-zookeepers", "title": "what is a split brain , when one zookeeper server fail from total 3 zookeepers", "body": "<p>We have 3 zookeepers servers, and 6 Kafka machines. What could be when one zookeeper server fail, and we have now only two zookeeper servers, what is the chance to get \"split brain\"?</p>\n\n<p>As I understand when we get a split brain, then the two zookeepers that still alive actually not working as should be.</p>\n"}, "answer": {"is_accepted": true, "score": 3, "last_activity_date": 1543893227, "creation_date": 1543893227, "answer_id": 53605171, "question_id": 53602959, "content_license": "CC BY-SA 4.0", "body": "<p>In ZooKeeper, an even number of peers is supported, but it is normally not used because an even sized ensemble requires, proportionally, more peers to form a quorum than an odd sized ensemble requires. For example, an ensemble with 4 peers requires 3 to form a quorum, while an ensemble with 5 also requires 3 to form a quorum. Thus, an ensemble of 5 allows 2 peers to fail and still maintain quorum, and thus is more fault tolerant than the ensemble of 4, which allows only 1 down peer.</p>\n\n<p>So in your case with 3 ensemble, it will support only 1 node failure, as with remaining 2 , it can't form a quorum</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "51498876": {"question": {"tags": ["sql-server", "service"], "is_answered": true, "view_count": 23, "accepted_answer_id": 51499349, "answer_count": 1, "score": 0, "last_activity_date": 1532437405, "creation_date": 1532436018, "question_id": 51498876, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/51498876/service-sql-server-fail-to-start", "title": "Service SQL Server - Fail to start", "body": "<p>I have a trouble with a service SQL EXPRESS. I found a workaround but the error comes back sometimes. It happens on a customer PC  so I want to solve the problem definitely.</p>\n\n<p>My problem is :</p>\n\n<ul>\n<li>Sometimes, the service <code>SQL Server (SQLEXPRESS)</code> fail to start</li>\n</ul>\n\n<p>My workaround is :</p>\n\n<ul>\n<li>In service manager, I go on the service's properties. In <code>log on</code> tab, I remove user password and restart the service.</li>\n<li>The service starts properly.</li>\n</ul>\n\n<p>I saw that it can by caused by a windows update or a user password change. How can I fix definitely this trouble ? It the third time in few months it happens, I solved it but it's not very reassuring for the customer.</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1532437405, "creation_date": 1532437405, "answer_id": 51499349, "question_id": 51498876, "content_license": "CC BY-SA 4.0", "body": "<p>The issue sounds like the user accounts password required a change, he probably changed it but never thought to change the password the service uses.  So the next time that server reboots (and the service restarted) it failed.  This is a very common thing to happen.  The two solutions I would recommend are as follows:</p>\n\n<ul>\n<li>If you do not need the SQL to run under a specific account, don't have the service start as a specific user.  That is completely normal.</li>\n<li>If SQL must start and run as a specific user, create a user account and tell the customer this is a service account.  Make sure the account has the desired privileges.  It can be a domain or a local account and make sure the password is set to never expire.</li>\n</ul>\n"}, "validated_answer": true, "validated_root_cause": true}, "51022522": {"question": {"tags": ["android", "sql", "jtds"], "is_answered": true, "view_count": 383, "accepted_answer_id": 51026480, "answer_count": 1, "score": -1, "last_activity_date": 1529938754, "creation_date": 1529926468, "last_edit_date": 1529931979, "question_id": 51022522, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/51022522/jtds-connect-to-remote-server-fail", "title": "JTDS connect to remote server fail", "body": "<p>don't know why, the app when connecting to the SQL Server that is on the same network as the device, I can connect to it without any problems, but now I need to connect from the device over the internet to the SQL Server, isn't working, don't know why. I have a button to test the connection and it will call a method that contains this, the method is on background (AsyncTaskRunner)</p>\n\n<pre><code>try\n{\n    String host, port, dbname, user, password, instance;\n    host = _editTextHost.getText().toString();\n    port = _editTextPort.getText().toString();\n    instance = _editTextInstance.getText().toString();\n    dbname = _editTextDbName.getText().toString();\n    user = _editTextUser.getText().toString();\n    password = _editTextPass.getText().toString();\n    String driver = \"net.sourceforge.jtds.jdbc.Driver\";\n    String conString;\n    if (TextUtils.isEmpty(port))\n    {\n        conString = \"jdbc:jtds:sqlserver://\" + host + \";databaseName=\" + dbname + \";instance=\" + instance;\n    }\n    else\n    {\n        conString = \"jdbc:jtds:sqlserver://\" + host + \":\" + port + \";databaseName=\" + dbname + \";instance=\" + instance;\n    }\n    Connection con;\n    Class.forName(driver);\n    con = DriverManager.getConnection(conString, user, password);\n    con.close();\n    conSuccess = true;\n}\ncatch (Exception e)\n{\n    e.printStackTrace();\n    Log.e(\"SQLConfig\", \"Fail to connect\");\n    Log.e(\"SQLConfig\", e.toString());\n    Log.e(\"SQLConfig\", e.getMessage());\n}\nreturn null;\n</code></pre>\n\n<p>When I do try to connect to the SQL Server on the same network works without any problems, but when I activate the 4g on the device I allways get the same error, that it can't find the instance. But if I connect to the server through the \"SQL Server Management Studio\" using the same information I can connect to the server without any problems.</p>\n\n<p>I'm using the jtds driver, 1.3.1.</p>\n\n<p>What could be doing this? Thanks</p>\n\n<p>P.S. I all rdy have read some stuff about webservice, but I want to remove this option for now out of the picture</p>\n\n<p>Edit 1: To clarify, I can connect to the server using the credentials on the version of Windows CE of the program or SQL Server Management Studio. When I put the outside IP and all the require information it connects to the server, it not connect on the Android only</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1529938754, "creation_date": 1529938754, "answer_id": 51026480, "question_id": 51022522, "content_license": "CC BY-SA 4.0", "body": "<p>Well by changing the conString  a little I was able to connect without any problems either from the localnetwork or the internet.</p>\n\n<pre><code>if (TextUtils.isEmpty(port))\n{\n    conString = \"jdbc:jtds:sqlserver://\" + host + \";databaseName=\" + dbname + \";instance=\" + instance;\n}\nelse\n{\n    conString = \"jdbc:jtds:sqlserver://\" + host + \":\" + port + \";databaseName=\" + dbname + \";instance=\" + instance;\n}\n</code></pre>\n\n<p>To </p>\n\n<pre><code>if (TextUtils.isEmpty(port))\n{\n    conString = \"jdbc:jtds:sqlserver://\" + host + \"/\" + instance + \";DatabaseName=\" +dbname;\n}\nelse\n{\n    conString = \"jdbc:jtds:sqlserver://\" + host + \":\" + port + \"/\" + instance + \";DatabaseName=\" + dbname;\n}\n</code></pre>\n\n<p>Now works without any problems either using the public host or the localnetwork to access the db.</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "49591924": {"question": {"tags": ["angularjs", "http"], "is_answered": true, "view_count": 370, "accepted_answer_id": 49597934, "answer_count": 5, "score": 0, "last_activity_date": 1522584830, "creation_date": 1522526819, "question_id": 49591924, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/49591924/angularjs-request-to-localhost-server-fail", "title": "AngularJS - Request to localhost server fail", "body": "<p>I have made an api end point using express.</p>\n\n<p>Now im trying to get the data from my localhost server that is running on port 3010.</p>\n\n<pre><code>$scope.getBooks = function(){\n$http.get('/api/books').then(function(resp){\n  $scope.books = resp;\n});\n}\n</code></pre>\n\n<p>The function is working good because i can test whit the JSONPlaceholder.com.</p>\n\n<p>I cannot get my data, im using gulp on port 3002 and my server is in port 3010, he is running and working good, i can see my data using postman.</p>\n\n<p>why can i get my data from the localhost server ? </p>\n\n<p>Thank You</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1522584830, "creation_date": 1522584830, "answer_id": 49597934, "question_id": 49591924, "content_license": "CC BY-SA 3.0", "body": "<p>This issue happens because the API endpoint you are accessing does not implement CORS. If you run your code in Chrome and look at the console, you will see an error:</p>\n\n<p><code>XMLHttpRequest cannot load .....</code></p>\n\n<p>The solution is to change the API endpoint to set the Access-Control-Allow-Origin header to either the wildcard * or to the domain where the page using the JavaScript code will be served from.</p>\n\n<p><a href=\"https://www.maxcdn.com/one/visual-glossary/cors/\" rel=\"nofollow noreferrer\">For More Details on CORS</a></p>\n\n<p><code>To prevent websites from tampering with each other, web browsers implement a security measure known as the same-origin policy. The same-origin policy lets resources (such as JavaScript) interact with resources from the same domain, but not with resources from a different domain. This provides security for the user by preventing abuse, such as running a script that reads the password field on a secure website.</code></p>\n"}, "validated_answer": true, "validated_root_cause": true}, "46375091": {"question": {"tags": ["replication", "pipelinedb"], "is_answered": true, "view_count": 622, "accepted_answer_id": 46413785, "answer_count": 2, "score": 4, "last_activity_date": 1506371953, "creation_date": 1506129596, "last_edit_date": 1506371953, "question_id": 46375091, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/46375091/read-only-queries-on-hot-standby-server-fail-due-to-acquiring-transaction-id", "title": "read only queries on hot standby server fail due to acquiring transaction id", "body": "<p>we just backed up a primary onto a hot standby server successfully. however, when we try to query to hot standby, we get the following error:</p>\n\n<pre><code>ERROR: cannot assign TransactionIds during recovery\n</code></pre>\n\n<p>I enabled verbose mode and see the error occurs at varsup.c:72 </p>\n\n<pre><code>/* safety check, we should never get this far in a HS standby */ \nif (RecoveryInProgress())\n   elog(ERROR, \"cannot assign TransactionIds during recovery\");\n</code></pre>\n\n<p>the strange thing is, if we use the psql client and issue multiple read queries, the first one will fail, but all subsequent ones will succeed.</p>\n\n<pre><code>pipeline=#    SELECT pg_is_in_recovery();\nERROR:  cannot assign TransactionIds during recovery\npipeline=#    SELECT pg_is_in_recovery();\n pg_is_in_recovery \n-------------------\nt\n(1 row)\n</code></pre>\n\n<p>using postgres 9.5.3</p>\n\n<p>any ideas would be greatly appreciated it.</p>\n\n<p>btw:\nwe have added:\n<code>hot_standby = on</code> to pipelinedb.conf (equivalent to postgresql.conf)</p>\n\n<p>and we have added:</p>\n\n<pre><code>primary_slot_name = 'replicator_slot'\nprimary_conninfo = 'user=username host=ip_address port=5432'\nrecovery_target_timeline = 'latest'\n</code></pre>\n\n<p>to recovery.conf</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1506371880, "creation_date": 1506371880, "answer_id": 46413785, "question_id": 46375091, "content_license": "CC BY-SA 3.0", "body": "<p>We're currently looking into <a href=\"https://github.com/pipelinedb/pipelinedb/issues/1867\" rel=\"nofollow noreferrer\">the issue</a> you so thoughtfully wrote up for us. I'll post an update here once it's resolved, which shouldn't be long</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "38470496": {"question": {"tags": ["ubuntu", "elasticsearch"], "is_answered": true, "view_count": 7237, "accepted_answer_id": 38539220, "answer_count": 1, "score": 0, "last_activity_date": 1492548142, "creation_date": 1468973967, "question_id": 38470496, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/38470496/starting-elasticsearch-server-fail-in-ubuntu", "title": "Starting Elasticsearch Server fail in ubuntu", "body": "<p>(I am new to elasticsearch) <br></p>\n\n<p>I want to start elastic search as a service (sudo service elasticsearch start), but it wont start, and not tell anything about why it wont start either, just says - <br></p>\n\n<p><strong><code>Starting Elasticsearch Server             [fail]</code></strong></p>\n\n<p>I tried following changes without success! <br></p>\n\n<ol>\n<li><p>Changed <code>es.logger.level: INFO to es.logger.level: DEBUG and es.logger.level: TRACE</code> respectively without seeing anything in the log files in var/log/elasticsearch! <br></p></li>\n<li><p>Added <code>ES_HEAP_SIZE= 1024 and ES_HEAP_SIZE= 512</code> respectively in <code>usr/share/elasticsearch/bin/elasticsearch</code> text file, still - <br> <code>Starting Elasticsearch Server             [fail]</code><br></p></li>\n</ol>\n\n<p>I have not tried changing anything in the configuration file at <code>etc/elasticsearch/elasticsearch.yml</code> - is it required to change the settings of this file to make elasticsearch work as a service in ubuntu?</p>\n"}, "answer": {"is_accepted": true, "score": 3, "last_activity_date": 1492548142, "last_edit_date": 1495540947, "creation_date": 1469258223, "answer_id": 38539220, "question_id": 38470496, "content_license": "CC BY-SA 3.0", "body": "<p>It basically comes down to user permissions given to elasticsearch \"user\" - yes elasticsearch runs as a \"user\" inside Ubuntu! You need to give it ownership permissions inside folders it will eventually modify. <br></p>\n\n<p>You need to do the following inside a terminal: </p>\n\n<ol>\n<li><code>sudo chown -R elasticsearch:elasticsearch /var/lib/elasticsearch</code> \n<br><br>\n<code>/var/lib/elasticsearch</code> is where elasticsearch stores data.\n<br><br></li>\n<li><code>sudo chown -R elasticsearch:elasticsearch /var/run/elasticsearch</code> \n<br><br>\n<code>/var/run/elasticsearch</code> is where the process id of elasticsearch running as a service is stored.\n<br><br></li>\n<li><code>sudo chown -R elasticsearch:elasticsearch /etc/elasticsearch</code> \n<br><br>\n<code>/etc/elasticsearch</code> is the place where configuration file for elasticsearch service and elasticsearch logs is stored. <br></li>\n</ol>\n\n<p>Changing ownership of any of the above folders will bring you back to square one, you will need to follow steps 1, 2 and 3 again! <br></p>\n\n<p><strong>You may also need to set</strong> <a href=\"https://stackoverflow.com/questions/23124674/setting-the-java-home-environment-variable-in-ubuntu\">JAVA_HOME variable</a>, <strong>to make elasticsearch run as a service</strong>. <br></p>\n\n<p>(change elasticsearch.yml only as a root user, accessing it from within the terminal)</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "40143915": {"question": {"tags": ["javascript", "php", "jquery", "html", "jquery-ui-tabs"], "is_answered": true, "view_count": 255, "accepted_answer_id": 40144068, "answer_count": 1, "score": -1, "last_activity_date": 1477050186, "creation_date": 1476925882, "last_edit_date": 1477050186, "question_id": 40143915, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/40143915/syntaxerror-missing-after-function-body-one-server-good-live-server-fail", "title": "SyntaxError: missing } after function body, one server good, live server fail", "body": "<p>I can't figure out what is happening, I have this staging site <a href=\"http://eggsfruits.techqueb.com/midi.php\" rel=\"nofollow\">http://eggsfruits.techqueb.com/midi.php</a> were i did put tabs code and javascript. It is doing the process A1, when i upload my file to my live server <a href=\"http://www.eggsfruits.ca/midi.php\" rel=\"nofollow\">http://www.eggsfruits.ca/midi.php</a> the tabs does not work anymore and I get the error </p>\n\n<blockquote>\n  <p>SyntaxError: missing } after function body </p>\n</blockquote>\n\n<p>Can you please give me an hand on finding my issue</p>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1476927243, "creation_date": 1476927243, "answer_id": 40144068, "question_id": 40143915, "content_license": "CC BY-SA 3.0", "body": "<p>your script</p>\n\n<pre><code>jQuery(document).ready(function() {jQuery('.tabs .tab-links a').on('click', function(e){var currentAttrValue = jQuery(this).attr('href');// Show/Hide Tabs jQuery('.tabs ' + currentAttrValue).show().siblings().hide(); // Change/remove current tab to active jQuery(this).parent('li').addClass('active').siblings().removeClass('active'); e.preventDefault(); });\n</code></pre>\n\n<p>as you can see, you didnt close the function because you commend it.</p>\n\n<p>so i think your code should be like this :</p>\n\n<pre><code>jQuery(document).ready(function() {jQuery('.tabs .tab-links a').on('click', function(e){var currentAttrValue = jQuery(this).attr('href'); });// Show/Hide Tabs jQuery('.tabs ' + currentAttrValue).show().siblings().hide(); // Change/remove current tab to active jQuery(this).parent('li').addClass('active').siblings().removeClass('active'); e.preventDefault(); \n</code></pre>\n"}, "validated_answer": true, "validated_root_cause": true}, "35961088": {"question": {"tags": ["php", "web-services", "soap", "wsdl"], "is_answered": true, "view_count": 372, "accepted_answer_id": 35961544, "answer_count": 2, "score": 1, "last_activity_date": 1457806807, "creation_date": 1457804291, "question_id": 35961088, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/35961088/php-soap-server-fail-to-read-input-values-return-empy", "title": "PHP SOAP Server fail to read input values (return empy)?", "body": "<p>I have written soap server, soap client and wsdl file. When I call a function soap server cannot identify inputs. can someone please help me to fix this.</p>\n\n<p>WSDL file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;wsdl:definitions xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:tns=\"http://www.example.org/accounts/\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" name=\"accounts\" targetNamespace=\"http://www.example.org/accounts/\"&gt;\n  &lt;wsdl:types&gt;\n    &lt;xsd:schema targetNamespace=\"http://www.example.org/accounts/\"&gt;\n      &lt;xsd:element name=\"addAcount\"&gt;\n        &lt;xsd:complexType&gt;\n          &lt;xsd:sequence&gt;\n            &lt;xsd:element name=\"firstName\" type=\"xsd:string\" /&gt;\n            &lt;xsd:element name=\"lastName\" type=\"xsd:string\"/&gt;\n          &lt;/xsd:sequence&gt;\n        &lt;/xsd:complexType&gt;\n      &lt;/xsd:element&gt;\n      &lt;xsd:element name=\"addAcountResponse\"&gt;\n        &lt;xsd:complexType&gt;\n          &lt;xsd:sequence&gt;\n            &lt;xsd:element name=\"out\" type=\"xsd:string\"/&gt;\n          &lt;/xsd:sequence&gt;\n        &lt;/xsd:complexType&gt;\n      &lt;/xsd:element&gt;\n      &lt;xsd:element name=\"closeAccount\"&gt;\n        &lt;xsd:complexType&gt;\n            &lt;xsd:sequence&gt;\n\n                &lt;xsd:element name=\"accountNumber\" type=\"xsd:string\"&gt;&lt;/xsd:element&gt;\n                &lt;xsd:element name=\"accountHolder\" type=\"xsd:string\"&gt;&lt;/xsd:element&gt;\n            &lt;/xsd:sequence&gt;\n        &lt;/xsd:complexType&gt;\n      &lt;/xsd:element&gt;\n      &lt;xsd:element name=\"closeAccountResponse\"&gt;\n        &lt;xsd:complexType&gt;\n            &lt;xsd:sequence&gt;\n\n                &lt;xsd:element name=\"status\" type=\"xsd:string\"&gt;&lt;/xsd:element&gt;\n            &lt;/xsd:sequence&gt;\n        &lt;/xsd:complexType&gt;\n      &lt;/xsd:element&gt;\n    &lt;/xsd:schema&gt;\n  &lt;/wsdl:types&gt;\n  &lt;wsdl:message name=\"addAcountRequest\"&gt;\n    &lt;wsdl:part element=\"tns:addAcount\" name=\"parameters\"/&gt;\n  &lt;/wsdl:message&gt;\n  &lt;wsdl:message name=\"addAcountResponse\"&gt;\n    &lt;wsdl:part element=\"tns:addAcountResponse\" name=\"parameters\"/&gt;\n  &lt;/wsdl:message&gt;\n  &lt;wsdl:message name=\"closeAccountRequest\"&gt;\n    &lt;wsdl:part name=\"parameters\" element=\"tns:closeAccount\"&gt;&lt;/wsdl:part&gt;\n  &lt;/wsdl:message&gt;\n  &lt;wsdl:message name=\"closeAccountResponse\"&gt;\n    &lt;wsdl:part name=\"parameters\" element=\"tns:closeAccountResponse\"&gt;&lt;/wsdl:part&gt;\n  &lt;/wsdl:message&gt;\n  &lt;wsdl:portType name=\"accounts\"&gt;\n    &lt;wsdl:operation name=\"addAcount\"&gt;\n      &lt;wsdl:input message=\"tns:addAcountRequest\"/&gt;\n      &lt;wsdl:output message=\"tns:addAcountResponse\"/&gt;\n    &lt;/wsdl:operation&gt;\n    &lt;wsdl:operation name=\"closeAccount\"&gt;\n        &lt;wsdl:input message=\"tns:closeAccountRequest\"&gt;&lt;/wsdl:input&gt;\n        &lt;wsdl:output message=\"tns:closeAccountResponse\"&gt;&lt;/wsdl:output&gt;\n    &lt;/wsdl:operation&gt;\n  &lt;/wsdl:portType&gt;\n  &lt;wsdl:binding name=\"accountsSOAP\" type=\"tns:accounts\"&gt;\n    &lt;soap:binding style=\"document\" transport=\"http://schemas.xmlsoap.org/soap/http\"/&gt;\n    &lt;wsdl:operation name=\"addAcount\"&gt;\n      &lt;soap:operation soapAction=\"http://www.example.org/accounts/addAcount\"/&gt;\n      &lt;wsdl:input&gt;\n        &lt;soap:body use=\"literal\"/&gt;\n      &lt;/wsdl:input&gt;\n      &lt;wsdl:output&gt;\n        &lt;soap:body use=\"literal\"/&gt;\n      &lt;/wsdl:output&gt;\n    &lt;/wsdl:operation&gt;\n    &lt;wsdl:operation name=\"closeAccount\"&gt;\n      &lt;soap:operation soapAction=\"http://www.example.org/accounts/closeAccount\"/&gt;\n      &lt;wsdl:input&gt;\n        &lt;soap:body use=\"literal\"/&gt;\n      &lt;/wsdl:input&gt;\n      &lt;wsdl:output&gt;\n        &lt;soap:body use=\"literal\"/&gt;\n      &lt;/wsdl:output&gt;\n    &lt;/wsdl:operation&gt;    \n  &lt;/wsdl:binding&gt;\n  &lt;wsdl:service name=\"accounts\"&gt;\n    &lt;wsdl:port binding=\"tns:accountsSOAP\" name=\"accountsSOAP\"&gt;\n      &lt;soap:address location=\"http://localhost:8888/testing/wsdl/service.php\"/&gt;\n    &lt;/wsdl:port&gt;\n  &lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n</code></pre>\n\n<p><strong>Soap client</strong>, In soap client I am trying to access close account function. That function has two parameters. </p>\n\n<pre><code>$wsdl = 'http://localhost:8888/testing/wsdl/service.php?wsdl';\n$options = array('trace' =&gt; TRUE);\n$client = new SoapClient($wsdl, $options);\n\n$values = array(\n        'accountNumber' =&gt; 'sdfsd',\n        'accountHolder' =&gt; 'sfsdf'\n    );\n\n$response = $client-&gt;closeAccount($values);\n\necho \"&lt;pre&gt;\";\nprint_r($response);\necho \"&lt;/pre&gt;\";\n</code></pre>\n\n<p><strong>soap server,</strong></p>\n\n<pre><code>class Exam {\n\n    function closeAccount($accountNumber, $accountHolder){\n        $value = array('status'=&gt;$accountNumber);\n        return $value;\n    }\n\n}\n\n$server = new SoapServer(\"http://localhost:8888/testing/wsdl/addAccount.wsdl\");\n$server-&gt;setClass('Exam');\n$server-&gt;handle();\n</code></pre>\n\n<p>In soap server when I try to return $accountNumber it display value name \"object\". If I try to access $accountHolder it return blank. </p>\n\n<p>Why my soap server fail to read input values. please someone help me.</p>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1457806807, "creation_date": 1457806807, "answer_id": 35961544, "question_id": 35961088, "content_license": "CC BY-SA 3.0", "body": "<p>Client inputs receive to server as \"Object array\" So use following way to read values in server, <strong>$array->accountHolder</strong></p>\n\n<pre><code>function closeAccount($array) {\n    $value = array('status' =&gt; $array-&gt;accountHolder);\n    return $value;\n}\n</code></pre>\n"}, "validated_answer": true, "validated_root_cause": true}, "30627583": {"question": {"tags": ["java", "sql-server", "hibernate", "jpa"], "is_answered": true, "view_count": 11356, "accepted_answer_id": 30628949, "answer_count": 2, "score": 6, "last_activity_date": 1462723741, "creation_date": 1433355023, "last_edit_date": 1495542881, "question_id": 30627583, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/30627583/hibernate-with-sql-server-fail-for-nvarchar-field-with-no-dialect-mapping", "title": "Hibernate with Sql Server fail for nvarchar field with &quot;No Dialect mapping...&quot;", "body": "<p>I'm using Hibernate's JPA-Implementation to access our SQL Server 2012 database.</p>\n\n<p>When trying to select a <code>nvarchar</code> field in a native query, I get an exception \"No Dialect mapping for JDBC type: -9\".</p>\n\n<p>It looks much like <a href=\"https://stackoverflow.com/questions/20149627/no-dialect-mapping-for-jdbc-type-9-with-hibernate-4-and-ms-sql-server-2011\">No Dialect mapping for JDBC type: -9 with Hibernate 4 and SQL Server 2012</a> or <a href=\"https://stackoverflow.com/questions/24279542/no-dialect-mapping-for-jdbc-type-9\">No Dialect mapping for JDBC type: -9</a> but I couldn't find a solution for me there (both are not using JPA).</p>\n\n<p>My database setup:</p>\n\n<pre><code>CREATE TABLE NvarcharExample(\n    exampleField nvarchar(20) PRIMARY KEY\n)\n\nINSERT INTO NvarcharExample(exampleField) VALUES ('hello')\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>import java.io.IOException;\nimport javax.persistence.*;\n\n@Entity\nclass NvarcharExample {\n\n    @Id\n    public String exampleField;\n}\n\npublic class NvarcharTest {\n\n    public static void main(String[] args) throws IOException, InterruptedException {\n\n        String queryString = \"SELECT e.exampleField FROM NvarcharExample e\";\n\n        // establish connection\n        EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(\"persistenceUnit\");\n        try {\n            EntityManager entityManager = entityManagerFactory.createEntityManager();\n\n            // access data using JPQL\n            entityManager.createQuery(queryString).getResultList(); // works\n\n            // access data using SQL (native query)\n            entityManager.createNativeQuery(queryString).getResultList(); // fails\n        } finally {\n            entityManagerFactory.close();\n        }\n    }\n}\n</code></pre>\n\n<p>My persistence.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.1\"\n    xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"&gt;\n\n    &lt;persistence-unit name=\"persistenceUnit\"&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;properties&gt;\n\n            &lt;!-- database connection settings --&gt;\n            &lt;property name=\"javax.persistence.jdbc.driver\" value=\"com.microsoft.sqlserver.jdbc.SQLServerDriver\" /&gt;\n            &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:sqlserver://&lt;servername&gt;:&lt;port&gt;;databaseName=&lt;databasename&gt;\" /&gt;\n            &lt;property name=\"javax.persistence.jdbc.user\" value=\"&lt;user&gt;\" /&gt;\n            &lt;property name=\"javax.persistence.jdbc.password\" value=\"&lt;password&gt;\" /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>With sql logging enable, I get this output in my console</p>\n\n<pre><code>select nvarcharex0_.exampleField as col_0_0_ from NvarcharExample nvarcharex0_\nSELECT e.exampleField FROM NvarcharExample e\n</code></pre>\n\n<p>I'm using</p>\n\n<ul>\n<li><code>hibernate-core-4.3.10.Final.jar</code></li>\n<li><code>hibernate-entitymanager-4.3.10.Final.jar</code></li>\n<li><code>hibernate-jpa-2.1-api-1.0.0.Final.jar</code></li>\n<li><code>hibernate-commons-annotations-4.0.5.Final.jar</code></li>\n<li><code>sqljdbc41.jar</code></li>\n</ul>\n\n<p>What I've tried:</p>\n\n<ul>\n<li>using a <code>varchar</code> instead of <code>nvarchar</code> makes it work, but I need <code>nvarchar</code></li>\n<li>using jpql instead of sql works (see my example code), but I need a native query</li>\n<li>I tried <code>sqljdbc4.jar</code> in Version 4.0 and 4.1 and I tried <code>sqljdbc41.jar</code></li>\n<li>I head about subclassing the SQL Server Dialect class, but did not have any success with that</li>\n<li>I added <code>&lt;property name=\"dialect\" value=\"org.hibernate.dialect.SQLServerDialect\" /&gt;</code> to my <code>persistence.xml</code> (right behind the password property)</li>\n<li>I added <code>&lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.SQLServerDialect\" /&gt;</code> to my <code>persistence.xml</code></li>\n<li>I changed the persistence provider to <code>&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;</code></li>\n</ul>\n"}, "answer": {"is_accepted": true, "score": 6, "last_activity_date": 1433776025, "last_edit_date": 1433776025, "creation_date": 1433359698, "answer_id": 30628949, "question_id": 30627583, "content_license": "CC BY-SA 3.0", "body": "<p>I was able to resolve that issue by subclassing the SQLServerDialect:</p>\n\n<pre><code>package packagename;\n\nimport java.sql.Types;\n\npublic class SqlServerDialectWithNvarchar extends org.hibernate.dialect.SQLServerDialect {\n\n    public SqlServerDialectWithNvarchar() {\n        registerHibernateType(Types.NVARCHAR, 4000, \"string\");\n    }\n\n}\n</code></pre>\n\n<p>and referencing it in my <code>persistence.xml</code>:</p>\n\n<pre><code>        &lt;property name=\"hibernate.dialect\" value=\"packagename.SqlServerDialectWithNvarchar\" /&gt;\n</code></pre>\n\n<p>PS: I found an issue report at <a href=\"https://hibernate.atlassian.net/browse/HHH-9750\" rel=\"noreferrer\">https://hibernate.atlassian.net/browse/HHH-9750</a>, describing similar behaviour and solution (for Oracle databases).</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "28526823": {"question": {"tags": ["php", "codeigniter", "rest", "server"], "is_answered": true, "view_count": 1432, "accepted_answer_id": 28527391, "answer_count": 3, "score": 2, "last_activity_date": 1459171348, "creation_date": 1424008763, "last_edit_date": 1424037509, "question_id": 28526823, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/28526823/codeigniter-rest-server-fail-to-output-longer-json", "title": "Codeigniter Rest Server fail to output longer JSON", "body": "<p>Does anybody know why \n$this-response($somearray, 200); \nCan't output a long JSON? (Or long arrays)\nFor example I can output DB result if I limit query to last 10 rows but if I limit it to 100\nJSON gets trimed and in my client app I get 'unexpected end of input'. If I change above statement in simple \necho json_encode($somearray);\nIt works flawlessly.</p>\n\n<p>I am sorry. I need to clarify my question. I am using \n<a href=\"https://github.com/chriskacerguis/codeigniter-restserver\" rel=\"nofollow\">https://github.com/chriskacerguis/codeigniter-restserver</a></p>\n\n<pre><code>function transits_get()\n{\n    $sessionId = $this-&gt;input-&gt;get_request_header('Sessionid', TRUE);\n    $transits = $this-&gt;Transit_model-&gt;get_transits( $sessionId );\n\n    if($transits)\n    {\n        //$this-&gt;output-&gt;set_content_type('application/json');\n        //$this-&gt;output-&gt;set_output(json_encode($transits)); //works\n        //echo json_encode($transits); //works\n        $this-&gt;response($transits, 200); // 200 being the HTTP response code //Does not work\n\n    }\n\n    else\n    {\n        $this-&gt;response(array('error' =&gt; 'There is no transit records in the database!'), 404);\n    }\n}\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1424063092, "last_edit_date": 1495542230, "creation_date": 1424012481, "answer_id": 28527391, "question_id": 28526823, "content_license": "CC BY-SA 3.0", "body": "<p>This works for me, and I have lots of JSON data (+- 250 records):</p>\n\n<pre><code>$this-&gt;output-&gt;set_content_type('application/json');\n$this-&gt;output-&gt;set_output(json_encode($data));\n</code></pre>\n\n<p>As found in <a href=\"https://stackoverflow.com/questions/19218450/last-few-characters-missing-in-codeigniter-rest-api-json-response\">this article</a>, you can do the following:</p>\n\n<ol>\n<li><p>Open REST_Controller.php</p></li>\n<li><p>Locate and delete the following code (at the end of the response function):</p>\n\n<pre><code>if ( ! $this-&gt;_zlib_oc &amp;&amp; ! $CFG-&gt;item('compress_output')) {\n    header('Content-Length: ' . strlen($output));\n}\n</code></pre></li>\n</ol>\n"}, "validated_answer": true, "validated_root_cause": false}, "23247663": {"question": {"tags": ["sql", "sql-server", "sql-server-2008", "email"], "is_answered": true, "view_count": 4931, "accepted_answer_id": 23247775, "answer_count": 1, "score": 0, "last_activity_date": 1398264699, "creation_date": 1398264000, "last_edit_date": 1398264420, "question_id": 23247663, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/23247663/why-does-the-server-fail-to-send-emails-sql-2008-r2", "title": "Why does the server fail to send emails? SQL 2008 R2", "body": "<p>As of the 23rd April 2014 the SQL Server Database Mail Log displayed this error: </p>\n\n<p>The mail could not be sent to the recipients because of the mail server failure. (Sending Mail using Account 1 (2014-04-23T16:07:15). Exception Message: Cannot send mails to mail server. (Bad sequence of commands. The server response was: you must authenticate first (#5.5.1))</p>\n\n<p>Everything was working fine the day before and no changes where made to the configuration of the Database Mail</p>\n\n<p>Can any one explain why what could have happened in the space of one day?</p>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1398264699, "last_edit_date": 1398264699, "creation_date": 1398264271, "answer_id": 23247775, "question_id": 23247663, "content_license": "CC BY-SA 3.0", "body": "<p>Check the configuration of the SMTP account that you are using to send mails. It's a common configuration problem.\nCheck this link:\n<br>\n<a href=\"http://blog.sqlauthority.com/2008/08/23/sql-server-2008-configure-database-mail-send-email-from-sql-database/\" rel=\"nofollow\">SQL SERVER \u2013 2008 \u2013 Configure Database Mail \u2013 Send Email From SQL Database</a></p>\n\n<p>Make sure that no one has changed the password of the SMTP account.</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "15998882": {"question": {"tags": ["python", "django"], "is_answered": true, "view_count": 1093, "accepted_answer_id": 15999009, "answer_count": 1, "score": 0, "last_activity_date": 1456747704, "creation_date": 1365941304, "last_edit_date": 1456747704, "question_id": 15998882, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/15998882/why-just-starting-the-django-development-server-fail-with-keywords-must-be-stri", "title": "Why just starting the Django development server fail with &quot;keywords must be strings&quot;?", "body": "<p>I'm starting to learn Django and have been following the online tutorial on the Django website.</p>\n\n<p>Everything was working fine and I have a folder called mysite and then sub folders called mysite/ and manage.py like it says in the tutorial: <a href=\"https://docs.djangoproject.com/en/1.5/intro/tutorial01/#creating-a-project\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.5/intro/tutorial01/#creating-a-project</a></p>\n\n<p>However when I run the command</p>\n\n<pre><code>$ python manage.py runserver\n</code></pre>\n\n<p>I get this: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Validating models...\n\nUnhandled exception in thread started by &lt;bound method Command.inner_run of &lt;django.contrib.staticfiles.management.commands.runserver.Command object at 0x10165aed0&gt;&gt;\nTraceback (most recent call last):\nFile \"/Library/Python/2.6/site-packages/django/core/management/commands/runserver.py\", line 92, in inner_run\nself.validate(display_num_errors=True)\nFile \"/Library/Python/2.6/site-packages/django/core/management/base.py\", line 280, in validate\nnum_errors = get_validation_errors(s, app)\nFile \"/Library/Python/2.6/site-packages/django/core/management/validation.py\", line 35, in get_validation_errors\nfor (app_name, error) in get_app_errors().items():\nFile \"/Library/Python/2.6/site-packages/django/db/models/loading.py\", line 166, in get_app_errors\nself._populate()\nFile \"/Library/Python/2.6/site-packages/django/db/models/loading.py\", line 72, in _populate\nself.load_app(app_name, True)\nFile \"/Library/Python/2.6/site-packages/django/db/models/loading.py\", line 96, in load_app\nmodels = import_module('.models', app_name)\nFile \"/Library/Python/2.6/site-packages/django/utils/importlib.py\", line 35, in import_module\n__import__(name)\nFile \"/Library/Python/2.6/site-packages/django/contrib/auth/models.py\", line 21, in &lt;module&gt;\nfrom django.contrib.contenttypes.models import ContentType\nFile \"/Library/Python/2.6/site-packages/django/contrib/contenttypes/models.py\", line 127, in &lt;module&gt;\nclass ContentType(models.Model):\nFile \"/Library/Python/2.6/site-packages/django/db/models/base.py\", line 97, in __new__\nnew_class.add_to_class('_meta', Options(meta, **kwargs))\nTypeError: Error when calling the metaclass bases\n__init__() keywords must be strings\n</code></pre>\n\n<p>According to the tutorial it should say this: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Validating models...\n\n0 errors found\nApril 14, 2013 - 15:50:53\nDjango version 1.5, using settings 'mysite.settings'\nDevelopment server is running at http://127.0.0.1:8000/\nQuit the server with CONTROL-C.\n</code></pre>\n\n<p>I've tried to go to <code>http://127.0.0.1:8000/</code> in my web browser but I just get te error cant connect.</p>\n\n<p>Does anybody know where I am going wrong or what I need to do to rectify the issue?</p>\n\n<p>I'm using Django 1.5 and Python 2.6.1.</p>\n"}, "answer": {"is_accepted": true, "score": 4, "last_activity_date": 1365942476, "last_edit_date": 1365942476, "creation_date": 1365942086, "answer_id": 15999009, "question_id": 15998882, "content_license": "CC BY-SA 3.0", "body": "<p>According to the <a href=\"https://docs.djangoproject.com/en/dev/intro/install/#install-python\" rel=\"nofollow\">Django docs</a>:</p>\n\n<blockquote>\n  <p>Django 1.5 works with any Python version from 2.6.5 to 2.7.</p>\n</blockquote>\n\n<p>And according to <a href=\"https://code.djangoproject.com/ticket/18961\" rel=\"nofollow\">this ticket</a>, I would suggest you to upgrade your Python version. Or, if you can't upgrade it, you have another way, which is presented in the <a href=\"https://code.djangoproject.com/ticket/18961#comment:6\" rel=\"nofollow\">last comment</a> of the ticket: </p>\n\n<blockquote>\n  <p>Use Django 1.4, which supports Python 2.5+</p>\n</blockquote>\n"}, "validated_answer": true, "validated_root_cause": false}, "12308660": {"question": {"tags": ["php", "sql-server", "file-io", "windows-server-2003"], "is_answered": true, "view_count": 658, "accepted_answer_id": 12310402, "answer_count": 1, "score": 0, "last_activity_date": 1346979444, "creation_date": 1346966843, "last_edit_date": 1495542456, "question_id": 12308660, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/12308660/why-does-this-insert-to-sql-server-fail-when-using-file-mtime-php-but-not-whe", "title": "Why does this insert to SQL Server fail when using file Mtime (PHP), but not when using Ctime?", "body": "<p>I am attempting to walk a directory (using PHP) and get the modified and created time of the files, updating or inserting as needed to an SQL Server 2003 table. </p>\n\n<p>I am using PHP's <code>DirectoryIterator</code> in order to do this, and it works flawlessly <em>if</em> I only use the object's <code>getCTime()</code> function. If I move to include or instead use the objects <code>getMTime()</code> method, SQL Server throws out an error at me on insert/update: </p>\n\n<blockquote>\n  <p>22003 : [Microsoft][SQL Server Native Client 10.0][SQL Server]Arithmetic overflow error converting expression to data type smalldatetime.</p>\n</blockquote>\n\n<p>This error ONLY occurs when using the object <code>getMTime()</code> method. Testdir has two files in it, solely for testing obviously.</p>\n\n<p>I have searched for help with this via Google, and especially on Stackoverflow (<a href=\"https://stackoverflow.com/questions/12124716/arithmetic-overflow-error-converting-expression-to-data-type-datetime-int64-to\">One</a>, <a href=\"https://stackoverflow.com/questions/8289310/arithmetic-overflow-error-converting-expression-to-data-type-int\">Two</a>, <a href=\"https://stackoverflow.com/questions/6253561/arithmetic-overflow-error-converting-expression-to-data-type-datetime\">Three</a>). Those StackOverflow questions are for a <code>SELECT</code> statement however, and say to use <code>CONVERT</code> function of SQL. The only semi-relevant item I have found was <a href=\"http://computerproblemsolutions.blogspot.com/2009/08/arithmetic-overflow-error-converting.html\" rel=\"nofollow noreferrer\">a blog post</a> which says to ensure the SQL user has the default language set appropriately. In my user case, it is set properly to 'English'. </p>\n\n<p>Here is the entire function and subsequent call:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>function fillArrayWithFileNodes( DirectoryIterator $dir )\n{\n  $data = array();\n  require('connecttodbfile');\n  clearstatcache();\n\n  foreach ( $dir as $node )\n  {\n    if ( $node-&gt;isDir() &amp;&amp; !$node-&gt;isDot() )\n    {\n      $data[$node-&gt;getFilename()] = fillArrayWithFileNodes( new DirectoryIterator( $node-&gt;getPathname() ) );\n    }\n    else if ( $node-&gt;isFile() )\n    {\n\n        $filename = $node-&gt;getFilename();\n        //Comment this out below and use CTime, Update works!\n\n        //$file_time = date('Y-d-m H:i:s', $node-&gt;getMTime());\n\n\n        //Comment this out and use MTime, Update DOES NOT WORK!\n        $file_time = date('Y-d-m H:i:s', $node-&gt;getCTime()); \n\n\n\n        //Debug here, make sure I'm getting expected values \n\n        echo sprintf(\"Mtime (%s): %s - %s&lt;br /&gt;Ctime (%s):  %s - %s&lt;br /&gt; &lt;br /&gt;\", gettype($node-&gt;getMTime()), $node-&gt;getMTime(), gettype($node-&gt;getMTime()), date('Y-d-m H:i:s', $node-&gt;getMTime()), $node-&gt;getCTime(), date('Y-d-m H:i:s', $node-&gt;getCTime()));\n\n\n        $data[] = array('time'=&gt;$file_time);\n\n        try {\n\n\n        $sQuery = &lt;&lt;&lt;EOD\nBEGIN TRAN\nUPDATE files SET file_time=:ftime WHERE file_name=:fname\n\nIF @@ROWCOUNT = 0 and @@ERROR = 0\n   BEGIN\n    INSERT INTO files (file_name,file_time) VALUES (:f_name, :f_time)\n   END\nCOMMIT TRAN\nEOD;\n\n        $statm = $conn-&gt;prepare($sQuery);\n\n        //PDO doesn't like it if we name repeat variables the same. So even if you use the same variable more than once in your query, PDO says you need the exact number of variables in the execute array as is in your statement, all unique names.\n\n        $statm-&gt;execute(array(':ftime'=&gt; $file_time, ':fname'=&gt;$filename,':f_time'=&gt; $file_time, ':f_name'=&gt;$filename));\n\n\n    } catch(PDOException $err) {//SQL got mad at us. Figure out why.\n        echo $statm-&gt;errorCode() . \" : \";\n        $error = $statm-&gt;errorInfo();\n        print_r( $error[2]);\n        exit(1);\n     }\n    }\n  }\n  return $data;\n}\n\n$fileData = fillArrayWithFileNodes( new DirectoryIterator( 'C:\\testdir' ) );\n\necho \"&lt;pre&gt;\";\n\nprint_r($fileData);\n\necho \"&lt;/pre&gt;\";\n</code></pre>\n\n<p>When this code is run with <code>mtime</code> as the <code>$file_time</code> (through web browser) I get the following output:</p>\n\n<pre><code>Mtime (integer): 1311599068 - 2011-25-07 08:04:28 \nCtime (integer): 1346941012 - 2012-06-09 09:16:52\n\n22003 : [Microsoft][SQL Server Native Client 10.0][SQL Server]Arithmetic overflow error converting expression to data type smalldatetime.\n</code></pre>\n\n<p>If I change out <code>$file_time</code> to use <code>getCTime()</code> instead, the output completes with no errors:</p>\n\n<pre><code>Mtime (integer): 1311599068 - 2011-25-07 08:04:28 \nCtime (integer): 1346941012 - 2012-06-09 09:16:52\nMtime (integer): 1265983000 - 2010-12-02 07:56:40 \nCtime (integer): 1346941018 - 2012-06-09 09:16:58\n\n\nArray (\n    [0] =&gt; Array\n        (\n            [time] =&gt; 2012-06-09 09:16:52\n        )\n\n    [1] =&gt; Array\n        (\n            [time] =&gt; 2012-06-09 09:16:58\n        )\n\n)\n</code></pre>\n\n<p>Even if that method specified in the StackOverflow question (linked above) work to have both cases of <code>mtime</code> and <code>ctime</code> upload properly, my question is still <strong>Why does using <code>ctime</code> work without any modification but <code>mtime</code> does not?</strong></p>\n"}, "answer": {"is_accepted": true, "score": 2, "last_activity_date": 1346979444, "creation_date": 1346979444, "answer_id": 12310402, "question_id": 12308660, "content_license": "CC BY-SA 3.0", "body": "<p>Because SQL Server wants YYYY-MM-DD and in your case, your are sending YYYY-DD-MM.\nmdate gives you 2011-25-07, which isn't a valid date for YYYY-MM-DD, as 25 is not a valid month.  It's just by chance that cdate is working because it's returning 2012-06-09 and 06 is a valid month.  You either need to change your formatting or change the date localization on the server.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "10103066": {"question": {"tags": ["c#", "asp.net-mvc-2", "publish"], "is_answered": true, "view_count": 617, "accepted_answer_id": 10103097, "answer_count": 1, "score": 1, "last_activity_date": 1334142287, "creation_date": 1334135685, "last_edit_date": 1334142287, "question_id": 10103066, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/10103066/publishing-asp-net-project-on-server-fail", "title": "publishing ASP.net project on server -fail", "body": "<p><strong><em>My project is developed on ASP.net with C#.\n I want to publish my project on our company's server.\n I have published my project successfully on server.But when I open any aspx page, it is giving me such error. Any Idea?</em></strong> All pages are running very well in my local host.</p>\n\n<p><strong>Server Error in '/' Application.</strong>\nConfiguration Error\nDescription: An error occurred during the processing of a configuration file required to service this request. Please review the specific error details below and modify your configuration file appropriately.</p>\n\n<p>Parser Error Message: Sections must only appear once per config file.  See the help topic  for exceptions.</p>\n\n<p>Source Error:</p>\n\n<p>Line 27:     \nLine 28: \nLine 29:     \nLine 30:     \nLine 31: </p>\n\n<p>Source File: C:\\Documents and Settings\\TaxSmart\\Desktop\\khushubu_ASP\\AAS_Application\\AAS_Application\\web.config    Line: 29</p>\n\n<p>Version Information: Microsoft .NET </p>\n\n<p><strong>web.config :</strong> </p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n</code></pre>\n\n<p>\n    \n        \n            \n                \n                \n                    \n                    \n                    \n                    \n                \n            \n        \n    \n    \n    \n        \n    !-->\n    \n      \n      \n    \n        \n            \n                \n                \n                \n                \n            \n        \n         section enables configuration \n            of the security authentication mode used by \n            ASP.NET to identify an incoming user. \n        -->\n        \n         section enables configuration \n            of what to do if/when an unhandled error occurs \n            during the execution of a request. Specifically, \n            it enables developers to configure html error pages \n            to be displayed in place of a error stack trace.</p>\n\n<pre><code>    &lt;customErrors mode=\"RemoteOnly\" defaultRedirect=\"GenericErrorPage.htm\"&gt;\n        &lt;error statusCode=\"403\" redirect=\"NoAccess.htm\" /&gt;\n        &lt;error statusCode=\"404\" redirect=\"FileNotFound.htm\" /&gt;\n    &lt;/customErrors&gt;\n    --&gt;\n    &lt;pages&gt;\n        &lt;controls&gt;\n            &lt;add tagPrefix=\"asp\" namespace=\"System.Web.UI\" assembly=\"System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"/&gt;\n            &lt;add tagPrefix=\"asp\" namespace=\"System.Web.UI.WebControls\" assembly=\"System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"/&gt;\n        &lt;/controls&gt;\n    &lt;/pages&gt;\n    &lt;httpHandlers&gt;\n        &lt;remove verb=\"*\" path=\"*.asmx\"/&gt;\n        &lt;add verb=\"*\" path=\"*.asmx\" validate=\"false\" type=\"System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"/&gt;\n        &lt;add verb=\"*\" path=\"*_AppService.axd\" validate=\"false\" type=\"System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"/&gt;\n        &lt;add verb=\"GET,HEAD\" path=\"ScriptResource.axd\" type=\"System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" validate=\"false\"/&gt;\n    &lt;/httpHandlers&gt;\n    &lt;httpModules&gt;\n        &lt;add name=\"ScriptModule\" type=\"System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"/&gt;\n    &lt;/httpModules&gt;\n&lt;/system.web&gt;\n&lt;system.codedom&gt;\n    &lt;compilers&gt;\n        &lt;compiler language=\"c#;cs;csharp\" extension=\".cs\" warningLevel=\"4\" type=\"Microsoft.CSharp.CSharpCodeProvider, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\"&gt;\n            &lt;providerOption name=\"CompilerVersion\" value=\"v3.5\"/&gt;\n            &lt;providerOption name=\"WarnAsError\" value=\"false\"/&gt;\n        &lt;/compiler&gt;\n    &lt;/compilers&gt;\n&lt;/system.codedom&gt;\n&lt;!-- \n    The system.webServer section is required for running ASP.NET AJAX under Internet\n    Information Services 7.0.  It is not necessary for previous version of IIS.\n--&gt;\n&lt;system.webServer&gt;\n    &lt;validation validateIntegratedModeConfiguration=\"false\"/&gt;\n    &lt;modules&gt;\n        &lt;remove name=\"ScriptModule\"/&gt;\n        &lt;add name=\"ScriptModule\" preCondition=\"managedHandler\" type=\"System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"/&gt;\n    &lt;/modules&gt;\n    &lt;handlers&gt;\n        &lt;remove name=\"WebServiceHandlerFactory-Integrated\"/&gt;\n        &lt;remove name=\"ScriptHandlerFactory\"/&gt;\n        &lt;remove name=\"ScriptHandlerFactoryAppServices\"/&gt;\n        &lt;remove name=\"ScriptResource\"/&gt;\n        &lt;add name=\"ScriptHandlerFactory\" verb=\"*\" path=\"*.asmx\" preCondition=\"integratedMode\" type=\"System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"/&gt;\n        &lt;add name=\"ScriptHandlerFactoryAppServices\" verb=\"*\" path=\"*_AppService.axd\" preCondition=\"integratedMode\" type=\"System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"/&gt;\n        &lt;add name=\"ScriptResource\" preCondition=\"integratedMode\" verb=\"GET,HEAD\" path=\"ScriptResource.axd\" type=\"System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"/&gt;\n    &lt;/handlers&gt;\n&lt;/system.webServer&gt;\n&lt;runtime&gt;\n    &lt;assemblyBinding xmlns=\"urn:schemas-microsoft-com:asm.v1\"&gt;\n        &lt;dependentAssembly&gt;\n            &lt;assemblyIdentity name=\"System.Web.Extensions\" publicKeyToken=\"31bf3856ad364e35\"/&gt;\n            &lt;bindingRedirect oldVersion=\"1.0.0.0-1.1.0.0\" newVersion=\"3.5.0.0\"/&gt;\n        &lt;/dependentAssembly&gt;\n        &lt;dependentAssembly&gt;\n            &lt;assemblyIdentity name=\"System.Web.Extensions.Design\" publicKeyToken=\"31bf3856ad364e35\"/&gt;\n            &lt;bindingRedirect oldVersion=\"1.0.0.0-1.1.0.0\" newVersion=\"3.5.0.0\"/&gt;\n        &lt;/dependentAssembly&gt;\n    &lt;/assemblyBinding&gt;\n&lt;/runtime&gt;\n&lt;connectionStrings&gt;\n    &lt;add name=\"AASProject\" connectionString=\"Data Source=182.50.133.145;Database=taxsmartapp;User ID=taxsmartapp ;Password=Admin123! \"/&gt;\n&lt;/connectionStrings&gt;\n</code></pre>\n\n<p>\n\n  \n&lt;/connectionStrings>--></p>\n"}, "answer": {"is_accepted": true, "score": 3, "last_activity_date": 1334135808, "creation_date": 1334135808, "answer_id": 10103097, "question_id": 10103066, "content_license": "CC BY-SA 3.0", "body": "<p>This implies that you have a section in your web.config/app.config defined more than once, have a check over it for duplicate sections (possibly those which IIS may have inserted for you when configuring the site)</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "7604904": {"question": {"tags": ["c", "sockets"], "is_answered": true, "view_count": 69, "accepted_answer_id": 7605025, "answer_count": 2, "score": 0, "last_activity_date": 1317345976, "creation_date": 1317343745, "question_id": 7604904, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/7604904/client-and-server-fail-to-communicate", "title": "Client and Server fail to communicate", "body": "<p>I have a client/server program in c.  While the server runs, I can send it command via telnet and it works fine. In addition, nmap reports the port to be open.  Similarly, I can successfully use <code>(connect(sock, (struct sockaddr *) &amp;servAddr, sizeof(servAddr))</code> if my IP is the address of google.  However, If I try and use <code>127.0.0.1</code> to connect I get a <code>-1</code> response from <code>connect()</code>.  I'm using ports in the 13000 range.<br>\nIs there a reason why telnet would be able to communicate with my server but my client program could not?</p>\n"}, "answer": {"is_accepted": true, "score": 2, "last_activity_date": 1317345180, "creation_date": 1317345180, "answer_id": 7605025, "question_id": 7604904, "content_license": "CC BY-SA 3.0", "body": "<p>You either have a local firewall that is preventing your client program from connecting (you may need to whitelist the client program if this is on Windows) or you're filling in the IP address you pass to <code>connect</code> incorrectly. Depending on the OS you're using you should either check <code>errno</code> or <code>GetLastError()</code> to see what went wrong.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "1598748": {"question": {"tags": ["c#", ".net", "visual-studio-2008", "iis-7", "httpwebrequest"], "is_answered": true, "view_count": 14387, "accepted_answer_id": 1599478, "answer_count": 4, "score": 1, "last_activity_date": 1483041115, "creation_date": 1256100191, "last_edit_date": 1483041115, "question_id": 1598748, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/1598748/unable-to-connect-to-remote-server-fail-in-httpwebrequest", "title": "&quot;Unable to connect to remote server fail&quot; in HttpWebRequest", "body": "<p>I am using VSTS 2008 + C# + .Net 3.5 to develop a console application and I send request to another server (IIS 7.0 on Windows Server 2008). I find when the # of request threads are big (e.g. 2000 threads), the client will receive error \"Unable to connect to remote server fail\" when invoking response = (HttpWebResponse)request.GetResponse().My confusion is -- I have set timeout to be a large value, but I got such fail message within a minute. I think even if the connection are really larger than what IIS could serve, client should not get such fail message so soon, it should get such message after timeout period. Any comments? Any ideas what is wrong? Any ideas to make more number of concurrent connection being served by IIS 7.0?</p>\n\n<p>Here is my code,</p>\n\n<pre><code>   class Program\n    {\n        private static int ClientCount = 2000;\n        private static string TargetURL = \"http://labtest/abc.wmv\";\n        private static int Timeout = 3600;\n\n        static void PerformanceWorker()\n        {\n            Stream dataStream = null;\n            HttpWebRequest request = null;\n            HttpWebResponse response = null;\n            StreamReader reader = null;\n            try\n            {\n                request = (HttpWebRequest)WebRequest.Create(TargetURL);\n                request.Timeout = Timeout * 1000;\n                request.Proxy = null;\n                response = (HttpWebResponse)request.GetResponse();\n                dataStream = response.GetResponseStream();\n                reader = new StreamReader(dataStream);\n\n                // 1 M at one time\n                char[] c = new char[1000 * 10];\n\n                while (reader.Read(c, 0, c.Length) &gt; 0)\n                {\n                    Console.WriteLine(Thread.CurrentThread.ManagedThreadId);\n                }\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(ex.Message + \"\\n\" + ex.StackTrace);\n            }\n            finally\n            {\n                if (null != reader)\n                {\n                    reader.Close();\n                }\n                if (null != dataStream)\n                {\n                    dataStream.Close();\n                }\n                if (null != response)\n                {\n                    response.Close();\n                }\n            }\n        }\n\n        static void Main(string[] args)\n        {\n            Thread[] workers = new Thread[ClientCount];\n            for (int i = 0; i &lt; ClientCount; i++)\n            {\n                workers[i] = new Thread((new ThreadStart(PerformanceWorker)));\n            }\n\n            for (int i = 0; i &lt; ClientCount; i++)\n            {\n                workers[i].Start();\n            }\n\n            for (int i = 0; i &lt; ClientCount; i++)\n            {\n                workers[i].Join();\n            }           \n\n            return;\n        }\n    }\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 3, "last_activity_date": 1256120245, "last_edit_date": 1256120245, "creation_date": 1256114168, "answer_id": 1599478, "question_id": 1598748, "content_license": "CC BY-SA 2.5", "body": "<p>Kev answered you question already, I just want to add that creating so many threads is not really good design solution (just context switching overhead is a big minus) plus it won't scale good. </p>\n\n<p>The quick answer would be: use asynchronous operations to read data instead of creating a bunch of threads. Or at least use thread pool (and lower worker thread count). Remember that more connections to one source will only speed things up till some degree. Try benchmarking it and you will see that probably 3-5 connections will work faster that 2000 you are using now.</p>\n\n<p>You can read more about asynchronous client/server architecture (IOCP - input/output completion ports) and its advantages here. You can start from here:</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/5w7b7x5f.aspx\" rel=\"nofollow noreferrer\">MSDN - Using an Asynchronous Server Socket</a></p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/fx6588te.aspx\" rel=\"nofollow noreferrer\">MSDN - Asynchronous Server Socket Example</a></p>\n\n<p><a href=\"http://www.codeproject.com/KB/IP/dotnettcp.aspx\" rel=\"nofollow noreferrer\">CodeProject - Multi-threaded .NET TCP Server Examples</a></p>\n\n<p>All of these examples uses lower level TCP object, but it can be applied to WebRequest/WebResponse as well.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>To try thread pool version, you can do something like this:</p>\n\n<pre><code>ManualResetEvent[] events = new ManualResetEvent[ClientCount];\nfor (uint cnt  = 0; cnt &lt; events.Length; cnt++)\n{\n  events[cnt] = new ManualResetEvent(false);\n  ThreadPool.QueueUserWorkItem(obj =&gt; PerformanceWorker());\n}\n\nWaitHandle.WaitAll(events);\n</code></pre>\n\n<p>Not tested, may need some adjustment.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "1115993": {"question": {"tags": ["perl", "sockets", "netstat"], "is_answered": true, "view_count": 2605, "accepted_answer_id": 1116004, "answer_count": 3, "score": 0, "last_activity_date": 1247471317, "creation_date": 1247403157, "last_edit_date": 1247443436, "question_id": 1115993, "content_license": "CC BY-SA 2.5", "link": "https://stackoverflow.com/questions/1115993/why-does-my-perl-server-fail-to-bind-to-port-80", "title": "Why does my Perl server fail to bind to port 80?", "body": "<p>I copied the following script and run it to have it listen on port 80. But <code>netstat</code> doesn't show port 80.  Why does <code>netstat</code> not sow it, or the Perl script is not correct?</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse Socket;\nuse IO::Handle; \n\n$port=80; \n$host='localhost'; \n$packhost=inet_aton($host); \n$address=sockaddr_in($port,$packhost); \n\nsocket(SERVER,AF_INET,SOCK_STREAM,getprotobyname('tcp')); \nbind(SERVER,$address); \nlisten(SERVER,10); \n\nwhile( 1 ) {\n    next unless (accept(CLIENT,SERVER)); \n    CLIENT-&gt;autoflush(1); \n    $msg_out=\"WHAT DO YOU WANT?\\n\"; \n    send(CLIENT,$msg_out,0); \n    close CLIENT;\n} \n\nclose SERVER; \nexit 1;\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 3, "last_activity_date": 1247437733, "last_edit_date": 1247437733, "creation_date": 1247403677, "answer_id": 1116004, "question_id": 1115993, "content_license": "CC BY-SA 2.5", "body": "<p>What platform are you on? How are you invoking <code>netstat</code>?</p>\n\n<p>On Windows XP, after running the script with admin privileges, <kbd>netstat -a</kbd> gives me:</p>\n\n<pre>TCP    aardvarkvi:http        aardvarkvi:0           LISTENING</pre>\n\n<p>Binding to ports below 1024 requires root privileges on <code>*nix</code> systems. Since you do not (or, shall I say, code you seem to have blindly copied does not) check the return values of various calls, you would not know if they failed.</p>\n\n<p>In general, you should not have to use Socket.pm. Stick with <a href=\"http://search.cpan.org/perldoc?IO::Socket\" rel=\"nofollow noreferrer\">IO::Socket</a> and avoid blindly copying code without knowing what it does.</p>\n\n<p>You might also want to look into <a href=\"http://search.cpan.org/perldoc?HTTP::Daemon\" rel=\"nofollow noreferrer\">HTTP::Daemon</a>.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "32315550": {"question": {"tags": ["python", "python-requests", "urllib3", "cloud-init"], "is_answered": true, "view_count": 221, "accepted_answer_id": 32328656, "answer_count": 1, "score": 1, "last_activity_date": 1441101376, "creation_date": 1441037558, "last_edit_date": 1495541675, "question_id": 32315550, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/32315550/upgrading-urllib3-made-cloud-init-fail-apparently-urllib3-and-python-requests-h", "title": "upgrading urllib3 made cloud-init fail, apparently urllib3 and python requests have version compatibility issues?", "body": "<p>We upgraded our python-urllib3 from 1.5-7 to 10.10.4-1 and started getting errors in Cloud-init when it tried to get AWS metadata:</p>\n\n<p><code>\n  \"unexpected error [cannot concatenate 'str' and 'tuple' objects]\".\n</code></p>\n\n<p>I've seen several other StackOverFlow issues pointing to incompatibility issues between urllib3 and requests (<a href=\"https://stackoverflow.com/questions/28081911/python-requests-timeout-value-error\">Python Requests Timeout Value error</a>), (<a href=\"https://stackoverflow.com/questions/31768429/algolia-reindex-command-fails-with-exception-in-urllib3\">Algolia reindex command fails with exception in urllib3</a>).</p>\n\n<p>What I can't find is any matrix of the versions that <strong>do</strong> work together.  The solutions in the other questions aren't available to us as the invoking code is buried in CloudInit.</p>\n\n<p>We don't really have the option of going back to our previous version of urllib3 because other package (ElasticSearch Curator) apparently requires the newer version.</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1441101376, "creation_date": 1441101376, "answer_id": 32328656, "question_id": 32315550, "content_license": "CC BY-SA 3.0", "body": "<p>Requests' ordinarily vendors its urllib3 dependency, but downstream packagers have a tendency to break requests and urllib3 apart. This means a given version of requests makes no guarantees about being compatible with any version of urllib3 other than the one that it was shipped with originally.</p>\n\n<p>Whatever version is installed by default in your OS release is the only version of urllib3 that will work the version of requests installed by your OS.</p>\n\n<p>If you require multiple different releases of Python libraries at the same time, I recommend you look into <a href=\"https://virtualenv.pypa.io/en/latest/\" rel=\"nofollow\">virtual environments</a>.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "8193768": {"question": {"tags": ["amazon-web-services", "authentication", "ssh", "amazon-ec2", "permissions"], "is_answered": true, "view_count": 479490, "protected_date": 1533762285, "accepted_answer_id": 10822056, "answer_count": 30, "score": 745, "last_activity_date": 1589286656, "creation_date": 1321702508, "last_edit_date": 1499155223, "question_id": 8193768, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/8193768/trying-to-ssh-into-an-amazon-ec2-instance-permission-error", "title": "Trying to SSH into an Amazon Ec2 instance - permission error", "body": "<p>This is probably a stupidly simple question to some :)</p>\n\n<p>I've created a new linux instance on Amazon EC2, and as part of that downloaded the .pem file to allow me to SSH in. </p>\n\n<p>When I tried to ssh with:</p>\n\n<pre><code>ssh -i myfile.pem &lt;public dns&gt;\n</code></pre>\n\n<p>I got:</p>\n\n<pre><code>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nPermissions 0644 for 'amazonec2.pem' are too open.\nIt is recommended that your private key files are NOT accessible by others.\nThis private key will be ignored.\nbad permissions: ignore key: amazonec2.pem\nPermission denied (publickey).\n</code></pre>\n\n<p>Following <a href=\"https://stackoverflow.com/questions/201893/ssh-into-amazon-ec2-instance\">this post</a> I tried to chmod +600 the pem file, but now when I ssh I just get:</p>\n\n<pre><code>Permission denied (publickey).\n</code></pre>\n\n<p>What school-boy error am I making here?\n The .pem file is in my home folder (in osx). It's permissions look like this:</p>\n\n<pre><code>-rw-------@   1 mattroberts  staff    1696 19 Nov 11:20 amazonec2.pem\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 1460, "last_activity_date": 1589286656, "last_edit_date": 1589286656, "creation_date": 1338402184, "answer_id": 10822056, "question_id": 8193768, "content_license": "CC BY-SA 4.0", "body": "<p>The problem is having wrong mod on the file.</p>\n\n<p>Easily solved by executing -</p>\n\n<p><code>chmod 400 mykey.pem</code></p>\n\n<p>Taken from Amazon's instructions -</p>\n\n<blockquote>\n  <p>Your key file must not be publicly viewable for SSH to work. Use this\n  command if needed:  chmod 400 mykey.pem</p>\n</blockquote>\n\n<p>400 protects it by making it read only and only for the owner.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "17596543": {"question": {"tags": ["visual-studio"], "is_answered": true, "view_count": 321214, "protected_date": 1378886239, "accepted_answer_id": 17604007, "answer_count": 26, "score": 1069, "last_activity_date": 1578458024, "creation_date": 1373554044, "last_edit_date": 1412669295, "question_id": 17596543, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/17596543/error-message-no-exports-were-found-that-match-the-constraint-contract-name", "title": "Error message &quot;No exports were found that match the constraint contract name&quot;", "body": "<p>This morning I faced a problem while opening my Visual Studio solution, and when I tried to run it, it said:</p>\n\n<blockquote>\n  <p>No exports were found that match the constraint contract name</p>\n</blockquote>\n\n<p>How can I fix this problem?</p>\n"}, "answer": {"is_accepted": true, "score": 2160, "last_activity_date": 1578458024, "last_edit_date": 1578458024, "creation_date": 1373578882, "answer_id": 17604007, "question_id": 17596543, "content_license": "CC BY-SA 4.0", "body": "<p>I solved this problem by clearing Visual Studio Component Model Cache.</p>\n\n<p>Just delete or rename this folder: </p>\n\n<pre><code>%LocalAppData%\\Microsoft\\VisualStudio\\11.0\\ComponentModelCache\n</code></pre>\n\n<p>or</p>\n\n<pre><code>%LocalAppData%\\Microsoft\\VPDExpress\\11.0\\ComponentModelCache\n</code></pre>\n\n<p>and restart Visual Studio.</p>\n\n<p>The version of Visual Studio you have is specified by the number e.g.</p>\n\n<p>Visual Studio 2012 is <code>11.0</code> (as shown above)</p>\n\n<p>Visual Studio 2013 is <code>12.0</code></p>\n\n<p>Visual Studio 2015 is <code>14.0</code></p>\n\n<p>Visual Studio 2017 is <code>15.0</code></p>\n\n<p>Visual Studio 2019 is <code>16.0</code></p>\n\n<p>For those that don't know: \n<code>%LocalAppData%\\</code> is the same as <code>C:\\Users\\{yourUsername}\\AppData\\Local</code></p>\n\n<p>For those who have multiple versions of Visual Studio installed, e.g. 2012 and 2013, it might help to remove the ComponentModelCache for both versions before restarting Visual Studio, e.g. 11.0 and 12.0.</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "9270734": {"question": {"tags": ["permissions", "ssh"], "is_answered": true, "view_count": 1385940, "protected_date": 1545281159, "accepted_answer_id": 9270753, "answer_count": 20, "score": 2053, "last_activity_date": 1590501007, "creation_date": 1329184951, "last_edit_date": 1401148082, "question_id": 9270734, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/9270734/ssh-permissions-are-too-open-error", "title": "ssh &quot;permissions are too open&quot; error", "body": "<p>I had a problem with my mac where I couldn't save any kind of file on the disk anymore.\nI had to reboot OSX lion and reset the permissions on files and acls.</p>\n\n<p>But now when I want to commit a repository I get the following error from ssh:</p>\n\n<pre><code>Permissions 0777 for '/Users/username/.ssh/id_rsa' are too open.\nIt is recommended that your private key files are NOT accessible by others.\nThis private key will be ignored.\n</code></pre>\n\n<p>What permissions levels should i give to the id_rsa file?</p>\n"}, "answer": {"is_accepted": true, "score": 3469, "last_activity_date": 1573102737, "last_edit_date": 1573102737, "creation_date": 1329185101, "answer_id": 9270753, "question_id": 9270734, "content_license": "CC BY-SA 4.0", "body": "<p>Keys need to be only readable by you:</p>\n\n<pre><code>chmod 400 ~/.ssh/id_rsa\n</code></pre>\n\n<p>If Keys need to be read-writable by you:</p>\n\n<pre><code>chmod 600 ~/.ssh/id_rsa\n</code></pre>\n\n<p><em>600</em> appears to be fine as well (in fact better in most cases, because you don't need to change file permissions later to edit it).</p>\n\n<p>The relevant portion from the manpage (<code>man ssh</code>)</p>\n\n<blockquote>\n<pre><code> ~/.ssh/id_rsa\n         Contains the private key for authentication.  These files contain sensitive \n         data and should be readable by the user but not\n         accessible by others (read/write/execute).  ssh will simply ignore a private \n         key file if it is              \n         accessible by others.  It is possible to specify a\n         passphrase when generating the key which will be used to encrypt the sensitive \n         part of this file using 3DES.\n\n ~/.ssh/identity.pub\n ~/.ssh/id_dsa.pub\n ~/.ssh/id_ecdsa.pub\n ~/.ssh/id_rsa.pub\n         Contains the public key for authentication.  These files are not sensitive and \n         can (but need not) be readable by anyone.\n</code></pre>\n</blockquote>\n"}, "validated_answer": true, "validated_root_cause": true}, "50718018": {"question": {"tags": ["info.plist", "xcode10"], "is_answered": true, "view_count": 350154, "protected_date": 1536999865, "accepted_answer_id": 50719379, "answer_count": 70, "score": 658, "last_activity_date": 1590082267, "creation_date": 1528280536, "last_edit_date": 1577340689, "question_id": 50718018, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/50718018/xcode-10-error-multiple-commands-produce", "title": "Xcode 10 Error: Multiple commands produce", "body": "<blockquote>\n  <p>error: Multiple commands produce '/Users/uesr/Library/Developer/Xcode/DerivedData/OptimalLive-fxatvygbofczeyhjsawtebkimvwx/Build/Products/Debug-iphoneos/OptimalLive.app/Info.plist':\n      1) Target 'OptimalLive' has copy command from '/Users/uesr/Desktop/workSpace/SEALIVE/SeaLive1.1/OptimalLive/Info.plist' to '/Users/uesr/Library/Developer/Xcode/DerivedData/OptimalLive-fxatvygbofczeyhjsawtebkimvwx/Build/Products/Debug-iphoneos/OptimalLive.app/Info.plist'\n      2) Target 'OptimalLive' has copy command from '/Users/uesr/Desktop/workSpace/SEALIVE/SeaLive1.1/OptimalLive/Server/Masonry/Info.plist' to '/Users/uesr/Library/Developer/Xcode/DerivedData/OptimalLive-fxatvygbofczeyhjsawtebkimvwx/Build/Products/Debug-iphoneos/OptimalLive.app/Info.plist'\n      3) Target 'OptimalLive' has process command with input '/Users/uesr/Desktop/workSpace/SEALIVE/SeaLive1.1/OptimalLive/Info.plist'</p>\n</blockquote>\n\n<p>Running the code in Xcode9 works, but there is a error in Xcode10.</p>\n"}, "answer": {"is_accepted": true, "score": 1215, "last_activity_date": 1550592212, "last_edit_date": 1550592212, "creation_date": 1528284731, "answer_id": 50719379, "question_id": 50718018, "content_license": "CC BY-SA 4.0", "body": "<p>The issue might be occurring because of multiple Plist or other files within App-</p>\n\n<p><em>Solution -> Open target -> Build phases > Copy Bundle Resources</em> and remove <code>info.plist</code> from there.</p>\n\n<p><a href=\"https://i.stack.imgur.com/whT0P.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/whT0P.png\" alt=\"enter image description here\"></a> </p>\n\n<p><strong>Note:</strong> If you have developed a watch app too then you will have to remove the plist from the watch and watch-extension too.</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "11919391": {"question": {"tags": ["postgresql", "authentication"], "is_answered": true, "view_count": 754503, "protected_date": 1535486433, "accepted_answer_id": 11919677, "answer_count": 14, "score": 731, "last_activity_date": 1582890724, "creation_date": 1344740444, "last_edit_date": 1479447414, "question_id": 11919391, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/11919391/postgresql-error-fatal-role-username-does-not-exist", "title": "PostgreSQL error: Fatal: role &quot;username&quot; does not exist", "body": "<p>I'm setting up my PostgreSQL 9.1. I can't do anything with PostgreSQL: can't <code>createdb</code>, can't <code>createuser</code>; all operations return the error message</p>\n\n<pre><code>Fatal: role h9uest does not exist\n</code></pre>\n\n<p><code>h9uest</code> is my account name, and I <code>sudo apt-get install</code> PostgreSQL 9.1 under this account.<br>\nSimilar error persists for the <code>root</code> account.</p>\n"}, "answer": {"is_accepted": true, "score": 773, "last_activity_date": 1546100002, "last_edit_date": 1546100002, "creation_date": 1344744783, "answer_id": 11919677, "question_id": 11919391, "content_license": "CC BY-SA 4.0", "body": "<p>Use the <em>operating system user</em> <code>postgres</code> to create your database - as long as you haven't set up a <em>database</em> role with the necessary privileges that corresponds to your operating system user of the same name (<code>h9uest</code> in your case):</p>\n\n<pre><code>sudo -u postgres -i\n</code></pre>\n\n<p>As recommended <a href=\"https://serverfault.com/questions/359856/what-is-the-difference-between-sudo-i-and-sudo-su\">here</a> or <a href=\"https://serverfault.com/questions/601140/whats-the-difference-between-sudo-su-postgres-and-sudo-u-postgres\">here</a>.</p>\n\n<p>Then try again. Type <code>exit</code> when done with operating as system user <code>postgres</code>.</p>\n\n<p><strong>Or</strong> execute the single command <code>createuser</code> as <code>postgres</code> with <code>sudo</code>, like <a href=\"https://stackoverflow.com/a/18708583/939860\">demonstrated by drees</a> in another answer.</p>\n\n<p>The point is to use the operating system user matching the database role of the same name to be granted access via <a href=\"https://www.postgresql.org/docs/current/client-authentication.html\" rel=\"noreferrer\"><strong><code>ident</code> authentication</strong></a>. <code>postgres</code> is the default operating system user to have initialized the database cluster. <a href=\"https://www.postgresql.org/docs/current/database-roles.html\" rel=\"noreferrer\">The manual:</a> </p>\n\n<blockquote>\n  <p>In order to bootstrap the database system, a freshly initialized\n  system always contains one predefined role. This role is always a\n  \u201csuperuser\u201d, and by default (unless altered when running <code>initdb</code>) it\n  will have the same name as the operating system user that initialized\n  the database cluster. Customarily, this role will be named <code>postgres</code>.\n  In order to create more roles you first have to connect as this\n  initial role.</p>\n</blockquote>\n\n<p>I have heard of odd setups with non-standard user names or where the operating system user does not exist. You'd need to adapt your strategy there.</p>\n\n<p>Read about <a href=\"https://www.postgresql.org/docs/current/user-manag.html\" rel=\"noreferrer\">database roles</a> and <a href=\"https://www.postgresql.org/docs/current/client-authentication.html\" rel=\"noreferrer\">client authentication</a> in the manual.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "20035101": {"question": {"tags": ["javascript", "jquery", "cors", "same-origin-policy", "flask-restless"], "is_answered": true, "view_count": 4293839, "protected_date": 1429286577, "accepted_answer_id": 20035319, "answer_count": 8, "score": 2500, "last_activity_date": 1590385554, "creation_date": 1384716546, "last_edit_date": 1583609454, "question_id": 20035101, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/20035101/why-doesn-t-postman-get-a-no-access-control-allow-origin-header-is-present-on", "title": "Why doesn\u2019t Postman get a &quot;No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource&quot; error when my JavaScript code does?", "body": "<blockquote>\n  <p><strong>Mod note</strong>: This question is about why Postman is not subject to CORS restrictions in the same way an XMLHttpRequest is. This question is <strong>not</strong> about how to fix a \"No 'Access-Control-Allow-Origin'...\" error.</p>\n  \n  <p><strong>Please stop posting</strong>:</p>\n  \n  <ul>\n  <li>CORS configurations for every language/framework under the sun. Instead <a href=\"https://stackoverflow.com/search?q=how+to+enable+CORS+is%3Aquestion&amp;mixed=1\">find your relevant language/framework's question</a>.</li>\n  <li>3rd party services that allow a request to circumvent CORS</li>\n  <li>Command line options for turning off CORS for various browsers</li>\n  </ul>\n</blockquote>\n\n<hr>\n\n<p>I am trying to do authorization using <a href=\"http://en.wikipedia.org/wiki/JavaScript\" rel=\"noreferrer\">JavaScript</a> by connecting to the <a href=\"http://en.wikipedia.org/wiki/Representational_state_transfer#RESTful_web_services\" rel=\"noreferrer\">RESTful</a> <a href=\"http://en.wikipedia.org/wiki/Application_programming_interface\" rel=\"noreferrer\">API</a> built-in <a href=\"https://en.wikipedia.org/wiki/Flask_%28web_framework%29\" rel=\"noreferrer\">Flask</a>. However, when I make the request, I get the following error:</p>\n\n<blockquote>\n  <p>XMLHttpRequest cannot load <a href=\"http://myApiUrl/login\" rel=\"noreferrer\">http://myApiUrl/login</a>. No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'null' is therefore not allowed access.</p>\n</blockquote>\n\n<p>I know that the API or remote resource must set the header, but why did it work when I made the request via the Chrome extension <a href=\"https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop\" rel=\"noreferrer\">Postman</a>?</p>\n\n<p>This is the request code:</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    dataType: 'text',\n    url: api,\n    username: 'user',\n    password: 'pass',\n    crossDomain : true,\n    xhrFields: {\n        withCredentials: true\n    }\n})\n    .done(function( data ) {\n        console.log(\"done\");\n    })\n    .fail( function(xhr, textStatus, errorThrown) {\n        alert(xhr.responseText);\n        alert(textStatus);\n    });\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 1343, "last_activity_date": 1390438017, "last_edit_date": 1390438017, "creation_date": 1384717793, "answer_id": 20035319, "question_id": 20035101, "content_license": "CC BY-SA 3.0", "body": "<p>If I understood it right you are doing an <a href=\"http://en.wikipedia.org/wiki/XMLHttpRequest\">XMLHttpRequest</a> to a different domain than your page is on. So the browser is blocking it as it usually allows a request in the same origin for security reasons. You need to do something different when you want to do a cross-domain request. A tutorial about how to achieve that is <em><a href=\"http://www.html5rocks.com/en/tutorials/cors/\">Using CORS</a></em>.</p>\n\n<p>When you are using postman they are not restricted by this policy. Quoted from <em><a href=\"http://developer.chrome.com/extensions/xhr.html\">Cross-Origin XMLHttpRequest</a></em>:</p>\n\n<blockquote>\n  <p>Regular web pages can use the XMLHttpRequest object to send and receive data from remote servers, but they're limited by the same origin policy. Extensions aren't so limited. An extension can talk to remote servers outside of its origin, as long as it first requests cross-origin permissions.</p>\n</blockquote>\n"}, "validated_answer": true, "validated_root_cause": true}, "11448068": {"question": {"tags": ["mysql", "sql-update", "mysql-workbench"], "is_answered": true, "view_count": 1595247, "protected_date": 1454752359, "accepted_answer_id": 11448213, "answer_count": 17, "score": 816, "last_activity_date": 1589393645, "creation_date": 1342082679, "last_edit_date": 1357792834, "question_id": 11448068, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/11448068/mysql-error-code-1175-during-update-in-mysql-workbench", "title": "MySQL error code: 1175 during UPDATE in MySQL Workbench", "body": "<p>I'm trying to update the column <code>visited</code> to give it the value 1. I use MySQL workbench, and I'm writing the statement in the SQL editor from inside the workbench. I'm writing the following command:</p>\n\n<pre><code>UPDATE tablename SET columnname=1;\n</code></pre>\n\n<p>It gives me the following error:</p>\n\n<blockquote>\n  <p>You are using safe update mode and you tried to update a table without\n  a WHERE that uses a KEY column To disable safe mode, toggle the option\n  ....</p>\n</blockquote>\n\n<p>I followed the instructions, and I unchecked the <code>safe update</code> option from the <code>Edit</code> menu then <code>Preferences</code> then <code>SQL Editor</code>. The same error still appear &amp; I'm not able to update this value. Please, tell me what is wrong?</p>\n"}, "answer": {"is_accepted": true, "score": 17, "last_activity_date": 1374731342, "last_edit_date": 1374731342, "creation_date": 1342083178, "answer_id": 11448213, "question_id": 11448068, "content_license": "CC BY-SA 3.0", "body": "<p>I found the answer. The problem was that I have to precede the table name with the schema name. i.e, the command should be:</p>\n\n<pre><code>UPDATE schemaname.tablename SET columnname=1;\n</code></pre>\n\n<p>Thanks all.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "12859891": {"question": {"tags": ["c#", ".net", "iis", "iis-metabase"], "is_answered": true, "view_count": 358083, "protected_date": 1426929818, "accepted_answer_id": 14715377, "answer_count": 37, "score": 842, "last_activity_date": 1587147677, "creation_date": 1350047703, "last_edit_date": 1587147677, "question_id": 12859891, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/12859891/error-unable-to-access-the-iis-metabase", "title": "Error - Unable to access the IIS metabase", "body": "<p>After installing <strong>Visual Studio 2012</strong> and opening my solution I get a series of errors in this form:</p>\n\n<blockquote>\n  <p>The Web Application Project Foo is configured to use <strong>IIS</strong>.<br>\n  Unable to access the <strong>IIS Metabase</strong>. You do not have sufficient privilege to access <strong>IIS</strong> web sites on your machine.</p>\n</blockquote>\n\n<p>I get this for each of our web applications.  </p>\n\n<hr>\n\n<p>Things I have tried:</p>\n\n<ol>\n<li>Running Visual Studio as Administrator </li>\n<li>Running aspnet_regiis.exe -ga MyUserName </li>\n<li>Running aspnet_regiis.exe -i</li>\n</ol>\n\n<p>These seem to be common solutions for this problem but I have not had any success with them.  </p>\n\n<blockquote>\n  <p>Is there anything else I can try to do?  </p>\n</blockquote>\n"}, "answer": {"is_accepted": true, "score": 13, "last_activity_date": 1360092623, "creation_date": 1360092623, "answer_id": 14715377, "question_id": 12859891, "content_license": "CC BY-SA 3.0", "body": "<p><strong>Thank you to everyone that answered.</strong> Since this was closed for a long time I couldn't provide much feedback, but I did eventually fix my problem. I tried many of these other solutions and they didn't fix my issue, but I'm sure they help when the root cause is different.</p>\n\n<p><strong>My Solution</strong></p>\n\n<p>I solved this problem by turning off the IIS and .Net Framework features within Windows 7 and then turning them back on. It seems like this re-installation is what fixed my issue. I still don't know what caused the problem, but at least one other developer on my team had the same issue.</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "9794985": {"question": {"tags": ["iis", "iis-7", "iis-8.5", "iis-10"], "is_answered": true, "view_count": 1026051, "protected_date": 1482995863, "accepted_answer_id": 12867753, "answer_count": 32, "score": 1778, "last_activity_date": 1582310305, "creation_date": 1332277671, "last_edit_date": 1582310305, "question_id": 9794985, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/9794985/config-error-this-configuration-section-cannot-be-used-at-this-path", "title": "Config Error: This configuration section cannot be used at this path", "body": "<p>I've encountered an error deploying a site to a server.  When trying to load the home page, or access authentication on the new site in IIS, I get the error:</p>\n\n<blockquote>\n  <p>Config Error: This configuration section cannot be used at this path.\n  This happens when the section is locked at a parent level. Locking is\n  either by default (overrideModeDefault=\"Deny\"), or set explicitly by a\n  location tag with overrideMode=\"Deny\" or the legacy\n  allowOverride=\"false\".</p>\n</blockquote>\n\n<p>More detail can be found here, in <a href=\"https://docs.microsoft.com/en-gb/archive/blogs/webtopics/troubleshooting-http-500-19-errors-in-iis-7\" rel=\"noreferrer\">Scenario 7</a> matches my hex error code.</p>\n\n<p>The solution given on the linked site above is to set <strong>Allow</strong> for overrideModeDefault in the section mentioned in my error, in the <em>applicationHost.config</em> file.  In my case,  under <strong>Security</strong> in <em>system.webServer</em>.  But if I look at the <em>applicationHost.config</em> on my local computer, where the site is properly deployed already, that section is set to <strong>Deny</strong>.</p>\n\n<p>If this solution is correct, how is my local instance running just fine with the same <em>web.config</em>?  According to my <em>applicationHost.config</em>, that section should be locked, but it's not.  I'd prefer to not change the <em>applicationHost.config</em> file, because there are many other sites running on that server.  Is there another solution?</p>\n"}, "answer": {"is_accepted": true, "score": 3331, "last_activity_date": 1350080292, "last_edit_date": 1350080292, "creation_date": 1350079571, "answer_id": 12867753, "question_id": 9794985, "content_license": "CC BY-SA 3.0", "body": "<p>I had the same problem. Don't remember where I found it on the web, but here is what I did:</p>\n\n<ul>\n<li>Click \"Start button\"</li>\n<li>in the search box, enter \"Turn windows features on or off\"</li>\n<li>in the features window, Click: \"Internet Information Services\"</li>\n<li>Click: \"World Wide Web Services\"</li>\n<li>Click: \"Application Development Features\"</li>\n<li>Check (enable) the features. I checked all but CGI.</li>\n</ul>\n\n<p>btw, I'm using Windows 7.</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "942951": {"question": {"tags": ["web-services", "http", "rest"], "is_answered": true, "view_count": 269652, "closed_date": 1481880912, "accepted_answer_id": 943011, "answer_count": 12, "score": 622, "last_activity_date": 1518897028, "creation_date": 1244000357, "last_edit_date": 1507409511, "question_id": 942951, "link": "https://stackoverflow.com/questions/942951/rest-api-error-return-good-practices", "closed_reason": "Opinion-based", "title": "REST API error return good practices", "body": "<p>I'm looking for guidance on good practices when it comes to return errors from a REST API. I'm working on a new API so I can take it any direction right now. My content type is XML at the moment, but I plan to support JSON in future.</p>\n\n<p>I am now adding some error cases, like for instance a client attempts to add a new resource but has exceeded his storage quota. I am already handling certain error cases with HTTP status codes (401 for authentication, 403 for authorization and 404 for plain bad request URIs). I looked over the blessed HTTP error codes but none of the 400-417 range seems right to report application specific errors. So at first I was tempted to return my application error with 200 OK and a specific XML payload (ie. Pay us more and you'll get the storage you need!) but I stopped to think about it and it seems to soapy (/shrug in horror). Besides it feels like I'm splitting the error responses into distinct cases, as some are http status code driven and other are content driven.</p>\n\n<p>So what is the industry recommendations? Good practices (please explain why!) and also, from a client pov, what kind of error handling in the REST API makes life easier for the client code?</p>\n"}, "answer": {"is_accepted": true, "score": 220, "last_activity_date": 1244002093, "creation_date": 1244002093, "answer_id": 943011, "question_id": 942951, "content_license": "CC BY-SA 2.5", "body": "<blockquote>\n  <p>So at first I was tempted to return my application error with 200 OK and a specific XML payload (ie. Pay us more and you'll get the storage you need!) but I stopped to think about it and it seems to soapy (/shrug in horror).</p>\n</blockquote>\n\n<p>I wouldn't return a 200 unless there really was nothing wrong with the request. From <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\" rel=\"noreferrer\">RFC2616</a>, 200 means \"the request has succeeded.\"</p>\n\n<p>If the client's storage quota has been exceeded (for whatever reason), I'd return a 403 (Forbidden):</p>\n\n<blockquote>\n  <p>The server understood the request, but is refusing to fulfill it. Authorization will not help and the request SHOULD NOT be repeated. If the request method was not HEAD and the server wishes to make public why the request has not been fulfilled, it SHOULD describe the reason for the refusal in the entity. If the server does not wish to make this information available to the client, the status code 404 (Not Found) can be used instead.</p>\n</blockquote>\n\n<p>This tells the client that the request was OK, but that it failed (something a 200 doesn't do). This also gives you the opportunity to explain the problem (and its solution) in the response body.</p>\n\n<p>What other specific error conditions did you have in mind?</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "51048217": {"question": {"tags": ["axios", "nuxt.js"], "is_answered": true, "view_count": 2682, "accepted_answer_id": 51052393, "answer_count": 2, "score": 1, "last_activity_date": 1534276442, "creation_date": 1530032987, "question_id": 51048217, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/51048217/how-to-set-axios-token-for-client-side-in-nuxt-server-init", "title": "How to set axios token for client side in nuxt server init?", "body": "<p>I'm trying to authenticate my user when the page is loading. So I have the following code :</p>\n\n<pre><code>actions: {\n      nuxtServerInit ({dispatch, commit, app}, context) {\n        return new Promise((resolve, reject) =&gt; {\n          const cookies = cparse.parse(context.req.headers.cookie || '')\n          if (cookies.hasOwnProperty('x-access-token')) {\n            app.$axios.setToken(cookies['x-access-token'], 'Bearer')\n            api.auth.me2()\n              .then(result =&gt; {\n                commit('setUser', result.data.user)\n                resolve(true)\n              })\n              .catch(error =&gt; {\n                commit('resetUser')\n                resetAuthToken()\n                resolve(false)\n              })\n          } else {\n            resetAuthToken()\n            resolve(false)\n          }\n        })\n      }\n</code></pre>\n\n<p>However I have the following error : \nCannot read $axios property of undefined. What is wrong with my code ?</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1530053811, "creation_date": 1530053811, "answer_id": 51052393, "question_id": 51048217, "content_license": "CC BY-SA 4.0", "body": "<p>App should come from context e.g. from second argument.\nSo your code should be</p>\n\n<pre><code>context.app.$axios.setToken(cookies['x-access-token'], 'Bearer')\n</code></pre>\n"}, "validated_answer": true, "validated_root_cause": false}, "2982387": {"question": {"tags": ["c++", "com"], "is_answered": true, "view_count": 202, "accepted_answer_id": 2982486, "answer_count": 1, "score": 2, "last_activity_date": 1275779586, "creation_date": 1275777442, "last_edit_date": 1275778962, "question_id": 2982387, "content_license": "CC BY-SA 2.5", "link": "https://stackoverflow.com/questions/2982387/global-stdunordered-map-com-server-init-problems", "title": "global std::unordered_map com server init problems", "body": "<p>I want to have a static global std::unordered_map in the cpp of my entry point for my COM server.</p>\n\n<p>relevant header code:</p>\n\n<pre><code>typedef unordered_map&lt;HWND,IMyInterface*&gt; MyMapType;\n</code></pre>\n\n<p>relevant body:</p>\n\n<pre><code>static MyMapType MyMap;\n\nvoid MyFunction(HWND hWnd, IMyInterface* pObj){\n    MyMap[hWnd] = pObj;\n}\n\nHINSTANCE g_hInstModule = NULL;\nBOOL WINAPI DllMain ( __in HINSTANCE hInstDLL, __in DWORD fdwReason, __in LPVOID lpvReserved )\n{\n    if( fdwReason == DLL_PROCESS_ATTACH )\n    {\n        g_hInstModule = hInstDLL;\n        return true;\n    }\n    else if( fdwReason == DLL_PROCESS_DETACH )\n    {\n        return true;\n    }\n    return false;\n}\n\nMyCoClass::MyCoClass()\n{\n    DRM_Refcount = 1;\n}\n\nHRESULT STDMETHODCALLTYPE MyCoClass::InitMyCoClass()\n{\n    CoInitializeEx(NULL, COINIT_APARTMENTTHREADED);\n    //replace with make window code\n    MyFunction(hWnd,ISomeInterface);\n    return S_OK;\n}\n</code></pre>\n\n<p>The only way I can get this to work is be making a map_type pointer and creating an instance of map_type on the heap and pointing at it with the global pointer. :/</p>\n\n<p>WHY?</p>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1275779586, "creation_date": 1275779586, "answer_id": 2982486, "question_id": 2982387, "content_license": "CC BY-SA 2.5", "body": "<p>You need to modify DllMain to explicitly initialize the C runtime: <a href=\"http://support.microsoft.com/kb/814472\" rel=\"nofollow noreferrer\">http://support.microsoft.com/kb/814472</a></p>\n\n<p>Search for \"To Modify COM-based DLL\"</p>\n\n<p>Static objects with constructors usually get initialized through the CRT entry point which for .exes then calls your program's main function. With DLLs, you have to the work yourself.  </p>\n"}, "validated_answer": true, "validated_root_cause": false}, "67316": {"question": {"tags": ["nginx", "redirect", "https"], "is_answered": true, "view_count": 495561, "accepted_answer_id": 337893, "answer_count": 11, "score": 525, "last_activity_date": 1551374484, "creation_date": 1253541883, "question_id": 67316, "content_license": "CC BY-SA 2.5", "link": "https://serverfault.com/questions/67316/in-nginx-how-can-i-rewrite-all-http-requests-to-https-while-maintaining-sub-dom", "title": "In Nginx, how can I rewrite all http requests to https while maintaining sub-domain?", "body": "<p>I want to rewrite all http requests on my web server to be https requests, I started with the following:</p>\n\n<pre>\nserver {\n    listen      80;\n\n    location / {\n      rewrite     ^(.*)   https://mysite.com$1 permanent;\n    }\n...\n</pre>\n\n<p><br/>\nOne Problem is that this strips away any subdomain information (e.g., node1.mysite.com/folder), how could I rewrite the above to reroute everything to https and maintain the sub-domain?</p>\n"}, "answer": {"is_accepted": true, "score": 769, "last_activity_date": 1512947104, "last_edit_date": 1512947104, "creation_date": 1323117827, "answer_id": 337893, "question_id": 67316, "content_license": "CC BY-SA 3.0", "body": "<h1>Correct way in new versions of nginx</h1>\n\n<p>Turn out my first answer to this question was correct at certain time, but it turned into another pitfall - to stay up to date please check <a href=\"https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/#taxing-rewrites\" rel=\"noreferrer\">Taxing rewrite pitfalls</a></p>\n\n<p>I have been corrected by many SE users, so the credit goes to them, but more importantly, here is the correct code:</p>\n\n<pre><code>server {\n       listen         80;\n       server_name    my.domain.com;\n       return         301 https://$server_name$request_uri;\n}\n\nserver {\n       listen         443 ssl;\n       server_name    my.domain.com;\n       # add Strict-Transport-Security to prevent man in the middle attacks\n       add_header Strict-Transport-Security \"max-age=31536000\" always; \n\n       [....]\n}\n</code></pre>\n"}, "validated_answer": true, "validated_root_cause": false}, "253313": {"question": {"tags": ["ssh", "file-permissions"], "is_answered": true, "view_count": 318907, "protected_date": 1528871470, "accepted_answer_id": 253314, "answer_count": 6, "score": 425, "last_activity_date": 1582776178, "creation_date": 1301422548, "last_edit_date": 1498234628, "question_id": 253313, "content_license": "CC BY-SA 3.0", "link": "https://serverfault.com/questions/253313/ssh-returns-bad-owner-or-permissions-on-ssh-config", "title": "ssh returns &quot;Bad owner or permissions on ~/.ssh/config&quot;", "body": "<p>When I try to ssh to another box, I get this strange error</p>\n\n<pre><code>$ ssh hostname\nBad owner or permissions on ~/.ssh/config\n</code></pre>\n\n<p>But I made sure that I own and have rw permissions on the file:</p>\n\n<pre><code>ls -la ~/.ssh/\ntotal 40K\ndrwx------ 2 robert robert 4.0K Mar 29 11:04 ./\ndrwx------ 7 robert robert 4.0K Mar 29 11:04 ../\n-rw-r--r-- 1 robert robert 2.0K Mar 17 20:47 authorized_keys\n-rw-rw-r-- 1 robert robert   31 Mar 29 11:04 config\n-rw------- 1 robert robert 1.7K Aug  4  2010 id_rsa\n-rw-r--r-- 1 robert robert  406 Aug  4  2010 id_rsa.pub\n-rw-r--r-- 1 robert robert 6.1K Mar 29 11:03 known_hosts\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 672, "last_activity_date": 1498234867, "last_edit_date": 1498234867, "creation_date": 1301422616, "answer_id": 253314, "question_id": 253313, "content_license": "CC BY-SA 3.0", "body": "<p>I needed to have rw for user only permissions on config.  This fixed it.</p>\n\n<pre><code>chmod 600 ~/.ssh/config\n</code></pre>\n\n<p>As others have noted below, it could be the file owner.  (upvote them!)</p>\n\n<pre><code>chown $USER ~/.ssh/config\n</code></pre>\n"}, "validated_answer": true, "validated_root_cause": true}, "218005": {"question": {"tags": ["hacking", "security"], "is_answered": true, "view_count": 141079, "protected_date": 1343929836, "accepted_answer_id": 218011, "answer_count": 13, "score": 607, "last_activity_date": 1508800142, "creation_date": 1294003887, "last_edit_date": 1492085656, "question_id": 218005, "content_license": "CC BY-SA 3.0", "link": "https://serverfault.com/questions/218005/how-do-i-deal-with-a-compromised-server", "title": "How do I deal with a compromised server?", "body": "<blockquote>\n  <p>This is a <a href=\"http://meta.serverfault.com/questions/1986\">Canonical Question</a> about Server Security - Responding to Breach Events (Hacking)<br>\n  See Also:</p>\n  \n  <ul>\n  <li><a href=\"https://serverfault.com/questions/212269/tips-for-securing-a-lamp-server\">Tips for Securing a LAMP Server</a></li>\n  <li><a href=\"https://serverfault.com/questions/6190/reinstall-after-a-root-compromise\">Reinstall after a Root Compromise?</a></li>\n  </ul>\n</blockquote>\n\n<p><strong>Canonical Version</strong><br>\nI suspect that one or more of my servers is compromised by a hacker, virus, or other mechanism:</p>\n\n<ul>\n<li>What are my first steps? When I arrive on site should I disconnect the server, preserve \"evidence\", are there other initial considerations?</li>\n<li>How do I go about getting services back online?</li>\n<li>How do I prevent the same thing from happening immediately again?</li>\n<li>Are there best practices or methodologies for learning from this incident?</li>\n<li>If I wanted to put a Incident Response Plan together, where would I start? Should this be part of my Disaster Recovery or Business Continuity Planning?</li>\n</ul>\n\n<p><strong>Original Version</strong>  </p>\n\n<blockquote>\n  <p><em>2011.01.02</em> - I'm on my way into work at 9.30 p.m. on a Sunday because our server has been compromised somehow and was resulting in a\n  <a href=\"http://en.wikipedia.org/wiki/Denial-of-service_attack\" rel=\"noreferrer\">DOS</a> attack on our provider. The servers access to the Internet\n  has been shut down which means over 5-600 of our clients sites are now\n  down. Now this could be an FTP hack, or some weakness in code\n  somewhere. I'm not sure till I get there.</p>\n  \n  <p>How can I track this down quickly? We're in for a whole lot of\n  litigation if I don't get the server back up ASAP. Any help is\n  appreciated. We are running Open SUSE 11.0.</p>\n  \n  <hr>\n  \n  <p><em>2011.01.03</em> - Thanks to everyone for your help. Luckily I WASN'T the only person responsible for this server, just the nearest. We managed\n  to resolve this problem, although it may not apply to many others in a\n  different situation. I'll detail what we did.</p>\n  \n  <p>We unplugged the server from the net. It was performing (attempting to\n  perform) a Denial Of Service attack on another server in Indonesia,\n  and the guilty party was also based there.</p>\n  \n  <p>We firstly tried to identify where on the server this was coming from,\n  considering we have over 500 sites on the server, we expected to be\n  moonlighting for some time. However, with SSH access still, we ran a\n  command to find all files edited or created in the time the attacks\n  started. Luckily, the offending file was created over the winter\n  holidays which meant that not many other files were created on the\n  server at that time.</p>\n  \n  <p>We were then able to identify the offending file which was inside the\n  uploaded images folder within a <a href=\"http://en.wikipedia.org/wiki/Zen_Cart\" rel=\"noreferrer\">ZenCart</a> website.</p>\n  \n  <p>After a short cigarette break we concluded that, due to the files\n  location, it must have been uploaded via a file upload facility that\n  was inadequetly secured. After some googling, we found that there was\n  a security vulnerability that allowed files to be uploaded, within the\n  ZenCart admin panel, for a picture for a record company. (The section\n  that it never really even used), posting this form just uploaded any\n  file, it did not check the extension of the file, and didn't even\n  check to see if the user was logged in.</p>\n  \n  <p>This meant that any files could be uploaded, including a PHP file for\n  the attack. We secured the vulnerability with ZenCart on the infected\n  site, and removed the offending files.</p>\n  \n  <p>The job was done, and I was home for 2 a.m.</p>\n  \n  <hr>\n  \n  <p><em>The Moral</em>\n  - Always apply security patches for ZenCart, or any other CMS system for that matter. As when security updates are released, the whole\n  world is made aware of the vulnerability.\n  - Always do backups, and backup your backups.\n  - Employ or arrange for someone that will be there in times like these. To prevent anyone from relying on a panicy post on Server\n  Fault.</p>\n</blockquote>\n"}, "answer": {"is_accepted": true, "score": 1024, "last_activity_date": 1452015131, "last_edit_date": 1452015131, "creation_date": 1294004811, "answer_id": 218011, "question_id": 218005, "content_license": "CC BY-SA 3.0", "body": "<p>It's hard to give specific advice from what you've posted here but I do have some generic advice based on a post I wrote ages ago back when I could still be bothered to blog.</p>\n\n<h2><strong>Don't Panic</strong></h2>\n\n<p><em>First things first, there are no \"quick fixes\" other than restoring your system from a backup taken prior to the intrusion, and this has at least two problems.</em></p>\n\n<ol>\n<li>It's difficult to pinpoint when the intrusion happened.</li>\n<li>It doesn't help you close the \"hole\" that allowed them to break in last time, nor deal with the consequences of any \"data theft\" that may also have taken place.</li>\n</ol>\n\n<p>This question keeps being asked repeatedly by the victims of hackers breaking into their web server. The answers very rarely change, but people keep asking the question. I'm not sure why. Perhaps people just don't like the answers they've seen when searching for help, or they can't find someone they trust to give them advice. Or perhaps people read an answer to this question and focus too much on the 5% of why their case is special and different from the answers they can find online and miss the 95% of the question and answer where their case is near enough the same as the one they read online.</p>\n\n<p>That brings me to the first important nugget of information. I really do appreciate that you are a special unique snowflake. I appreciate that your website is too, as it's a reflection of you and your business or at the very least, your hard work on behalf of an employer. But to someone on the outside looking in, whether a computer security person looking at the problem to try and help you or even the attacker himself, it is very likely that your problem will be at least 95% identical to every other case they've ever looked at.</p>\n\n<p>Don't take the attack personally, and don't take the recommendations that follow here or that you get from other people personally. If you are reading this after just becoming the victim of a website hack then I really am sorry, and I really hope you can find something helpful here, but this is not the time to let your ego get in the way of what you need to do.</p>\n\n<p><strong>You have just found out that your server(s) got hacked. Now what?</strong></p>\n\n<p>Do not panic. Absolutely do not act in haste, and absolutely do not try and pretend things never happened and not act at all.</p>\n\n<p>First: understand that the disaster has already happened. This is not the time for denial; it is the time to accept what has happened, to be realistic about it, and to take steps to manage the consequences of the impact.</p>\n\n<p>Some of these steps are going to hurt, and (unless your website holds a copy of my details) I really don't care if you ignore all or some of these steps, that's up to you. But following them properly will make things better in the end. The medicine might taste awful but sometimes you have to overlook that if you really want the cure to work.</p>\n\n<p>Stop the problem from becoming worse than it already is:</p>\n\n<ol>\n<li>The first thing you should do is disconnect the affected systems from the Internet. Whatever other problems you have, leaving the system connected to the web will only allow the attack to continue. I mean this quite literally; get someone to physically visit the server and unplug network cables if that is what it takes, but disconnect the victim from its muggers before you try to do anything else.</li>\n<li>Change all your passwords for all accounts on all computers that are on the same network as the compromised systems. No really. All accounts. All computers. Yes, you're right, this might be overkill; on the other hand, it might not. You don't know either way, do you?</li>\n<li>Check your other systems. Pay special attention to other Internet facing services, and to those that hold financial or other commercially sensitive data.</li>\n<li>If the system holds anyone's personal data,  immediately inform the person responsible for data protection (if that's not you) and URGE a full disclosure. I know this one is tough. I know this one is going to hurt. I know that many businesses want to sweep this kind of problem under the carpet but the business is going to have to deal with it - and needs to do so with an eye on any and all relevant privacy laws.</li>\n</ol>\n\n<p>However annoyed your customers might be to have you tell them about a problem, they'll be far more annoyed if you don't tell them, and they only find out for themselves after someone charges $8,000 worth of goods using the credit card details they stole from your site.</p>\n\n<p>Remember what I said previously? The bad thing has already happened. The only question now is how well you deal with it.</p>\n\n<p><strong>Understand the problem fully:</strong></p>\n\n<ol>\n<li>Do NOT put the affected systems back online until this stage is fully complete, unless you want to be the person whose post was the tipping point for me actually deciding to write this article. I'm not going to link to that post so that people can get a cheap laugh, but the real tragedy is when people fail to learn from their mistakes.</li>\n<li>Examine the 'attacked' systems to understand how the attacks succeeded in compromising your security. Make every effort to find out where the attacks \"came from\", so that you understand what problems you have and need to address to make your system safe in the future.</li>\n<li>Examine the 'attacked' systems again, this time to understand where the attacks went, so that you understand what systems were compromised in the attack. Ensure you follow up any pointers that suggest compromised systems could become a springboard to attack your systems further.</li>\n<li>Ensure the \"gateways\" used in any and all attacks are fully understood, so that you may begin to close them properly. (e.g. if your systems were compromised by a SQL injection attack, then not only do you need to close the particular flawed line of code that they broke in by, you would want to audit all of your code to see if the same type of mistake was made elsewhere).</li>\n<li>Understand that attacks might succeed because of more than one flaw. Often, attacks succeed not through finding one major bug in a system but by stringing together several issues (sometimes minor and trivial by themselves) to compromise a system. For example, using SQL injection attacks to send commands to a database server, discovering the website/application you're attacking is running in the context of an administrative user and using the rights of that account as a stepping-stone to compromise other parts of a system. Or as hackers like to call it: \"another day in the office taking advantage of common mistakes people make\".</li>\n</ol>\n\n<p><strong>Why not just \"repair\" the exploit or rootkit you've detected and put the system back online?</strong></p>\n\n<p>In situations like this the problem is that you don't have control of that system any more. It's not your computer any more.</p>\n\n<p>The only way to be <em>certain</em> that you've got control of the system is to rebuild the system. While there's a lot of value in finding and fixing the exploit used to break into the system, you can't be sure about what else has been done to the system once the intruders gained control (indeed, its not unheard of for hackers that recruit systems into a botnet to patch the exploits they used themselves, to safeguard \"their\" new computer from other hackers, as well as installing their rootkit).</p>\n\n<p><strong>Make a plan for recovery and to bring your website back online and stick to it:</strong></p>\n\n<p>Nobody wants to be offline for longer than they have to be. That's a given. If this website is a revenue generating mechanism then the pressure to bring it back online quickly will be intense. Even if the only thing at stake is your / your company's reputation, this is still going generate a lot of pressure to put things back up quickly.</p>\n\n<p>However, don't give in to the temptation to go back online too quickly. Instead move with as fast as possible to understand what caused the problem and to solve it before you go back online or else you will almost certainly fall victim to an intrusion once again, and remember, \"to get hacked once can be classed as misfortune; to get hacked again straight afterward looks like carelessness\" (with apologies to Oscar Wilde).</p>\n\n<ol>\n<li>I'm assuming you've understood all the issues that led to the successful intrusion in the first place before you even start this section. I don't want to overstate the case but if you haven't done that first then you really do need to. Sorry.</li>\n<li>Never pay blackmail / protection money. This is the sign of an easy mark and you don't want that phrase ever used to describe you.</li>\n<li>Don't be tempted to put the same server(s) back online without a full rebuild. It should be far quicker to build a new box or \"nuke the server from orbit and do a clean install\" on the old hardware than it would be to audit every single corner of the old system to make sure it is clean before putting it back online again. If you disagree with that then you probably don't know what it really means to ensure a system is fully cleaned, or your website deployment procedures are an unholy mess. You presumably have backups and test deployments of your site that you can just use to build the live site, and if you don't then being hacked is not your biggest problem.</li>\n<li>Be very careful about re-using data that was \"live\" on the system at the time of the hack. I won't say \"never ever do it\" because you'll just ignore me, but frankly I think you do need to consider the consequences of keeping data around when you know you cannot guarantee its integrity. Ideally, you should restore this from a backup made prior to the intrusion. If you cannot or will not do that, you should be very careful with that data because it's tainted. You should especially be aware of the consequences to others if this data belongs to customers or site visitors rather than directly to you.</li>\n<li>Monitor the system(s) carefully. You should resolve to do this as an ongoing process in the future (more below) but you take extra pains to be vigilant during the period immediately following your site coming back online. The intruders will almost certainly be back, and if you can spot them trying to break in again you will certainly be able to see quickly if you really have closed all the holes they used before plus any they made for themselves, and you might gather useful information you can pass on to your local law enforcement.</li>\n</ol>\n\n<hr>\n\n<p><strong>Reducing the risk in the future.</strong></p>\n\n<p>The first thing you need to understand is that security is a process that you have to apply throughout the entire life-cycle of designing, deploying and maintaining an Internet-facing system, not something you can slap a few layers over your code afterwards like cheap paint. To be properly secure, a service and an application need to be designed from the start with this in mind as one of the major goals of the project. I realise that's boring and you've heard it all before and that I \"just don't realise the pressure man\" of getting your beta web2.0 (beta) service into beta status on the web, but the fact is that this keeps getting repeated because it was true the first time it was said and it hasn't yet become a lie.</p>\n\n<p>You can't eliminate risk. You shouldn't even try to do that. What you should do however is to understand which security risks are important to you, and understand how to manage and reduce both the impact of the risk and the probability that the risk will occur.</p>\n\n<p><strong>What steps can you take to reduce the probability of an attack being successful?</strong></p>\n\n<p>For example:</p>\n\n<ol>\n<li>Was the flaw that allowed people to break into your site a known bug in vendor code, for which a patch was available? If so, do you need to re-think your approach to how you patch applications on your Internet-facing servers?</li>\n<li>Was the flaw that allowed people to break into your site an unknown bug in vendor code, for which a patch was not available? I most certainly do not advocate changing suppliers whenever something like this bites you because they all have their problems and you'll run out of platforms in a year at the most if you take this approach. However, if a system constantly lets you down then you should either migrate to something more robust or at the very least, re-architect your system so that vulnerable components stay wrapped up in cotton wool and as far away as possible from hostile eyes.</li>\n<li>Was the flaw a bug in code developed by you (or a contractor working for you)? If so, do you need to re-think your approach to how you approve code for deployment to your live site? Could the bug have been caught with an improved test system, or with changes to your coding \"standard\" (for example, while technology is not a panacea, you can reduce the probability of a successful SQL injection attack by using well-documented coding techniques).</li>\n<li>Was the flaw due to a problem with how the server or application software was deployed? If so, are you using automated procedures to build and deploy servers where possible? These are a great help in maintaining a consistent \"baseline\" state on all your servers, minimising the amount of custom work that has to be done on each one and hence hopefully minimising the opportunity for a mistake to be made. Same goes with code deployment - if you require something \"special\" to be done to deploy the latest version of your web app then try hard to automate it and ensure it always is done in a consistent manner.</li>\n<li>Could the intrusion have been caught earlier with better monitoring of your systems? Of course, 24-hour monitoring or an \"on call\" system for your staff might not be cost effective, but there are companies out there who can monitor your web facing services for you and alert you in the event of a problem. You might decide you can't afford this or don't need it and that's just fine... just take it into consideration.</li>\n<li>Use tools such as tripwire and nessus where appropriate - but don't just use them blindly because I said so. Take the time to learn how to use a few good security tools that are appropriate to your environment, keep these tools updated and use them on a regular basis.</li>\n<li>Consider hiring security experts to 'audit' your website security on a regular basis. Again, you might decide you can't afford this or don't need it and that's just fine... just take it into consideration.</li>\n</ol>\n\n<p><strong>What steps can you take to reduce the consequences of a successful attack?</strong></p>\n\n<p>If you decide that the \"risk\" of the lower floor of your home flooding is high, but not high enough to warrant moving, you should at least move the irreplaceable family heirlooms upstairs. Right?</p>\n\n<ol>\n<li>Can you reduce the amount of services directly exposed to the Internet? Can you maintain some kind of gap between your internal services and your Internet-facing services? This ensures that even if your external systems are compromised the chances of using this as a springboard to attack your internal systems are limited.</li>\n<li>Are you storing information you don't need to store? Are you storing such information \"online\" when it could be archived somewhere else. There are two points to this part; the obvious one is that people cannot steal information from you that you don't have, and the second point is that the less you store, the less you need to maintain and code for, and so there are fewer chances for bugs to slip into your code or systems design.</li>\n<li>Are you using \"least access\" principles for your web app? If users only need to read from a database, then make sure the account the web app uses to service this only has read access, don't allow it write access and certainly not system-level access.</li>\n<li>If you're not very experienced at something and it is not central to your business, consider outsourcing it. In other words, if you run a small website talking about writing desktop application code and decide to start selling small desktop applications from the site then consider \"outsourcing\" your credit card order system to someone like Paypal.</li>\n<li>If at all possible, make practicing recovery from compromised systems part of your Disaster Recovery plan. This is arguably just another \"disaster scenario\" that you could encounter, simply one with its own set of problems and issues that are distinct from the usual 'server room caught fire'/'was invaded by giant server eating furbies' kind of thing.</li>\n</ol>\n\n<p><strong>... And finally</strong></p>\n\n<p>I've probably left out no end of stuff that others consider important, but the steps above should at least help you start sorting things out if you are unlucky enough to fall victim to hackers.</p>\n\n<p>Above all: Don't panic. Think before you act. Act firmly once you've made a decision, and leave a comment below if you have something to add to my list of steps.</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "104014": {"question": {"tags": ["mysql", "log-files", "innodb"], "is_answered": true, "view_count": 143146, "protected_date": 1407335054, "accepted_answer_id": 104016, "answer_count": 1, "score": 108, "last_activity_date": 1516164896, "creation_date": 1263870133, "last_edit_date": 1263877353, "question_id": 104014, "content_license": "CC BY-SA 2.5", "link": "https://serverfault.com/questions/104014/innodb-error-log-file-ib-logfile0-is-of-different-size", "title": "InnoDB: Error: log file ./ib_logfile0 is of different size", "body": "<p>I just added the following lines in /etc/mysql/my.cnf after I converted one database to use InnoDB engine.</p>\n\n<pre><code>innodb_buffer_pool_size = 2560M\ninnodb_log_file_size    = 256M\ninnodb_log_buffer_size  = 8M\ninnodb_flush_log_at_trx_commit  = 2\ninnodb_thread_concurrency   = 16\ninnodb_flush_method = O_DIRECT\n</code></pre>\n\n<p>But it raise \"ERROR 2013 (HY000) at line 2: Lost connection to MySQL server during query\" error restarting mysqld. And mysql error log shows the following</p>\n\n<pre><code>InnoDB: Error: log file ./ib_logfile0 is of different size 0 5242880 bytes\nInnoDB: than specified in the .cnf file 0 268435456 bytes!\n100118 20:52:52 [ERROR] Plugin 'InnoDB' init function returned error.\n100118 20:52:52 [ERROR] Plugin 'InnoDB' registration as a STORAGE ENGINE failed.\n100118 20:52:52 [ERROR] Unknown/unsupported table type: InnoDB\n100118 20:52:52 [ERROR] Aborting\n</code></pre>\n\n<p>So I commented out this line</p>\n\n<pre><code># innodb_log_file_size  = 256M\n</code></pre>\n\n<p>And it restarted mysql successfully.</p>\n\n<p>I wonder what's the \"5242880 bytes of log file\" showed in mysql error? It's the first database on InnoDB engine on this server so when and where is that log file created? In this case, how can I enable innodb_log_file_size directive in my.cnf?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I tried to delete /var/lib/mysql/ib_logfile0 and restart mysqld but it still failed. It now shows the following in error log.</p>\n\n<pre><code>100118 21:27:11  InnoDB: Log file ./ib_logfile0 did not exist: new to be created\nInnoDB: Setting log file ./ib_logfile0 size to 256 MB\nInnoDB: Database physically writes the file full: wait...\nInnoDB: Progress in MB: 100 200\nInnoDB: Error: log file ./ib_logfile1 is of different size 0 5242880 bytes\nInnoDB: than specified in the .cnf file 0 268435456 bytes!\n</code></pre>\n\n<p><strong>Resolution</strong></p>\n\n<p>It works now after deleted both ib_logfile0 and ib_logfile1 in /var/lib/mysql</p>\n"}, "answer": {"is_accepted": true, "score": 122, "last_activity_date": 1516164896, "last_edit_date": 1516164896, "creation_date": 1263870409, "answer_id": 104016, "question_id": 104014, "content_license": "CC BY-SA 3.0", "body": "<p>InnoDB is insanely picky about it's config; if something's not right, it'll just give up and go home.  To make a change to the log file size without data loss:</p>\n\n<ol>\n<li>Revert any config changes you've made to the log file size and start MySQL again. </li>\n<li>In your running MySQL: SET GLOBAL <a href=\"https://dev.mysql.com/doc/refman/5.5/en/innodb-parameters.html#sysvar_innodb_fast_shutdown\" rel=\"noreferrer\">innodb_fast_shutdown</a>=0;</li>\n<li>Stop MySQL</li>\n<li>Make the configuration change to the log file size.</li>\n<li>Delete both log files.</li>\n<li>Start MySQL.   It will complain about the lack of log files, but it'll create them and all will be well.</li>\n</ol>\n"}, "validated_answer": true, "validated_root_cause": true}, "364341": {"question": {"tags": ["apache-2.2", "500-error", "mod-fcgid"], "is_answered": true, "view_count": 3891, "accepted_answer_id": 416554, "answer_count": 2, "score": 2, "last_activity_date": 1443736395, "creation_date": 1330397068, "question_id": 364341, "content_license": "CC BY-SA 3.0", "link": "https://serverfault.com/questions/364341/500-error-after-mod-fcgid-error", "title": "500 error after mod_fcgid error", "body": "<p>I have this error on my sever:</p>\n\n<pre><code>        [Mon Feb 27 09:56:03 2012] [error] mod_fcgid: \nprocess /var/www/php-fcgi-scripts/web111/.php-fcgi-starter(7847) \n    exit(communication error), get unexpected signal 11\n</code></pre>\n\n<p>And then get 500 error.</p>\n\n<p>What can i do with this?</p>\n"}, "answer": {"is_accepted": true, "score": 2, "last_activity_date": 1443736395, "last_edit_date": 1443736395, "creation_date": 1344694678, "answer_id": 416554, "question_id": 364341, "content_license": "CC BY-SA 3.0", "body": "<p>Like the previous person said, I'm pretty sure \"signal 11\u2033 is a segmentation fault, which would seem to indicate an invalid memory access attempt. I've found the most common issues to be:</p>\n\n<ol>\n<li>Incorrect File/Folder Permissions,</li>\n<li>Bad Code, or Incorrect Syntax in the .htaccess File, or...</li>\n<li>Incorrect php.ini Configuration</li>\n</ol>\n"}, "validated_answer": true, "validated_root_cause": true}, "845951": {"question": {"tags": ["nginx", "logging"], "is_answered": true, "view_count": 130, "accepted_answer_id": 845957, "answer_count": 1, "score": 0, "last_activity_date": 1492874383, "creation_date": 1492873215, "question_id": 845951, "content_license": "CC BY-SA 3.0", "link": "https://serverfault.com/questions/845951/deciphering-nginx-error-log-entry", "title": "Deciphering nginx error log entry", "body": "<p>In a Django app I maintain, nginx acts as a reverse proxy with gunicorn as the application server. My nginx error logs are filled with error messages such as these:</p>\n\n<pre><code>*12498147 upstream timed out (110: Connection timed out) while reading response header from upstream, client: 86.123.57.195, server: example.com, request: \"GET / HTTP\n</code></pre>\n\n<p>Can someone explain in layman's terms what precisely this means? Moreover, does it have anything to do with the following entries in my <code>nginx.conf</code> file?</p>\n\n<pre><code>client_body_timeout 1m;\nclient_header_timeout 1m;\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 0, "last_activity_date": 1492874383, "creation_date": 1492874383, "answer_id": 845957, "question_id": 845951, "content_license": "CC BY-SA 3.0", "body": "<p>It means that gunicorn did not return data within the timeout nginx expects. Look at your gunicorn logs from the same time stamp for more information on what was happening. </p>\n"}, "validated_answer": true, "validated_root_cause": true}, "764632": {"question": {"tags": ["nginx", "compilation"], "is_answered": true, "view_count": 259, "accepted_answer_id": 764634, "answer_count": 1, "score": 0, "last_activity_date": 1458323230, "creation_date": 1458316040, "last_edit_date": 1458323230, "question_id": 764632, "content_license": "CC BY-SA 3.0", "link": "https://serverfault.com/questions/764632/nginx-error-during-compilation-sources", "title": "NGINX error during compilation sources", "body": "<p>I need help cause i get error when compiling nginx v1.9.12</p>\n\n<p><strong>Compilation code</strong></p>\n\n<pre><code> ./configure --prefix=/etc/nginx --sbin-path=/usr/sbin/nginx --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --http-log-path=/var/log/nginx/access.log --pid-path=/var/run/nginx.pid --lock-path=/var/run/nginx.lock --user=www-data --group=www-data --with-http_ssl_module --with-http_gunzip_module --with-http_gzip_static_module --without-http_rewrite_module \n</code></pre>\n\n<p><strong>Error return</strong></p>\n\n<pre><code>objs/src/http/modules/ngx_http_upstream_zone_module.o \\\n    objs/ngx_modules.o \\\n    -ldl -lpthread -lcrypt -lssl -lcrypto -ldl -lz \\\n    -Wl,-E\nsed -e \"s|%%PREFIX%%|/etc/nginx|\" \\\n        -e \"s|%%PID_PATH%%|/var/run/nginx.pid|\" \\\n        -e \"s|%%CONF_PATH%%|/etc/nginx/nginx.conf|\" \\\n        -e \"s|%%ERROR_LOG_PATH%%|/var/log/nginx/error.log|\" \\\n        &lt; man/nginx.8 &gt; objs/nginx.8\nmake[1]: quittant le r\u00e9pertoire \u00ab /opt/nginx-1.9.12 \u00bb\n</code></pre>\n\n<p>Someone can help ?</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1458316686, "creation_date": 1458316686, "answer_id": 764634, "question_id": 764632, "content_license": "CC BY-SA 3.0", "body": "<p>If you are talking about this message </p>\n\n<pre><code>objs/src/http/modules/ngx_http_upstream_zone_module.o \\\n        objs/ngx_modules.o \\\n        -ldl -lpthread -lcrypt -lpcre -lcrypto -lcrypto -lz \\\n        -Wl,-E\nsed -e \"s|%%PREFIX%%|/opt/nginx-1.9.12|\" \\\n                -e \"s|%%PID_PATH%%|/opt/nginx-1.9.12/logs/nginx.pid|\" \\\n                -e \"s|%%CONF_PATH%%|/opt/nginx-1.9.12/conf/nginx.conf|\" \\\n                -e \"s|%%ERROR_LOG_PATH%%|/opt/nginx-1.9.12/logs/error.log|\" \\\n                &lt; man/nginx.8 &gt; objs/nginx.8\nmake[1]: Leaving directory `/root/rpmbuild/BUILDROOT/nginx-1.9.12'\n</code></pre>\n\n<p>it's not an error at all. The nginx has been compiled successfully. All you need is to install it</p>\n\n<pre><code># make install\n</code></pre>\n"}, "validated_answer": true, "validated_root_cause": true}, "505098": {"question": {"tags": ["nginx"], "is_answered": true, "view_count": 115699, "accepted_answer_id": 505099, "answer_count": 6, "score": 75, "last_activity_date": 1567800856, "creation_date": 1367730399, "last_edit_date": 1367731602, "question_id": 505098, "content_license": "CC BY-SA 3.0", "link": "https://serverfault.com/questions/505098/what-does-this-nginx-error-rewrite-or-internal-redirection-cycle-mean", "title": "What does this nginx error &quot;rewrite or internal redirection cycle&quot; mean?", "body": "<pre><code>tail -f /var/log/nginx/error.log\n2013/05/04 23:43:35 [error] 733#0: *3662 rewrite or internal redirection cycle while internally redirecting to \"/index.html\", client: 127.0.0.1, server: _, request: \"GET /robots.txt HTTP/1.1\", host: \"kowol.mysite.net\"\nHTTP/1.1\", host: \"www.joesfitness.net\"\n2013/05/05 00:49:14 [error] 733#0: *3783 rewrite or internal redirection cycle while internally redirecting to \"/index.html\", client: 127.0.0.1, server: _, request: \"GET / http://www.qq.com/ HTTP/1.1\", host: \"www.qq.com\"\n2013/05/05 03:12:33 [error] 733#0: *4232 rewrite or internal redirection cycle while internally redirecting to \"/index.html\", client: 127.0.0.1, server: _, request: \"GET / HTTP/1.1\", host: \"joesfitness.net\"\n</code></pre>\n\n<p>I am getting these from nginx error log, I don't have a \"kowol\" sub domain, I don't have any links to qq.com or joesfitness.net on my site. Whats going on?</p>\n\n<p>Edit: Nginx default config:</p>\n\n<pre><code>server {\n    listen   8080; ## listen for ipv4; this line is default and implied\n    listen   [::]:8080 default ipv6only=on; ## listen for ipv6\n\n    root /usr/share/nginx/www;\n    index index.php index.html index.htm;\n\n    # Make site accessible from http://localhost/\n    server_name _;\n\n    location / {\n        # First attempt to serve request as file, then\n        # as directory, then fall back to index.html\n        try_files $uri $uri/ /index.html;\n        # Uncomment to enable naxsi on this location\n        # include /etc/nginx/naxsi.rules\n    }\n\n    location /doc/ {\n        alias /usr/share/doc/;\n        autoindex on;\n        allow 127.0.0.1;\n        deny all;\n    }\n\n    # Only for nginx-naxsi : process denied requests\n    #location /RequestDenied {\n        # For example, return an error code\n        #return 418;\n    #}\n\n    #error_page 404 /404.html;\n\n    # redirect server error pages to the static page /50x.html\n    #\n    #error_page 500 502 503 504 /50x.html;\n    #location = /50x.html {\n    #   root /usr/share/nginx/www;\n    #}\n\n    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n    #\n    location ~ \\.php$ {\n        fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n        # NOTE: You should have \"cgi.fix_pathinfo = 0;\" in php.ini\n\n        # With php5-cgi alone:\n        fastcgi_pass 127.0.0.1:9000;\n        #With php5-fpm:\n        #fastcgi_pass unix:/var/run/php5-fpm.sock;\n        fastcgi_index index.php;\n        include fastcgi_params;\n    }\n\n    # deny access to .htaccess files, if Apache's document root\n    # concurs with nginx's one\n    #\n    #location ~ /\\.ht {\n    #   deny all;\n    #}\n}\n</code></pre>\n"}, "answer": {"is_accepted": true, "score": 86, "last_activity_date": 1367731827, "last_edit_date": 1367731827, "creation_date": 1367731511, "answer_id": 505099, "question_id": 505098, "content_license": "CC BY-SA 3.0", "body": "<p>It's a strange one all right, though I'm going to bet the problem is with:</p>\n\n<pre><code>        try_files $uri $uri/ /index.html;\n</code></pre>\n\n<p>The problem here is that the second parameter here, <code>$uri/</code>, causes each of the files in your <code>index</code> directive to be tried in turn. If none are found, it then moves on to <code>/index.html</code>, which causes the same <code>location</code> block to be re-entered, and since it still doesn't exist, you get an endless loop.</p>\n\n<p>I would rewrite this as:</p>\n\n<pre><code>        try_files $uri $uri/ =404;\n</code></pre>\n\n<p>to return a 404 error if none of the index files you specified in the <code>index</code> directive exist.</p>\n\n<hr>\n\n<p>BTW, those requests you are seeing are <a href=\"https://en.wikipedia.org/wiki/Internet_background_noise\">Internet background noise</a>. In particular, they are probes to determine whether your web server is an open proxy and can be abused to hide a malicious user's origin when he goes to perform malicious activity. Your server isn't an open proxy in this configuration, so you don't really need to worry about it.</p>\n"}, "validated_answer": true, "validated_root_cause": true}, "306061": {"question": {"tags": ["nginx", "amazon-ec2"], "is_answered": true, "view_count": 824, "accepted_answer_id": 306110, "answer_count": 2, "score": 0, "last_activity_date": 1314631828, "creation_date": 1314624654, "question_id": 306061, "content_license": "CC BY-SA 3.0", "link": "https://serverfault.com/questions/306061/how-to-filter-nginx-error-log", "title": "How to filter nginx error log", "body": "<p>I have a public nginx webserver in ec2 that gets bombarded by garbage URLs.  Is there a way to configure nginx error log so that it wont log 'No such file or directory' and 'directory index of X forbidden' errors?</p>\n\n<p>I don't want to change the loglevel to crit.</p>\n"}, "answer": {"is_accepted": true, "score": 4, "last_activity_date": 1314631828, "creation_date": 1314631828, "answer_id": 306110, "question_id": 306061, "content_license": "CC BY-SA 3.0", "body": "<p><a href=\"http://wiki.nginx.org/HttpCoreModule#log_not_found\" rel=\"nofollow noreferrer\"><code>log_not_found off</code></a> disables logging \"no such file/directory\" messages. My advice is to set on per-location basis, for the typical locations these bad guys are sniffing.</p>\n"}, "validated_answer": true, "validated_root_cause": false}, "246954": {"question": {"tags": ["ubuntu", "nginx", "backend"], "is_answered": true, "view_count": 808, "accepted_answer_id": 246958, "answer_count": 1, "score": 0, "last_activity_date": 1300055376, "creation_date": 1300054379, "question_id": 246954, "content_license": "CC BY-SA 2.5", "link": "https://serverfault.com/questions/246954/uknown-nginx-error-messages", "title": "Uknown nginx Error Messages", "body": "<p>I am getting some nginx errors as I can see them in my error.log which I am unable to understand. They look like:</p>\n\n<p>ERRORS:</p>\n\n<pre><code>2011/03/13 21:48:21 [crit] 14555#0:\n*323314343 open() \"/usr/local/nginx/proxy_temp/0/95/0000000950\" failed (13: Permission denied) while reading upstream, client: XX.XX.XX.XX, server: , request: \"GET /abc.jpg 2 HTTP/1.0\", upstream: \"http://192.168.162.141:80/abc.jpg\", host: \"example.com\", referrer: \"http://domain.com\"\n\n2011/03/13 22:00:07 [crit] 14552#0:\n*324171134 open() \"/usr/local/nginx/proxy_temp/1/95/0000000951\" failed (13: Permission denied) while reading upstream, client: XX.XX.XX.XY, server: , request: \"GET mno.png HTTP/1.1\", upstream: \"http://192.168.162.141:80/mno.png\", host: \"example.com\", referrer: \"http://domain2.com\"\n</code></pre>\n\n<p>I also looked at these locations but found that there is no file by this name.</p>\n\n<pre><code>root@li235-57:/var/log/nginx# /usr/local/nginx/proxy_temp/1/ 00/ 01/ 02/ 03/ 04/ 05/ 06/ 07/ 08/ 09/ 10/ 11/ 12/ 13/ 14/ 15/ 16/ 17/ 18/ 19/ 20/ 21/ 22/ 23/ 24/ 25/ 26/ 27/ 28/ 29/ 30/ 31/ 32/ 33/ 34/ 35/ 36/ 37/ \n\nroot@li235-57:/var/log/nginx# ls /usr/local/nginx/proxy_temp/0/ 01/ 02/ 03/ 04/ 05/ 06/ 07/ 08/ 09/ 10/ 11/ 12/ 13/ 14/ 15/ 16/ 17/ 18/ 19/ 20/ 21/ 22/ 23/ 24/ 25/ 26/ 27/ 28/ 29/ 30/ 31/ 32/ 33/ 34/ 35/ 36/ 37/\n</code></pre>\n\n<p>Can someone help me whats going on / how can I debug this more and better fix this</p>\n\n<p>Thanks</p>\n"}, "answer": {"is_accepted": true, "score": 1, "last_activity_date": 1300055376, "creation_date": 1300055376, "answer_id": 246958, "question_id": 246954, "content_license": "CC BY-SA 2.5", "body": "<p>Check out <a href=\"http://derekneely.com/2009/06/nginx-failed-13-permission-denied-while-reading-upstream/\" rel=\"nofollow noreferrer\">http://derekneely.com/2009/06/nginx-failed-13-permission-denied-while-reading-upstream/</a> as he seems to have gotten the same issue as you and found a fix.</p>\n"}, "validated_answer": true, "validated_root_cause": false}}